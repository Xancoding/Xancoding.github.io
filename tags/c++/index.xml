<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>C&#43;&#43; on Xan&#39;s Blog</title>
    <link>https://xancoding.cn/tags/c&#43;&#43;/</link>
    <description>Recent content in C&#43;&#43; on Xan&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Mon, 24 Apr 2023 14:17:47 +0800</lastBuildDate><atom:link href="https://xancoding.cn/tags/c++/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>C&#43;&#43; Sort Function &amp; Priority Queue</title>
      <link>https://xancoding.cn/posts/2023-04-24-14-17-47/</link>
      <pubDate>Mon, 24 Apr 2023 14:17:47 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-04-24-14-17-47/</guid>
      <description>&lt;p&gt;å½“ä½¿ç”¨ &lt;code&gt;sortå‡½æ•°&lt;/code&gt; å’Œ &lt;code&gt;Priority_queueä¼˜å…ˆé˜Ÿåˆ—&lt;/code&gt; æ—¶ï¼Œ &lt;code&gt;Container&lt;/code&gt; ä¸­çš„å…ƒç´ ä¼šè¢«è‡ªåŠ¨æ’åº&lt;/p&gt;
&lt;p&gt;å½“å¾…æ’åˆ—çš„å…ƒç´ ä¸ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥é€šè¿‡è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é‡è½½è¿ç®—ç¬¦æ¥è¾¾åˆ°ç›®çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬å¯¹ Object çš„è®¨è®ºéƒ½åŸºäºä¸‹è¿° &lt;code&gt;Person&lt;/code&gt; ç±»&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Person {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;public&lt;/span&gt;:  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	string name;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;int&lt;/span&gt; age;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	Person(string name, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;int&lt;/span&gt; age) {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;-&amp;gt;name = name;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;-&amp;gt;age = age;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;sortå‡½æ•°&#34;&gt;Sortå‡½æ•°&lt;/h1&gt;
&lt;h2 id=&#34;é‡è½½è¿ç®—ç¬¦&#34;&gt;é‡è½½è¿ç®—ç¬¦&lt;/h2&gt;
&lt;p&gt;å½“ &lt;code&gt;Container&lt;/code&gt; ä¸­çš„å…ƒç´ æ˜¯åŸºæœ¬æ•°æ®ç±»å‹æ—¶ï¼Œä½¿ç”¨ &lt;code&gt;less&lt;/code&gt; æ˜¯å‡åºæ’åºï¼Œä½¿ç”¨ &lt;code&gt;greater&lt;/code&gt; æ˜¯é™åºæ’åº&lt;/p&gt;
&lt;p&gt;ä¸‹é¢ğŸ‘‡å¯¹å…ƒç´ ä¸º Object çš„æƒ…å†µä½œè¯¦ç»†è¯´æ˜&lt;/p&gt;
&lt;h3 id=&#34;less&#34;&gt;less&lt;/h3&gt;
&lt;p&gt;sortå‡½æ•°åœ¨é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨&lt;code&gt;std::less&lt;/code&gt;ä½œä¸ºæ¯”è¾ƒå‡½æ•°ç±»&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sort(people.begin(), people.end());
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è€Œ&lt;code&gt;std::less&lt;/code&gt;éœ€è¦é‡è½½å°äºå·&lt;code&gt;&amp;lt;&lt;/code&gt;è¿ç®—ç¬¦ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Person {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;operator&lt;/span&gt;&amp;lt;(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;const&lt;/span&gt; Person &amp;amp;p) &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;const&lt;/span&gt; {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;-&amp;gt;age &amp;lt; p.age;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç»è¿‡ä¸Šè¿°çš„é‡è½½åï¼Œ&lt;code&gt;sort&lt;/code&gt; ä¼šå°†å…ƒç´ æŒ‰ &lt;code&gt;age&lt;/code&gt; å‡åºæ’åº&lt;/p&gt;
&lt;p&gt;æ‹¬å·å†…çš„ &lt;code&gt;const&lt;/code&gt; è¡¨ç¤ºå…¶ä¿®é¥°çš„å‚æ•°ä¸ºå¸¸é‡ï¼Œåœ¨å‡½æ•°å†…ä¸èƒ½ä¿®æ”¹è¯¥å‚æ•°&lt;/p&gt;
&lt;p&gt;æ‹¬å·å¤–çš„ &lt;code&gt;const&lt;/code&gt; è¡¨ç¤ºè¯¥å‡½æ•°ä¸ºå¸¸æˆå‘˜å‡½æ•°ï¼Œåœ¨å‡½æ•°å†…ä¸èƒ½éœ€ä¿®æ”¹æˆå‘˜å˜é‡&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬æŠŠå‡½æ•°ä½“å†…çš„ &lt;code&gt;&amp;lt;&lt;/code&gt; æ›¿æ¢ä¸º &lt;code&gt;&amp;gt;&lt;/code&gt;ï¼Œå…ƒç´ å°†ä¼šæŒ‰ &lt;code&gt;age&lt;/code&gt; é™åºæ’åº&lt;/p&gt;
&lt;h3 id=&#34;greater&#34;&gt;greater&lt;/h3&gt;
&lt;p&gt;è¿˜å¯ä»¥ä½¿ç”¨&lt;code&gt;std::greater&lt;/code&gt;ä½œä¸ºæ¯”è¾ƒå‡½æ•°ç±»&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sort(people.begin(), people.end(), greater&amp;lt;&amp;gt;());
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‚£ä¹ˆå°±éœ€è¦é‡è½½å¤§äºå·&lt;code&gt;&amp;gt;&lt;/code&gt;è¿ç®—ç¬¦ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Person {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;operator&lt;/span&gt;&amp;gt;(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;const&lt;/span&gt; Person &amp;amp;p) &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;const&lt;/span&gt; {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;-&amp;gt;age &amp;gt; p.age;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç»è¿‡ä¸Šè¿°çš„é‡è½½åï¼Œ&lt;code&gt;sort&lt;/code&gt; ä¼šå°†å…ƒç´ æŒ‰ &lt;code&gt;age&lt;/code&gt; é™åºæ’åº&lt;/p&gt;
&lt;h2 id=&#34;è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°&#34;&gt;è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;bool&lt;/span&gt; cmp(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;const&lt;/span&gt; Person &amp;amp;p1, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;const&lt;/span&gt; Person &amp;amp;p2) {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; p1.age &amp;lt; p2.age;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sort(people.begin(), people.end(), cmp);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç»è¿‡ä¸Šè¿°æ“ä½œåï¼Œå…ƒç´ å°†ä¼šæŒ‰ &lt;code&gt;age&lt;/code&gt; å‡åºæ’åº&lt;/p&gt;
&lt;h1 id=&#34;priority_queueå †ä¼˜å…ˆé˜Ÿåˆ—&#34;&gt;Priority_queueå †ä¼˜å…ˆé˜Ÿåˆ—&lt;/h1&gt;
&lt;p&gt;å †æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå¯ä»¥ç”¨æ•°ç»„æˆ–æ ‘å®ç°ï¼Œå¸¸ç”¨äºå®ç°ä¼˜å…ˆé˜Ÿåˆ—ã€æ’åºç®—æ³•ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆpriority queueï¼‰å°±æ˜¯å †ï¼ˆheapï¼‰çš„ä¸€ç§åº”ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;C++ä¸­çš„ä¼˜å…ˆé˜Ÿåˆ—å®ç°å°±æ˜¯å †ä¼˜å…ˆé˜Ÿåˆ—ï¼Œåº•å±‚ä½¿ç”¨å †æ¥å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;std::priority_queue&lt;/code&gt;æ˜¯ä¸€ä¸ªæ¨¡æ¿ç±»ï¼Œå®ƒçš„æ¨¡æ¿å‚æ•°æœ‰ä¸‰ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;T&lt;/code&gt;ï¼šæŒ‡å®šé˜Ÿåˆ—ä¸­å­˜å‚¨çš„å…ƒç´ ç±»å‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Container&lt;/code&gt;ï¼šæŒ‡å®šç”¨äºå­˜å‚¨å…ƒç´ çš„å®¹å™¨ç±»å‹ï¼Œé»˜è®¤æ˜¯&lt;code&gt;std::vector&amp;lt;T&amp;gt;&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Compare&lt;/code&gt;ï¼šæŒ‡å®šç”¨äºæ¯”è¾ƒå…ƒç´ ä¼˜å…ˆçº§çš„æ¯”è¾ƒå‡½æ•°ç±»å‹ï¼Œé»˜è®¤æ˜¯&lt;code&gt;std::less&amp;lt;T&amp;gt;&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨C++ä¸­ï¼Œä¼˜å…ˆé˜Ÿåˆ—å¯ä»¥é€šè¿‡æŒ‡å®šæ¯”è¾ƒå‡½æ•°æ¥æ§åˆ¶æ˜¯ä½¿ç”¨å¤§æ ¹å †è¿˜æ˜¯å°æ ¹å †ã€‚&lt;/p&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨ &lt;code&gt;std::less&amp;lt;&amp;gt;&lt;/code&gt; ä½œä¸ºæ¯”è¾ƒå‡½æ•°ï¼Œåˆ™æ„å‘³ç€ä½¿ç”¨å¤§æ ¹å †ï¼Œæœ€å¤§å€¼ä¼šä¼˜å…ˆå‡ºé˜Ÿï¼Œå¤§æ ¹å †(Max Heap)æ˜¯ä¸€ç§å®Œå…¨äºŒå‰æ ‘,å®ƒæ»¡è¶³ä¸¤ä¸ªç‰¹æ€§:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¤§äºç­‰äºå…¶å·¦å³å­èŠ‚ç‚¹çš„å€¼&lt;/li&gt;
&lt;li&gt;æ ¹èŠ‚ç‚¹çš„å€¼æœ€å¤§&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚æœä½¿ç”¨ &lt;code&gt;std::greater&amp;lt;&amp;gt;&lt;/code&gt; ä½œä¸ºæ¯”è¾ƒå‡½æ•°ï¼Œåˆ™æ„å‘³ç€ä½¿ç”¨å°æ ¹å †ï¼Œæœ€å°å€¼ä¼šä¼˜å…ˆå‡ºé˜Ÿ&lt;/p&gt;
&lt;h2 id=&#34;å¸¸ç”¨æ“ä½œ&#34;&gt;å¸¸ç”¨æ“ä½œ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;pq.push(elem)&lt;/code&gt;ï¼šå…¥é˜Ÿ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pq.pop()&lt;/code&gt;ï¼šå‡ºé˜Ÿ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pq.top()&lt;/code&gt;ï¼šè¿”å›å †é¡¶å…ƒç´ &lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;é‡è½½è¿ç®—ç¬¦-1&#34;&gt;é‡è½½è¿ç®—ç¬¦&lt;/h2&gt;
&lt;h3 id=&#34;less-1&#34;&gt;less&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;priority_queue&amp;lt;T&amp;gt;Â pq&lt;/code&gt;ï¼šé»˜è®¤æ„é€ å¤§æ ¹å †ï¼Œéœ€è¦é‡è½½ &lt;code&gt;&amp;lt;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Person {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;operator&lt;/span&gt;&amp;lt;(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;const&lt;/span&gt; Person &amp;amp;p) &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;const&lt;/span&gt; {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;-&amp;gt;age &amp;lt; p.age;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¤§æ ¹å †ï¼Œæœ€å¤§å€¼ä¼šå…ˆå‡ºé˜Ÿ&lt;/p&gt;
&lt;h3 id=&#34;greater-1&#34;&gt;greater&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;priority_queue&amp;lt;T, vector&amp;lt;T&amp;gt;, greater&amp;lt;&amp;gt;&amp;gt; pq&lt;/code&gt;ï¼šæ„é€ æœ€å°å †ï¼Œéœ€è¦é‡è½½ &lt;code&gt;&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Person {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;operator&lt;/span&gt;&amp;gt;(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;const&lt;/span&gt; Person &amp;amp;p) &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;const&lt;/span&gt; {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;-&amp;gt;age &amp;gt; p.age;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å°æ ¹å †ï¼Œæœ€å°å€¼ä¼šå…ˆå‡ºé˜Ÿ&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<p>å½“ä½¿ç”¨ <code>sortå‡½æ•°</code> å’Œ <code>Priority_queueä¼˜å…ˆé˜Ÿåˆ—</code> æ—¶ï¼Œ <code>Container</code> ä¸­çš„å…ƒç´ ä¼šè¢«è‡ªåŠ¨æ’åº</p>
<p>å½“å¾…æ’åˆ—çš„å…ƒç´ ä¸ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥é€šè¿‡è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é‡è½½è¿ç®—ç¬¦æ¥è¾¾åˆ°ç›®çš„ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬å¯¹ Object çš„è®¨è®ºéƒ½åŸºäºä¸‹è¿° <code>Person</code> ç±»</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {  
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span>:  
</span></span><span style="display:flex;"><span>	string name;  
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">int</span> age;  
</span></span><span style="display:flex;"><span>	Person(string name, <span style="color:#fff;font-weight:bold">int</span> age) {  
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">this</span>-&gt;name = name;  
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">this</span>-&gt;age = age;  
</span></span><span style="display:flex;"><span>	}  
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><h1 id="sortå‡½æ•°">Sortå‡½æ•°</h1>
<h2 id="é‡è½½è¿ç®—ç¬¦">é‡è½½è¿ç®—ç¬¦</h2>
<p>å½“ <code>Container</code> ä¸­çš„å…ƒç´ æ˜¯åŸºæœ¬æ•°æ®ç±»å‹æ—¶ï¼Œä½¿ç”¨ <code>less</code> æ˜¯å‡åºæ’åºï¼Œä½¿ç”¨ <code>greater</code> æ˜¯é™åºæ’åº</p>
<p>ä¸‹é¢ğŸ‘‡å¯¹å…ƒç´ ä¸º Object çš„æƒ…å†µä½œè¯¦ç»†è¯´æ˜</p>
<h3 id="less">less</h3>
<p>sortå‡½æ•°åœ¨é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨<code>std::less</code>ä½œä¸ºæ¯”è¾ƒå‡½æ•°ç±»</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>sort(people.begin(), people.end());
</span></span></code></pre></div><p>è€Œ<code>std::less</code>éœ€è¦é‡è½½å°äºå·<code>&lt;</code>è¿ç®—ç¬¦ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">bool</span> <span style="color:#fff;font-weight:bold">operator</span>&lt;(<span style="color:#fff;font-weight:bold">const</span> Person &amp;p) <span style="color:#fff;font-weight:bold">const</span> {  
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">this</span>-&gt;age &lt; p.age;  
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ç»è¿‡ä¸Šè¿°çš„é‡è½½åï¼Œ<code>sort</code> ä¼šå°†å…ƒç´ æŒ‰ <code>age</code> å‡åºæ’åº</p>
<p>æ‹¬å·å†…çš„ <code>const</code> è¡¨ç¤ºå…¶ä¿®é¥°çš„å‚æ•°ä¸ºå¸¸é‡ï¼Œåœ¨å‡½æ•°å†…ä¸èƒ½ä¿®æ”¹è¯¥å‚æ•°</p>
<p>æ‹¬å·å¤–çš„ <code>const</code> è¡¨ç¤ºè¯¥å‡½æ•°ä¸ºå¸¸æˆå‘˜å‡½æ•°ï¼Œåœ¨å‡½æ•°å†…ä¸èƒ½éœ€ä¿®æ”¹æˆå‘˜å˜é‡</p>
<p>å¦‚æœæˆ‘ä»¬æŠŠå‡½æ•°ä½“å†…çš„ <code>&lt;</code> æ›¿æ¢ä¸º <code>&gt;</code>ï¼Œå…ƒç´ å°†ä¼šæŒ‰ <code>age</code> é™åºæ’åº</p>
<h3 id="greater">greater</h3>
<p>è¿˜å¯ä»¥ä½¿ç”¨<code>std::greater</code>ä½œä¸ºæ¯”è¾ƒå‡½æ•°ç±»</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>sort(people.begin(), people.end(), greater&lt;&gt;());
</span></span></code></pre></div><p>é‚£ä¹ˆå°±éœ€è¦é‡è½½å¤§äºå·<code>&gt;</code>è¿ç®—ç¬¦ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">bool</span> <span style="color:#fff;font-weight:bold">operator</span>&gt;(<span style="color:#fff;font-weight:bold">const</span> Person &amp;p) <span style="color:#fff;font-weight:bold">const</span> {  
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">this</span>-&gt;age &gt; p.age;  
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ç»è¿‡ä¸Šè¿°çš„é‡è½½åï¼Œ<code>sort</code> ä¼šå°†å…ƒç´ æŒ‰ <code>age</code> é™åºæ’åº</p>
<h2 id="è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°">è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°</h2>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">bool</span> cmp(<span style="color:#fff;font-weight:bold">const</span> Person &amp;p1, <span style="color:#fff;font-weight:bold">const</span> Person &amp;p2) {  
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">return</span> p1.age &lt; p2.age;  
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sort(people.begin(), people.end(), cmp);
</span></span></code></pre></div><p>ç»è¿‡ä¸Šè¿°æ“ä½œåï¼Œå…ƒç´ å°†ä¼šæŒ‰ <code>age</code> å‡åºæ’åº</p>
<h1 id="priority_queueå †ä¼˜å…ˆé˜Ÿåˆ—">Priority_queueå †ä¼˜å…ˆé˜Ÿåˆ—</h1>
<p>å †æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå¯ä»¥ç”¨æ•°ç»„æˆ–æ ‘å®ç°ï¼Œå¸¸ç”¨äºå®ç°ä¼˜å…ˆé˜Ÿåˆ—ã€æ’åºç®—æ³•ç­‰ã€‚</p>
<p>ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆpriority queueï¼‰å°±æ˜¯å †ï¼ˆheapï¼‰çš„ä¸€ç§åº”ç”¨ã€‚</p>
<p>C++ä¸­çš„ä¼˜å…ˆé˜Ÿåˆ—å®ç°å°±æ˜¯å †ä¼˜å…ˆé˜Ÿåˆ—ï¼Œåº•å±‚ä½¿ç”¨å †æ¥å®ç°ã€‚</p>
<p><code>std::priority_queue</code>æ˜¯ä¸€ä¸ªæ¨¡æ¿ç±»ï¼Œå®ƒçš„æ¨¡æ¿å‚æ•°æœ‰ä¸‰ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ol>
<li><code>T</code>ï¼šæŒ‡å®šé˜Ÿåˆ—ä¸­å­˜å‚¨çš„å…ƒç´ ç±»å‹ã€‚</li>
<li><code>Container</code>ï¼šæŒ‡å®šç”¨äºå­˜å‚¨å…ƒç´ çš„å®¹å™¨ç±»å‹ï¼Œé»˜è®¤æ˜¯<code>std::vector&lt;T&gt;</code>ã€‚</li>
<li><code>Compare</code>ï¼šæŒ‡å®šç”¨äºæ¯”è¾ƒå…ƒç´ ä¼˜å…ˆçº§çš„æ¯”è¾ƒå‡½æ•°ç±»å‹ï¼Œé»˜è®¤æ˜¯<code>std::less&lt;T&gt;</code>ã€‚</li>
</ol>
<p>åœ¨C++ä¸­ï¼Œä¼˜å…ˆé˜Ÿåˆ—å¯ä»¥é€šè¿‡æŒ‡å®šæ¯”è¾ƒå‡½æ•°æ¥æ§åˆ¶æ˜¯ä½¿ç”¨å¤§æ ¹å †è¿˜æ˜¯å°æ ¹å †ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨ <code>std::less&lt;&gt;</code> ä½œä¸ºæ¯”è¾ƒå‡½æ•°ï¼Œåˆ™æ„å‘³ç€ä½¿ç”¨å¤§æ ¹å †ï¼Œæœ€å¤§å€¼ä¼šä¼˜å…ˆå‡ºé˜Ÿï¼Œå¤§æ ¹å †(Max Heap)æ˜¯ä¸€ç§å®Œå…¨äºŒå‰æ ‘,å®ƒæ»¡è¶³ä¸¤ä¸ªç‰¹æ€§:</p>
<ol>
<li>ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¤§äºç­‰äºå…¶å·¦å³å­èŠ‚ç‚¹çš„å€¼</li>
<li>æ ¹èŠ‚ç‚¹çš„å€¼æœ€å¤§</li>
</ol>
<p>å¦‚æœä½¿ç”¨ <code>std::greater&lt;&gt;</code> ä½œä¸ºæ¯”è¾ƒå‡½æ•°ï¼Œåˆ™æ„å‘³ç€ä½¿ç”¨å°æ ¹å †ï¼Œæœ€å°å€¼ä¼šä¼˜å…ˆå‡ºé˜Ÿ</p>
<h2 id="å¸¸ç”¨æ“ä½œ">å¸¸ç”¨æ“ä½œ</h2>
<ul>
<li><code>pq.push(elem)</code>ï¼šå…¥é˜Ÿ</li>
<li><code>pq.pop()</code>ï¼šå‡ºé˜Ÿ</li>
<li><code>pq.top()</code>ï¼šè¿”å›å †é¡¶å…ƒç´ </li>
</ul>
<h2 id="é‡è½½è¿ç®—ç¬¦-1">é‡è½½è¿ç®—ç¬¦</h2>
<h3 id="less-1">less</h3>
<ul>
<li><code>priority_queue&lt;T&gt;Â pq</code>ï¼šé»˜è®¤æ„é€ å¤§æ ¹å †ï¼Œéœ€è¦é‡è½½ <code>&lt;</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">bool</span> <span style="color:#fff;font-weight:bold">operator</span>&lt;(<span style="color:#fff;font-weight:bold">const</span> Person &amp;p) <span style="color:#fff;font-weight:bold">const</span> {  
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">this</span>-&gt;age &lt; p.age;  
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>å¤§æ ¹å †ï¼Œæœ€å¤§å€¼ä¼šå…ˆå‡ºé˜Ÿ</p>
<h3 id="greater-1">greater</h3>
<ul>
<li><code>priority_queue&lt;T, vector&lt;T&gt;, greater&lt;&gt;&gt; pq</code>ï¼šæ„é€ æœ€å°å †ï¼Œéœ€è¦é‡è½½ <code>&gt;</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">bool</span> <span style="color:#fff;font-weight:bold">operator</span>&gt;(<span style="color:#fff;font-weight:bold">const</span> Person &amp;p) <span style="color:#fff;font-weight:bold">const</span> {  
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">this</span>-&gt;age &gt; p.age;  
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>å°æ ¹å †ï¼Œæœ€å°å€¼ä¼šå…ˆå‡ºé˜Ÿ</p>
]]></content:encoded>
    </item>
    
  </channel>
</rss>
