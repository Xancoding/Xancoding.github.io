<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>C++ å­¦ä¹ è·¯çº¿ | Xan's Blog</title><meta name=keywords content="Tech,C++,æ–°æŠ€èƒ½"><meta name=description content="å…¥é—¨ å½“æ‚¨åœ¨ IDE ä¸­åˆ›å»ºæ–°é¡¹ç›®æ—¶ï¼Œå¤§å¤šæ•° IDE ä¼šä¸ºæ‚¨è®¾ç½®ä¸¤ç§ä¸åŒçš„æ„å»ºé…ç½®ï¼šå‘å¸ƒé…ç½®å’Œè°ƒè¯•é…ç½®ï¼Œå¼€å‘ç¨‹åºæ—¶ä½¿ç”¨è°ƒè¯•æ„å»ºé…ç½®ã€‚å½“æ‚¨å‡†å¤‡å¥½å°†å¯æ‰§è¡Œæ–‡ä»¶å‘å¸ƒ"><meta name=author content="
ä½œè€…:&nbsp;Xan"><link rel=canonical href=https://xancoding.cn/posts/learning-cpp/><link crossorigin=anonymous href=/assets/css/stylesheet.3aa01cbced85ddebdb26eab94916f476145cedd3e7231731a39f34d88d6f410a.css integrity="sha256-OqAcvO2F3evbJuq5SRb0dhRc7dPnIxcxo5802I1vQQo=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://xancoding.cn/img/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://xancoding.cn/img/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://xancoding.cn/img/favicon.ico><link rel=apple-touch-icon href=https://xancoding.cn/img/favicon.ico><link rel=mask-icon href=https://xancoding.cn/img/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=text/javascript async src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["[[","]]"]],processEscapes:!0,processEnvironments:!0,skipTags:["script","noscript","style","textarea","pre"],TeX:{equationNumbers:{autoNumber:"AMS"},extensions:["AMSmath.js","AMSsymbols.js"]}}}),MathJax.Hub.Queue(function(){var e,t=MathJax.Hub.getAllJax();for(e=0;e<t.length;e+=1)t[e].SourceElement().parentNode.className+=" has-jax"})</script><style>code.has-jax{font:inherit;font-size:100%;background:inherit;border:inherit;color:#515151}</style><link rel=stylesheet href=//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.css><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="C++ å­¦ä¹ è·¯çº¿"><meta property="og:description" content="å…¥é—¨ å½“æ‚¨åœ¨ IDE ä¸­åˆ›å»ºæ–°é¡¹ç›®æ—¶ï¼Œå¤§å¤šæ•° IDE ä¼šä¸ºæ‚¨è®¾ç½®ä¸¤ç§ä¸åŒçš„æ„å»ºé…ç½®ï¼šå‘å¸ƒé…ç½®å’Œè°ƒè¯•é…ç½®ï¼Œå¼€å‘ç¨‹åºæ—¶ä½¿ç”¨è°ƒè¯•æ„å»ºé…ç½®ã€‚å½“æ‚¨å‡†å¤‡å¥½å°†å¯æ‰§è¡Œæ–‡ä»¶å‘å¸ƒ"><meta property="og:type" content="article"><meta property="og:url" content="https://xancoding.cn/posts/learning-cpp/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-11-15T12:54:07+08:00"><meta property="article:modified_time" content="2022-11-15T12:54:07+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="C++ å­¦ä¹ è·¯çº¿"><meta name=twitter:description content="å…¥é—¨ å½“æ‚¨åœ¨ IDE ä¸­åˆ›å»ºæ–°é¡¹ç›®æ—¶ï¼Œå¤§å¤šæ•° IDE ä¼šä¸ºæ‚¨è®¾ç½®ä¸¤ç§ä¸åŒçš„æ„å»ºé…ç½®ï¼šå‘å¸ƒé…ç½®å’Œè°ƒè¯•é…ç½®ï¼Œå¼€å‘ç¨‹åºæ—¶ä½¿ç”¨è°ƒè¯•æ„å»ºé…ç½®ã€‚å½“æ‚¨å‡†å¤‡å¥½å°†å¯æ‰§è¡Œæ–‡ä»¶å‘å¸ƒ"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://xancoding.cn/posts/"},{"@type":"ListItem","position":3,"name":"C++ å­¦ä¹ è·¯çº¿","item":"https://xancoding.cn/posts/learning-cpp/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"C++ å­¦ä¹ è·¯çº¿","name":"C\u002b\u002b å­¦ä¹ è·¯çº¿","description":"å…¥é—¨ å½“æ‚¨åœ¨ IDE ä¸­åˆ›å»ºæ–°é¡¹ç›®æ—¶ï¼Œå¤§å¤šæ•° IDE ä¼šä¸ºæ‚¨è®¾ç½®ä¸¤ç§ä¸åŒçš„æ„å»ºé…ç½®ï¼šå‘å¸ƒé…ç½®å’Œè°ƒè¯•é…ç½®ï¼Œå¼€å‘ç¨‹åºæ—¶ä½¿ç”¨è°ƒè¯•æ„å»ºé…ç½®ã€‚å½“æ‚¨å‡†å¤‡å¥½å°†å¯æ‰§è¡Œæ–‡ä»¶å‘å¸ƒ","keywords":["Tech","C++","æ–°æŠ€èƒ½"],"articleBody":"å…¥é—¨ å½“æ‚¨åœ¨ IDE ä¸­åˆ›å»ºæ–°é¡¹ç›®æ—¶ï¼Œå¤§å¤šæ•° IDE ä¼šä¸ºæ‚¨è®¾ç½®ä¸¤ç§ä¸åŒçš„æ„å»ºé…ç½®ï¼šå‘å¸ƒé…ç½®å’Œè°ƒè¯•é…ç½®ï¼Œå¼€å‘ç¨‹åºæ—¶ä½¿ç”¨è°ƒè¯•æ„å»ºé…ç½®ã€‚å½“æ‚¨å‡†å¤‡å¥½å°†å¯æ‰§è¡Œæ–‡ä»¶å‘å¸ƒç»™å…¶ä»–äººæ—¶ï¼Œæˆ–è€…æƒ³è¦æµ‹è¯•æ€§èƒ½æ—¶ï¼Œè¯·ä½¿ç”¨å‘å¸ƒæ„å»ºé…ç½® Debugï¼šè°ƒè¯•ç‰ˆæœ¬ï¼ŒÂ åŒ…å«è°ƒè¯•ä¿¡æ¯ï¼Œæ‰€ä»¥Â å®¹é‡æ¯”Releaseå¤§å¾ˆå¤šï¼ŒÂ å¹¶ä¸”ä¸è¿›è¡Œä»»ä½•ä¼˜åŒ–ï¼ˆä¼˜åŒ–ä¼šä½¿è°ƒè¯•å¤æ‚åŒ–ï¼Œå› ä¸ºæºä»£ç å’Œç”Ÿæˆçš„æŒ‡ä»¤é—´å…³ç³»ä¼šæ›´å¤æ‚ï¼‰ï¼Œä¾¿äºç¨‹åºå‘˜è°ƒè¯• Releaseï¼šå‘å¸ƒç‰ˆæœ¬ï¼ŒÂ ä¸å¯¹æºä»£ç è¿›è¡Œè°ƒè¯•ï¼Œç¼–è¯‘æ—¶å¯¹åº”ç”¨ç¨‹åºçš„é€Ÿåº¦è¿›è¡Œä¼˜åŒ–ï¼Œä½¿å¾—ç¨‹åºåœ¨ä»£ç å¤§å°å’Œè¿è¡Œé€Ÿåº¦ä¸Šéƒ½æ˜¯æœ€ä¼˜çš„ å¯¹äº CLion ç”¨æˆ·ï¼Œæ‚¨å¯ä»¥æ·»åŠ  Releaseï¼šæŒ‰ Alt+Ctrl+S è°ƒå‡º Settings \u003e Buildï¼ŒExecutionï¼ŒDeployment \u003e CMake \u003e å•å‡» Profiles éƒ¨åˆ†ä¸­çš„ + æŒ‰é’®ï¼Œå°†è‡ªåŠ¨æ·»åŠ  Release é€‰é¡¹ ç¦ç”¨ç¼–è¯‘å™¨æ‰©å±•ä»¥ç¡®ä¿æ‚¨çš„ç¨‹åºï¼ˆå’Œç¼–ç å®è·µï¼‰ä¿æŒç¬¦åˆ C++ æ ‡å‡†å¹¶ä¸”å¯ä»¥åœ¨ä»»ä½•ç³»ç»Ÿä¸Šè¿è¡Œ CLion ä½¿ç”¨ CMake æ„å»ºé¡¹ç›®ã€‚ å°†è¡Œ set(CMAKE_CXX_EXTENSIONS OFF) æ·»åŠ åˆ° CMakeList.txt ä»¥ç¦ç”¨æ‰©å±• å°†ä½ çš„è­¦å‘Šçº§åˆ«è°ƒåˆ°æœ€å¤§ï¼Œå°¤å…¶æ˜¯åœ¨ä½ å­¦ä¹ çš„æ—¶å€™ã€‚å®ƒå°†å¸®åŠ©æ‚¨è¯†åˆ«å¯èƒ½çš„é—®é¢˜ åœ¨ Clionï¼ˆä» 2021.3 ç‰ˆæœ¬å¼€å§‹ï¼‰ä¸­ï¼Œè¦å°†è­¦å‘Šçº§åˆ«è°ƒåˆ°æœ€é«˜ï¼Œæ‚¨å¯ä»¥æŒ‰ Alt+Ctrl+S è°ƒå‡º Settings ï¼Œç„¶åé€‰æ‹© Editor \u003e Inspections \u003e C/C++ï¼Œç„¶åæ‰‹åŠ¨é€‰ä¸­æ‰€æœ‰æ¡†ï¼Œæˆ–è€…åœ¨çª—å£çš„å³ä¾§ï¼Œåœ¨çŸ©å½¢çš„ severity æ¡†ä¸­é€‰æ‹©é”™è¯¯ï¼Œç„¶ååœ¨å¦ä¸€ä¸ªæ¡†ä¸­é€‰æ‹© In All Scopes é€‰æ‹©è¯­è¨€æ ‡å‡†ï¼šåœ¨ä¸“ä¸šç¯å¢ƒä¸­ï¼Œé€šå¸¸é€‰æ‹©æ¯”æœ€æ–°æ ‡å‡†ä½ä¸€ä¸ªæˆ–ä¸¤ä¸ªç‰ˆæœ¬çš„è¯­è¨€æ ‡å‡†ï¼ˆä¾‹å¦‚ï¼Œç°åœ¨ C++20 å·²ç»å‡ºæ¥äº†ï¼Œè¿™æ„å‘³ç€ C++14 æˆ– C++17ï¼‰ã€‚è¿™æ ·åšé€šå¸¸æ˜¯ä¸ºäº†ç¡®ä¿ç¼–è¯‘å™¨åˆ¶é€ å•†æœ‰æœºä¼šè§£å†³ç¼ºé™·ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç†è§£æ–°åŠŸèƒ½çš„æœ€ä½³å®è·µã€‚åœ¨ç›¸å…³çš„æƒ…å†µä¸‹ï¼Œè¿™ä¹Ÿæœ‰åŠ©äºç¡®ä¿æ›´å¥½çš„è·¨å¹³å°å…¼å®¹æ€§ï¼Œå› ä¸ºæŸäº›å¹³å°ä¸Šçš„ç¼–è¯‘å™¨å¯èƒ½ä¸ä¼šç«‹å³ä¸ºæ›´æ–°çš„è¯­è¨€æ ‡å‡†æä¾›å…¨é¢æ”¯æŒã€‚å¯ç”¨ C++17 è¯­è¨€æ ‡å‡†ï¼ˆæˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰åï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿåœ¨æ²¡æœ‰ä»»ä½•è­¦å‘Šæˆ–é”™è¯¯çš„æƒ…å†µä¸‹ç¼–è¯‘ä»¥ä¸‹ä»£ç  #include #include #include #include #include namespace a:ğŸ…±ï¸:c { inline constexpr std::string_view str{ \"hello\" }; } template std::tuple","wordCount":"26737","inLanguage":"en","datePublished":"2022-11-15T12:54:07+08:00","dateModified":"2022-11-15T12:54:07+08:00","author":[{"@type":"Person","name":"Xan"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://xancoding.cn/posts/learning-cpp/"},"publisher":{"@type":"Organization","name":"Xan's Blog","logo":{"@type":"ImageObject","url":"https://xancoding.cn/img/favicon.ico"}}}</script><script src=https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css><script src=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js></script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://xancoding.cn accesskey=h title="Xan's Blog (Alt + H)"><img src=https://xancoding.cn/img/Headshot.jpg alt aria-label=logo height=35>Xan's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://xancoding.cn/ title=Home><span>Home</span></a></li><li><a href=https://xancoding.cn/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://xancoding.cn/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://xancoding.cn/links/ title=Links><span>Links</span></a></li><li><a href=https://xancoding.cn/about/ title=About><span>About</span></a></li><li><a href=https://xancoding.cn/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://xancoding.cn>Home</a>&nbsp;Â»&nbsp;<a href=https://xancoding.cn/posts/>Posts</a></div><h1 class=post-title>C++ å­¦ä¹ è·¯çº¿</h1><div class=post-meta>&nbsp;<span title='2022-11-15 12:54:07 +0800 +0800'>2022-11-15</span>&nbsp;|&nbsp;<a href=https://github.com/Xancoding/Blog/tree/main/content/posts/learning-cpp.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e5%85%a5%e9%97%a8 aria-label=å…¥é—¨>å…¥é—¨</a></li><li><a href=#c-%e5%9f%ba%e7%a1%80%e7%9f%a5%e8%af%86 aria-label="C++ åŸºç¡€çŸ¥è¯†">C++ åŸºç¡€çŸ¥è¯†</a><ul><li><a href=#%e6%b3%a8%e9%87%8a aria-label=æ³¨é‡Š>æ³¨é‡Š</a></li><li><a href=#%e5%86%99%e5%9c%a8%e5%89%8d%e9%9d%a2 aria-label=å†™åœ¨å‰é¢>å†™åœ¨å‰é¢</a></li><li><a href=#%e5%8d%95%e8%a1%8c%e6%b3%a8%e9%87%8a aria-label=å•è¡Œæ³¨é‡Š>å•è¡Œæ³¨é‡Š</a></li><li><a href=#%e5%a4%9a%e8%a1%8c%e6%b3%a8%e9%87%8a aria-label=å¤šè¡Œæ³¨é‡Š>å¤šè¡Œæ³¨é‡Š</a></li><li><a href=#%e5%88%9d%e5%a7%8b%e5%8c%96 aria-label=åˆå§‹åŒ–>åˆå§‹åŒ–</a></li><li><a href=#stdendl-vs-n aria-label="std::endl vs â€˜\nâ€™">std::endl vs â€˜\nâ€™</a></li><li><a href=#%e4%bb%a3%e7%a0%81%e7%9a%84%e5%8f%af%e8%af%bb%e6%80%a7 aria-label=ä»£ç çš„å¯è¯»æ€§>ä»£ç çš„å¯è¯»æ€§</a></li></ul></li><li><a href=#c-%e5%9f%ba%e7%a1%80%e5%87%bd%e6%95%b0%e5%92%8c%e6%96%87%e4%bb%b6 aria-label="C++ åŸºç¡€ï¼šå‡½æ•°å’Œæ–‡ä»¶">C++ åŸºç¡€ï¼šå‡½æ•°å’Œæ–‡ä»¶</a><ul><li><a href=#%e5%87%bd%e6%95%b0%e8%bf%94%e5%9b%9e%e5%80%bc aria-label=å‡½æ•°è¿”å›å€¼>å‡½æ•°è¿”å›å€¼</a></li><li><a href=#%e5%89%8d%e5%90%91%e5%a3%b0%e6%98%8e%e5%92%8c%e5%ae%9a%e4%b9%89 aria-label=å‰å‘å£°æ˜å’Œå®šä¹‰>å‰å‘å£°æ˜å’Œå®šä¹‰</a></li><li><a href=#%e5%85%b7%e6%9c%89%e5%a4%9a%e4%b8%aacpp%e6%96%87%e4%bb%b6%e7%9a%84%e7%a8%8b%e5%ba%8f aria-label=å…·æœ‰å¤šä¸ªcppæ–‡ä»¶çš„ç¨‹åº>å…·æœ‰å¤šä¸ªcppæ–‡ä»¶çš„ç¨‹åº</a><ul><li><a href=#cpp-%e6%96%87%e4%bb%b6 aria-label=".cpp æ–‡ä»¶">.cpp æ–‡ä»¶</a></li><li><a href=#h-%e6%96%87%e4%bb%b6 aria-label=".h æ–‡ä»¶">.h æ–‡ä»¶</a><ul><li><a href=#%e4%b8%ba%e4%bb%80%e4%b9%88-iostream-%e6%b2%a1%e6%9c%89-h-%e6%89%a9%e5%b1%95%e5%90%8d aria-label="ä¸ºä»€ä¹ˆ iostream æ²¡æœ‰ .h æ‰©å±•åï¼Ÿ">ä¸ºä»€ä¹ˆ iostream æ²¡æœ‰ .h æ‰©å±•åï¼Ÿ</a></li><li><a href=#include%e6%9d%a5%e8%87%aa%e5%85%b6%e4%bb%96%e7%9b%ae%e5%bd%95%e7%9a%84%e5%a4%b4%e6%96%87%e4%bb%b6 aria-label=Includeæ¥è‡ªå…¶ä»–ç›®å½•çš„å¤´æ–‡ä»¶>Includeæ¥è‡ªå…¶ä»–ç›®å½•çš„å¤´æ–‡ä»¶</a></li><li><a href=#headers-may-include-other-headers aria-label="Headers may include other headers">Headers may include other headers</a></li><li><a href=#include-%e5%a4%b4%e6%96%87%e4%bb%b6%e9%a1%ba%e5%ba%8f aria-label="include å¤´æ–‡ä»¶é¡ºåº">include å¤´æ–‡ä»¶é¡ºåº</a></li><li><a href=#header-file-best-practices aria-label="Header file best practices">Header file best practices</a></li><li><a href=#header-guards aria-label="Header guards">Header guards</a><ul><li><a href=#summary aria-label=Summary>Summary</a></li></ul></li><li><a href=#pragma-once aria-label="pragma once">pragma once</a></li></ul></li></ul></li><li><a href=#%e5%91%bd%e5%90%8d%e5%86%b2%e7%aa%81%e5%92%8c%e5%91%bd%e5%90%8d%e7%a9%ba%e9%97%b4%e4%bb%8b%e7%bb%8d aria-label=å‘½åå†²çªå’Œå‘½åç©ºé—´ä»‹ç»>å‘½åå†²çªå’Œå‘½åç©ºé—´ä»‹ç»</a><ul><li><a href=#%e5%91%bd%e5%90%8d%e5%86%b2%e7%aa%81 aria-label=å‘½åå†²çª>å‘½åå†²çª</a></li><li><a href=#%e5%91%bd%e5%90%8d%e7%a9%ba%e9%97%b4 aria-label=å‘½åç©ºé—´>å‘½åç©ºé—´</a></li></ul></li><li><a href=#%e9%a2%84%e5%a4%84%e7%90%86%e5%99%a8%e7%ae%80%e4%bb%8b aria-label=é¢„å¤„ç†å™¨ç®€ä»‹>é¢„å¤„ç†å™¨ç®€ä»‹</a><ul><li><a href=#includes aria-label=Includes>Includes</a></li><li><a href=#macro-defines aria-label="Macro defines">Macro defines</a></li><li><a href=#conditional-compilation aria-label="Conditional compilation">Conditional compilation</a></li></ul></li><li><a href=#%e5%a6%82%e4%bd%95%e5%ae%8c%e6%88%90%e4%bd%a0%e7%9a%84%e7%ac%ac%e4%b8%80%e4%b8%aa%e7%a8%8b%e5%ba%8f aria-label=å¦‚ä½•å®Œæˆä½ çš„ç¬¬ä¸€ä¸ªç¨‹åº>å¦‚ä½•å®Œæˆä½ çš„ç¬¬ä¸€ä¸ªç¨‹åº</a></li></ul></li><li><a href=#%e8%b0%83%e8%af%95-c-%e7%a8%8b%e5%ba%8f aria-label="è°ƒè¯• C++ ç¨‹åº">è°ƒè¯• C++ ç¨‹åº</a><ul><li><a href=#%e8%b0%83%e8%af%95%e8%bf%87%e7%a8%8b aria-label=è°ƒè¯•è¿‡ç¨‹>è°ƒè¯•è¿‡ç¨‹</a></li><li><a href=#%e8%b0%83%e8%af%95%e7%ad%96%e7%95%a5 aria-label=è°ƒè¯•ç­–ç•¥>è°ƒè¯•ç­–ç•¥</a><ul><li><a href=#%e8%b0%83%e8%af%95%e7%ad%96%e7%95%a5-1%e6%b3%a8%e9%87%8a%e6%8e%89%e4%bd%a0%e7%9a%84%e4%bb%a3%e7%a0%81 aria-label="è°ƒè¯•ç­–ç•¥ 1ï¼šæ³¨é‡Šæ‰ä½ çš„ä»£ç ">è°ƒè¯•ç­–ç•¥ 1ï¼šæ³¨é‡Šæ‰ä½ çš„ä»£ç </a></li><li><a href=#%e8%b0%83%e8%af%95%e7%ad%96%e7%95%a5-2%e9%aa%8c%e8%af%81%e4%bb%a3%e7%a0%81%e6%b5%81 aria-label="è°ƒè¯•ç­–ç•¥ 2ï¼šéªŒè¯ä»£ç æµ">è°ƒè¯•ç­–ç•¥ 2ï¼šéªŒè¯ä»£ç æµ</a></li><li><a href=#%e8%b0%83%e8%af%95%e7%ad%96%e7%95%a5-3%e6%89%93%e5%8d%b0%e5%80%bc aria-label="è°ƒè¯•ç­–ç•¥ 3ï¼šæ‰“å°å€¼">è°ƒè¯•ç­–ç•¥ 3ï¼šæ‰“å°å€¼</a></li><li><a href=#%e6%9d%a1%e4%bb%b6%e5%8c%96%e8%b0%83%e8%af%95%e4%bb%a3%e7%a0%81 aria-label=æ¡ä»¶åŒ–è°ƒè¯•ä»£ç >æ¡ä»¶åŒ–è°ƒè¯•ä»£ç </a></li><li><a href=#%e4%bd%bf%e7%94%a8%e6%97%a5%e5%bf%97 aria-label=ä½¿ç”¨æ—¥å¿—>ä½¿ç”¨æ—¥å¿—</a></li></ul></li><li><a href=#%e4%bd%bf%e7%94%a8%e9%9b%86%e6%88%90%e8%b0%83%e8%af%95%e5%99%a8stepping%e6%ad%a5%e8%bf%9b aria-label=ä½¿ç”¨é›†æˆè°ƒè¯•å™¨ï¼šSteppingï¼ˆæ­¥è¿›ï¼‰>ä½¿ç”¨é›†æˆè°ƒè¯•å™¨ï¼šSteppingï¼ˆæ­¥è¿›ï¼‰</a><ul><li><a href=#step-into aria-label="Step into">Step into</a></li><li><a href=#step-over aria-label="Step over">Step over</a></li><li><a href=#step-out aria-label="Step out">Step out</a></li></ul></li><li><a href=#%e4%bd%bf%e7%94%a8%e9%9b%86%e6%88%90%e8%b0%83%e8%af%95%e5%99%a8running-and-breakpoints%e8%bf%90%e8%a1%8c%e5%92%8c%e6%96%ad%e7%82%b9 aria-label="ä½¿ç”¨é›†æˆè°ƒè¯•å™¨ï¼šRunning and breakpointsï¼ˆè¿è¡Œå’Œæ–­ç‚¹ï¼‰">ä½¿ç”¨é›†æˆè°ƒè¯•å™¨ï¼šRunning and breakpointsï¼ˆè¿è¡Œå’Œæ–­ç‚¹ï¼‰</a><ul><li><a href=#run-to-cursor aria-label="Run to cursor">Run to cursor</a></li><li><a href=#breakpoints aria-label=Breakpoints>Breakpoints</a></li></ul></li><li><a href=#%e4%bd%bf%e7%94%a8%e9%9b%86%e6%88%90%e8%b0%83%e8%af%95%e5%99%a8%e8%b0%83%e7%94%a8%e5%a0%86%e6%a0%88 aria-label=ä½¿ç”¨é›†æˆè°ƒè¯•å™¨ï¼šè°ƒç”¨å †æ ˆ>ä½¿ç”¨é›†æˆè°ƒè¯•å™¨ï¼šè°ƒç”¨å †æ ˆ</a></li><li><a href=#%e5%9c%a8%e9%97%ae%e9%a2%98%e6%88%90%e4%b8%ba%e9%97%ae%e9%a2%98%e4%b9%8b%e5%89%8d%e5%8f%91%e7%8e%b0%e9%97%ae%e9%a2%98 aria-label=åœ¨é—®é¢˜æˆä¸ºé—®é¢˜ä¹‹å‰å‘ç°é—®é¢˜>åœ¨é—®é¢˜æˆä¸ºé—®é¢˜ä¹‹å‰å‘ç°é—®é¢˜</a><ul><li><a href=#%e9%87%8d%e6%9e%84%e4%bd%a0%e7%9a%84%e4%bb%a3%e7%a0%81 aria-label=é‡æ„ä½ çš„ä»£ç >é‡æ„ä½ çš„ä»£ç </a></li><li><a href=#%e7%ba%a6%e6%9d%9f aria-label=çº¦æŸ>çº¦æŸ</a></li></ul></li></ul></li><li><a href=#%e5%9f%ba%e6%9c%ac%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b aria-label=åŸºæœ¬æ•°æ®ç±»å‹>åŸºæœ¬æ•°æ®ç±»å‹</a><ul><li><a href=#%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b%e5%a4%a7%e5%b0%8f aria-label=æ•°æ®ç±»å‹å¤§å°>æ•°æ®ç±»å‹å¤§å°</a></li><li><a href=#%e6%97%a0%e7%ac%a6%e5%8f%b7%e6%95%b4%e6%95%b0%e5%92%8c%e6%9c%89%e7%ac%a6%e5%8f%b7%e6%95%b4%e6%95%b0 aria-label=æ— ç¬¦å·æ•´æ•°å’Œæœ‰ç¬¦å·æ•´æ•°>æ— ç¬¦å·æ•´æ•°å’Œæœ‰ç¬¦å·æ•´æ•°</a></li><li><a href=#%e5%9b%ba%e5%ae%9a%e5%ae%bd%e5%ba%a6%e6%95%b4%e6%95%b0%e5%92%8c-size_t aria-label="å›ºå®šå®½åº¦æ•´æ•°å’Œ size_t">å›ºå®šå®½åº¦æ•´æ•°å’Œ size_t</a><ul><li><a href=#fixed-width-%e6%95%b4%e6%95%b0 aria-label="Fixed-width æ•´æ•°">Fixed-width æ•´æ•°</a></li><li><a href=#fast-and-least-%e6%95%b4%e6%95%b0 aria-label="Fast and least æ•´æ•°">Fast and least æ•´æ•°</a></li><li><a href=#stdint8_t-%e5%92%8c-stduint8_t-%e5%8f%af%e8%83%bd%e8%a1%a8%e7%8e%b0%e5%be%97%e5%83%8f%e5%ad%97%e7%ac%a6%e8%80%8c%e4%b8%8d%e6%98%af%e6%95%b4%e6%95%b0 aria-label="std::int8_t å’Œ std::uint8_t å¯èƒ½è¡¨ç°å¾—åƒå­—ç¬¦è€Œä¸æ˜¯æ•´æ•°">std::int8_t å’Œ std::uint8_t å¯èƒ½è¡¨ç°å¾—åƒå­—ç¬¦è€Œä¸æ˜¯æ•´æ•°</a></li><li><a href=#best-practice aria-label="Best practice">Best practice</a></li><li><a href=#size_t aria-label=size_t>size_t</a></li></ul></li><li><a href=#%e6%b5%ae%e7%82%b9%e6%95%b0ieee-754 aria-label="æµ®ç‚¹æ•°ï¼ˆIEEE 754ï¼‰">æµ®ç‚¹æ•°ï¼ˆIEEE 754ï¼‰</a><ul><li><a href=#%e6%b5%ae%e7%82%b9%e8%8c%83%e5%9b%b4%e5%92%8c%e6%b5%ae%e7%82%b9%e7%b2%be%e5%ba%a6 aria-label=æµ®ç‚¹èŒƒå›´å’Œæµ®ç‚¹ç²¾åº¦>æµ®ç‚¹èŒƒå›´å’Œæµ®ç‚¹ç²¾åº¦</a></li><li><a href=#%e8%88%8d%e5%85%a5%e8%af%af%e5%b7%ae aria-label=èˆå…¥è¯¯å·®>èˆå…¥è¯¯å·®</a></li><li><a href=#nan-%e5%92%8c-inf aria-label="NaN å’Œ Inf">NaN å’Œ Inf</a></li><li><a href=#conclusion aria-label=Conclusion>Conclusion</a></li></ul></li><li><a href=#%e5%b8%83%e5%b0%94%e5%80%bc aria-label=å¸ƒå°”å€¼>å¸ƒå°”å€¼</a></li><li><a href=#chars aria-label=Chars>Chars</a></li><li><a href=#%e9%80%9a%e8%bf%87-static_cast-%e8%bf%90%e7%ae%97%e7%ac%a6%e8%bf%9b%e8%a1%8c%e6%98%be%e5%bc%8f%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2 aria-label="é€šè¿‡ static_cast è¿ç®—ç¬¦è¿›è¡Œæ˜¾å¼ç±»å‹è½¬æ¢">é€šè¿‡ static_cast è¿ç®—ç¬¦è¿›è¡Œæ˜¾å¼ç±»å‹è½¬æ¢</a></li><li><a href=#%e5%b8%b8%e9%87%8f%e5%92%8c%e7%ac%a6%e5%8f%b7%e5%b8%b8%e9%87%8f aria-label=å¸¸é‡å’Œç¬¦å·å¸¸é‡>å¸¸é‡å’Œç¬¦å·å¸¸é‡</a><ul><li><a href=#const-variables aria-label="const variables">const variables</a></li><li><a href=#%e7%ac%a6%e5%8f%b7%e5%b8%b8%e9%87%8f aria-label=ç¬¦å·å¸¸é‡>ç¬¦å·å¸¸é‡</a></li><li><a href=#%e5%af%b9%e4%ba%8e%e7%ac%a6%e5%8f%b7%e5%b8%b8%e9%87%8f%e6%9b%b4%e5%96%9c%e6%ac%a2%e5%b8%b8%e9%87%8f%e5%8f%98%e9%87%8f%e8%80%8c%e4%b8%8d%e6%98%af%e7%b1%bb%e5%af%b9%e8%b1%a1%e5%ae%8f aria-label=å¯¹äºç¬¦å·å¸¸é‡ï¼Œæ›´å–œæ¬¢å¸¸é‡å˜é‡è€Œä¸æ˜¯ç±»å¯¹è±¡å®>å¯¹äºç¬¦å·å¸¸é‡ï¼Œæ›´å–œæ¬¢å¸¸é‡å˜é‡è€Œä¸æ˜¯ç±»å¯¹è±¡å®</a></li></ul></li><li><a href=#%e7%bc%96%e8%af%91%e6%97%b6%e5%b8%b8%e9%87%8f%e5%b8%b8%e9%87%8f%e8%a1%a8%e8%be%be%e5%bc%8f%e5%92%8c-constexpr aria-label="ç¼–è¯‘æ—¶å¸¸é‡ã€å¸¸é‡è¡¨è¾¾å¼å’Œ constexpr">ç¼–è¯‘æ—¶å¸¸é‡ã€å¸¸é‡è¡¨è¾¾å¼å’Œ constexpr</a><ul><li><a href=#constant-expressions aria-label="Constant expressions">Constant expressions</a></li><li><a href=#compile-time-constants aria-label="Compile-time constants">Compile-time constants</a></li><li><a href=#compile-time-const aria-label="Compile-time const">Compile-time const</a></li><li><a href=#runtime-const aria-label="Runtime const">Runtime const</a></li><li><a href=#constexpr-%e5%85%b3%e9%94%ae%e5%ad%97 aria-label="constexpr å…³é”®å­—">constexpr å…³é”®å­—</a></li></ul></li><li><a href=#literals aria-label=Literals>Literals</a></li><li><a href=#%e5%8d%81%e8%bf%9b%e5%88%b6%e4%ba%8c%e8%bf%9b%e5%88%b6%e5%8d%81%e5%85%ad%e8%bf%9b%e5%88%b6%e5%92%8c%e5%85%ab%e8%bf%9b%e5%88%b6 aria-label=åè¿›åˆ¶ã€äºŒè¿›åˆ¶ã€åå…­è¿›åˆ¶å’Œå…«è¿›åˆ¶>åè¿›åˆ¶ã€äºŒè¿›åˆ¶ã€åå…­è¿›åˆ¶å’Œå…«è¿›åˆ¶</a><ul><li><a href=#%e4%ba%8c%e8%bf%9b%e5%88%b6%e6%96%87%e5%ad%97%e5%92%8c%e6%95%b0%e5%ad%97%e5%88%86%e9%9a%94%e7%ac%a6 aria-label=äºŒè¿›åˆ¶æ–‡å­—å’Œæ•°å­—åˆ†éš”ç¬¦>äºŒè¿›åˆ¶æ–‡å­—å’Œæ•°å­—åˆ†éš”ç¬¦</a></li><li><a href=#%e4%bb%a5%e5%8d%81%e8%bf%9b%e5%88%b6%e5%85%ab%e8%bf%9b%e5%88%b6%e6%88%96%e5%8d%81%e5%85%ad%e8%bf%9b%e5%88%b6%e8%be%93%e5%87%ba%e5%80%bc aria-label=ä»¥åè¿›åˆ¶ã€å…«è¿›åˆ¶æˆ–åå…­è¿›åˆ¶è¾“å‡ºå€¼>ä»¥åè¿›åˆ¶ã€å…«è¿›åˆ¶æˆ–åå…­è¿›åˆ¶è¾“å‡ºå€¼</a></li><li><a href=#%e4%bb%a5%e4%ba%8c%e8%bf%9b%e5%88%b6%e8%be%93%e5%87%ba%e5%80%bc aria-label=ä»¥äºŒè¿›åˆ¶è¾“å‡ºå€¼>ä»¥äºŒè¿›åˆ¶è¾“å‡ºå€¼</a></li></ul></li><li><a href=#stdstring aria-label=std::string>std::string</a><ul><li><a href=#%e4%bd%bf%e7%94%a8-stdgetline-%e8%be%93%e5%85%a5%e6%96%87%e6%9c%ac aria-label="ä½¿ç”¨ std::getline() è¾“å…¥æ–‡æœ¬">ä½¿ç”¨ std::getline() è¾“å…¥æ–‡æœ¬</a></li><li><a href=#%e5%ad%97%e7%ac%a6%e4%b8%b2%e9%95%bf%e5%ba%a6 aria-label=å­—ç¬¦ä¸²é•¿åº¦>å­—ç¬¦ä¸²é•¿åº¦</a></li><li><a href=#stdstring-%e7%9a%84%e5%88%9d%e5%a7%8b%e5%8c%96%e5%92%8c%e5%a4%8d%e5%88%b6%e5%bc%80%e9%94%80%e5%be%88%e5%a4%a7 aria-label="std::string çš„åˆå§‹åŒ–å’Œå¤åˆ¶å¼€é”€å¾ˆå¤§">std::string çš„åˆå§‹åŒ–å’Œå¤åˆ¶å¼€é”€å¾ˆå¤§</a></li><li><a href=#literals-forstdstring--stdstring_view aria-label="Literals forÂ std::string &amp;amp; std::string_view">Literals forÂ <code>std::string</code> & <code>std::string_view</code></a></li><li><a href=#constexpr-%e5%ad%97%e7%ac%a6%e4%b8%b2 aria-label="Constexpr å­—ç¬¦ä¸²">Constexpr å­—ç¬¦ä¸²</a></li></ul></li><li><a href=#stdstring_view aria-label=std::string_view>std::string_view</a><ul><li><a href=#stdstring_view-c17 aria-label="std::string_view C++17">std::string_view C++17</a></li><li><a href=#constexpr-stdstring_view aria-label="constexpr std::string_view">constexpr std::string_view</a></li><li><a href=#stdstring--stdstring_view aria-label="std::string &amp;amp; std::string_view">std::string & std::string_view</a></li></ul></li></ul></li><li><a href=#operators%e6%93%8d%e4%bd%9c%e7%ac%a6 aria-label=Operatorsï¼ˆæ“ä½œç¬¦ï¼‰>Operatorsï¼ˆæ“ä½œç¬¦ï¼‰</a><ul><li><a href=#----%e8%bf%90%e7%ae%97%e7%ac%a6 aria-label=", &amp;amp; ? : è¿ç®—ç¬¦"><code>,</code> & <code>? :</code> è¿ç®—ç¬¦</a></li><li><a href=#%e6%af%94%e8%be%83%e6%b5%ae%e7%82%b9%e6%95%b0%e5%a4%a7%e5%b0%8f aria-label=æ¯”è¾ƒæµ®ç‚¹æ•°å¤§å°>æ¯”è¾ƒæµ®ç‚¹æ•°å¤§å°</a></li><li><a href=#%e9%80%bb%e8%be%91-xor-%e8%bf%90%e7%ae%97%e7%ac%a6 aria-label="é€»è¾‘ XOR è¿ç®—ç¬¦">é€»è¾‘ XOR è¿ç®—ç¬¦</a></li></ul></li><li><a href=#%e4%bd%8d%e6%93%8d%e4%bd%9c aria-label=ä½æ“ä½œ>ä½æ“ä½œ</a><ul><li><a href=#%e4%bd%8d%e6%a0%87%e5%bf%97-and-%e4%bd%8d%e6%93%8d%e4%bd%9c-via-stdbitset aria-label="ä½æ ‡å¿— and ä½æ“ä½œ via std::bitset">ä½æ ‡å¿— and ä½æ“ä½œ via std::bitset</a></li><li><a href=#%e6%8c%89%e4%bd%8d%e8%bf%90%e7%ae%97%e7%ac%a6 aria-label=æŒ‰ä½è¿ç®—ç¬¦>æŒ‰ä½è¿ç®—ç¬¦</a></li><li><a href=#%e4%bd%8d%e6%8e%a9%e7%a0%81 aria-label=ä½æ©ç >ä½æ©ç </a><ul><li><a href=#%e5%9c%a8-c14-%e4%b8%ad%e5%ae%9a%e4%b9%89%e4%bd%8d%e6%8e%a9%e7%a0%81 aria-label="åœ¨ C++14 ä¸­å®šä¹‰ä½æ©ç ">åœ¨ C++14 ä¸­å®šä¹‰ä½æ©ç </a></li><li><a href=#%e5%9c%a8-c11-%e6%88%96%e6%9b%b4%e6%97%a9%e7%89%88%e6%9c%ac%e4%b8%ad%e5%ae%9a%e4%b9%89%e4%bd%8d%e6%8e%a9%e7%a0%81 aria-label="åœ¨ C++11 æˆ–æ›´æ—©ç‰ˆæœ¬ä¸­å®šä¹‰ä½æ©ç ">åœ¨ C++11 æˆ–æ›´æ—©ç‰ˆæœ¬ä¸­å®šä¹‰ä½æ©ç </a></li><li><a href=#testing-a-bit aria-label="Testing a bit">Testing a bit</a></li><li><a href=#setting-a-bit aria-label="Setting a bit">Setting a bit</a></li><li><a href=#resetting-a-bit aria-label="Resetting a bit">Resetting a bit</a></li><li><a href=#flipping-a-bit aria-label="Flipping a bit">Flipping a bit</a></li></ul></li><li><a href=#%e4%bd%8d%e6%8e%a9%e7%a0%81%e5%92%8c-stdbitset aria-label="ä½æ©ç å’Œ std::bitset">ä½æ©ç å’Œ std::bitset</a></li><li><a href=#summary-1 aria-label=Summary>Summary</a></li></ul></li><li><a href=#%e8%bf%90%e7%ae%97%e7%ac%a6%e9%87%8d%e8%bd%bd aria-label=è¿ç®—ç¬¦é‡è½½>è¿ç®—ç¬¦é‡è½½</a><ul><li><a href=#%e4%bd%95%e6%97%b6%e4%bd%bf%e7%94%a8%e6%99%ae%e9%80%9a%e5%87%bd%e6%95%b0%e5%8f%8b%e5%85%83%e5%87%bd%e6%95%b0%e6%88%96%e6%88%90%e5%91%98%e5%87%bd%e6%95%b0%e9%87%8d%e8%bd%bd%e8%bf%90%e7%ae%97%e7%ac%a6 aria-label=ä½•æ—¶ä½¿ç”¨æ™®é€šå‡½æ•°ã€å‹å…ƒå‡½æ•°æˆ–æˆå‘˜å‡½æ•°é‡è½½è¿ç®—ç¬¦>ä½•æ—¶ä½¿ç”¨æ™®é€šå‡½æ•°ã€å‹å…ƒå‡½æ•°æˆ–æˆå‘˜å‡½æ•°é‡è½½è¿ç®—ç¬¦</a></li><li><a href=#%e6%9c%80%e5%b0%8f%e5%8c%96%e6%af%94%e8%be%83%e5%86%97%e4%bd%99 aria-label=æœ€å°åŒ–æ¯”è¾ƒå†—ä½™>æœ€å°åŒ–æ¯”è¾ƒå†—ä½™</a></li><li><a href=#%e6%b5%85%e6%8b%b7%e8%b4%9d%e4%b8%8e%e6%b7%b1%e6%8b%b7%e8%b4%9d aria-label=æµ…æ‹·è´ä¸æ·±æ‹·è´>æµ…æ‹·è´ä¸æ·±æ‹·è´</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h1 id=å…¥é—¨>å…¥é—¨<a hidden class=anchor aria-hidden=true href=#å…¥é—¨>#</a></h1><ol><li>å½“æ‚¨åœ¨ IDE ä¸­åˆ›å»ºæ–°é¡¹ç›®æ—¶ï¼Œå¤§å¤šæ•° IDE ä¼šä¸ºæ‚¨è®¾ç½®ä¸¤ç§ä¸åŒçš„æ„å»ºé…ç½®ï¼šå‘å¸ƒé…ç½®å’Œè°ƒè¯•é…ç½®ï¼Œå¼€å‘ç¨‹åºæ—¶ä½¿ç”¨è°ƒè¯•æ„å»ºé…ç½®ã€‚å½“æ‚¨å‡†å¤‡å¥½å°†å¯æ‰§è¡Œæ–‡ä»¶å‘å¸ƒç»™å…¶ä»–äººæ—¶ï¼Œæˆ–è€…æƒ³è¦æµ‹è¯•æ€§èƒ½æ—¶ï¼Œè¯·ä½¿ç”¨å‘å¸ƒæ„å»ºé…ç½®<ol><li>Debugï¼š<strong>è°ƒè¯•ç‰ˆæœ¬ï¼Œ</strong>Â åŒ…å«è°ƒè¯•ä¿¡æ¯ï¼Œæ‰€ä»¥Â <strong>å®¹é‡æ¯”Releaseå¤§å¾ˆå¤šï¼Œ</strong>Â å¹¶ä¸”ä¸è¿›è¡Œä»»ä½•ä¼˜åŒ–ï¼ˆä¼˜åŒ–ä¼šä½¿è°ƒè¯•å¤æ‚åŒ–ï¼Œå› ä¸ºæºä»£ç å’Œç”Ÿæˆçš„æŒ‡ä»¤é—´å…³ç³»ä¼šæ›´å¤æ‚ï¼‰ï¼Œä¾¿äºç¨‹åºå‘˜è°ƒè¯•</li><li>Releaseï¼š<strong>å‘å¸ƒç‰ˆæœ¬ï¼Œ</strong>Â ä¸å¯¹æºä»£ç è¿›è¡Œè°ƒè¯•ï¼Œç¼–è¯‘æ—¶å¯¹åº”ç”¨ç¨‹åºçš„é€Ÿåº¦è¿›è¡Œä¼˜åŒ–ï¼Œ<strong>ä½¿å¾—ç¨‹åºåœ¨ä»£ç å¤§å°å’Œè¿è¡Œé€Ÿåº¦ä¸Šéƒ½æ˜¯æœ€ä¼˜çš„</strong></li></ol></li></ol><pre tabindex=0><code>å¯¹äº CLion ç”¨æˆ·ï¼Œæ‚¨å¯ä»¥æ·»åŠ  Releaseï¼šæŒ‰ Alt+Ctrl+S è°ƒå‡º Settings &gt; Buildï¼ŒExecutionï¼ŒDeployment &gt; CMake &gt; å•å‡» Profiles éƒ¨åˆ†ä¸­çš„ + æŒ‰é’®ï¼Œå°†è‡ªåŠ¨æ·»åŠ  Release é€‰é¡¹
</code></pre><ol start=2><li><strong>ç¦ç”¨ç¼–è¯‘å™¨æ‰©å±•</strong>ä»¥ç¡®ä¿æ‚¨çš„ç¨‹åºï¼ˆå’Œç¼–ç å®è·µï¼‰ä¿æŒç¬¦åˆ C++ æ ‡å‡†å¹¶ä¸”å¯ä»¥åœ¨ä»»ä½•ç³»ç»Ÿä¸Šè¿è¡Œ</li></ol><pre tabindex=0><code>CLion ä½¿ç”¨ CMake æ„å»ºé¡¹ç›®ã€‚
å°†è¡Œ set(CMAKE_CXX_EXTENSIONS OFF) æ·»åŠ åˆ° CMakeList.txt ä»¥ç¦ç”¨æ‰©å±•
</code></pre><ol start=3><li><strong>å°†ä½ çš„è­¦å‘Šçº§åˆ«è°ƒåˆ°æœ€å¤§</strong>ï¼Œå°¤å…¶æ˜¯åœ¨ä½ å­¦ä¹ çš„æ—¶å€™ã€‚å®ƒå°†å¸®åŠ©æ‚¨è¯†åˆ«å¯èƒ½çš„é—®é¢˜</li></ol><pre tabindex=0><code>åœ¨ Clionï¼ˆä» 2021.3 ç‰ˆæœ¬å¼€å§‹ï¼‰ä¸­ï¼Œè¦å°†è­¦å‘Šçº§åˆ«è°ƒåˆ°æœ€é«˜ï¼Œæ‚¨å¯ä»¥æŒ‰ Alt+Ctrl+S è°ƒå‡º Settings ï¼Œç„¶åé€‰æ‹© Editor &gt; Inspections &gt; C/C++ï¼Œç„¶åæ‰‹åŠ¨é€‰ä¸­æ‰€æœ‰æ¡†ï¼Œæˆ–è€…åœ¨çª—å£çš„å³ä¾§ï¼Œåœ¨çŸ©å½¢çš„ severity æ¡†ä¸­é€‰æ‹©é”™è¯¯ï¼Œç„¶ååœ¨å¦ä¸€ä¸ªæ¡†ä¸­é€‰æ‹© In All Scopes
</code></pre><ol start=4><li><strong>é€‰æ‹©è¯­è¨€æ ‡å‡†</strong>ï¼šåœ¨ä¸“ä¸šç¯å¢ƒä¸­ï¼Œé€šå¸¸é€‰æ‹©æ¯”æœ€æ–°æ ‡å‡†ä½ä¸€ä¸ªæˆ–ä¸¤ä¸ªç‰ˆæœ¬çš„è¯­è¨€æ ‡å‡†ï¼ˆä¾‹å¦‚ï¼Œç°åœ¨ C++20 å·²ç»å‡ºæ¥äº†ï¼Œè¿™æ„å‘³ç€ C++14 æˆ– C++17ï¼‰ã€‚è¿™æ ·åšé€šå¸¸æ˜¯ä¸ºäº†ç¡®ä¿ç¼–è¯‘å™¨åˆ¶é€ å•†æœ‰æœºä¼šè§£å†³ç¼ºé™·ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç†è§£æ–°åŠŸèƒ½çš„æœ€ä½³å®è·µã€‚åœ¨ç›¸å…³çš„æƒ…å†µä¸‹ï¼Œè¿™ä¹Ÿæœ‰åŠ©äºç¡®ä¿æ›´å¥½çš„è·¨å¹³å°å…¼å®¹æ€§ï¼Œå› ä¸ºæŸäº›å¹³å°ä¸Šçš„ç¼–è¯‘å™¨å¯èƒ½ä¸ä¼šç«‹å³ä¸ºæ›´æ–°çš„è¯­è¨€æ ‡å‡†æä¾›å…¨é¢æ”¯æŒã€‚å¯ç”¨ C++17 è¯­è¨€æ ‡å‡†ï¼ˆæˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰åï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿåœ¨æ²¡æœ‰ä»»ä½•è­¦å‘Šæˆ–é”™è¯¯çš„æƒ…å†µä¸‹ç¼–è¯‘ä»¥ä¸‹ä»£ç </li></ol><pre tabindex=0><code>#include &lt;array&gt;
#include &lt;iostream&gt;
#include &lt;string_view&gt;
#include &lt;tuple&gt;
#include &lt;type_traits&gt;

namespace a:ğŸ…±ï¸:c
{
    inline constexpr std::string_view str{ &#34;hello&#34; };
}

template &lt;class... T&gt;
std::tuple&lt;std::size_t, std::common_type_t&lt;T...&gt;&gt; sum(T... args)
{
    return { sizeof...(T), (args + ...) };
}

int main()
{
    auto [iNumbers, iSum]{ sum(1, 2, 3) };
    std::cout &lt;&lt; a:ğŸ…±ï¸:c::str &lt;&lt; &#39; &#39; &lt;&lt; iNumbers &lt;&lt; &#39; &#39; &lt;&lt; iSum &lt;&lt; &#39;\n&#39;;

    std::array arr{ 1, 2, 3 };

    std::cout &lt;&lt; std::size(arr) &lt;&lt; &#39;\n&#39;;

    return 0;
}
</code></pre><h1 id=c-åŸºç¡€çŸ¥è¯†>C++ åŸºç¡€çŸ¥è¯†<a hidden class=anchor aria-hidden=true href=#c-åŸºç¡€çŸ¥è¯†>#</a></h1><h2 id=æ³¨é‡Š>æ³¨é‡Š<a hidden class=anchor aria-hidden=true href=#æ³¨é‡Š>#</a></h2><h2 id=å†™åœ¨å‰é¢>å†™åœ¨å‰é¢<a hidden class=anchor aria-hidden=true href=#å†™åœ¨å‰é¢>#</a></h2><ol><li>é€šå¸¸ï¼Œæ³¨é‡Šåº”è¯¥ç”¨äºä¸‰ä»¶äº‹<ol><li>åœ¨åº“ã€ç¨‹åºæˆ–å‡½æ•°çº§åˆ«ï¼Œä½¿ç”¨æ³¨é‡Šæ¥<strong>æè¿°ä½œç”¨</strong></li><li>åœ¨åº“ã€ç¨‹åºæˆ–å‡½æ•°å†…éƒ¨ï¼Œä½¿ç”¨æ³¨é‡Šæ¥æè¿°<strong>å¦‚ä½•æ“ä½œ</strong></li><li>åœ¨è¯­å¥çº§åˆ«ï¼Œä½¿ç”¨æ³¨é‡Šæ¥<strong>æè¿°åŸå› </strong></li></ol></li><li>æ³¨é‡Šæ˜¯ä¸€ç§å¾ˆå¥½çš„æ–¹å¼æ¥æé†’è‡ªå·±ï¼ˆæˆ–å‘Šè¯‰åˆ«äººï¼‰ä½ åšå‡ºä¸€ä¸ªå†³å®šè€Œä¸æ˜¯å¦ä¸€ä¸ªå†³å®šçš„åŸå› </li><li>æ³¨é‡Šæ‚¨çš„ä»£ç ï¼Œåƒåœ¨å¯¹ä¸çŸ¥é“ä»£ç åŠŸèƒ½çš„äººè¯´è¯ä¸€æ ·å†™æ‚¨çš„æ³¨é‡Šã€‚ä¸è¦å‡è®¾ä½ ä¼šè®°å¾—ä½ ä¸ºä»€ä¹ˆåšå‡ºç‰¹å®šçš„é€‰æ‹©</li></ol><h2 id=å•è¡Œæ³¨é‡Š>å•è¡Œæ³¨é‡Š<a hidden class=anchor aria-hidden=true href=#å•è¡Œæ³¨é‡Š>#</a></h2><ol><li>åœ¨è¡Œçš„å³ä¾§æ·»åŠ æ³¨é‡Šä¼šä½¿ä»£ç å’Œæ³¨é‡Šéƒ½éš¾ä»¥é˜…è¯»ï¼Œå°¤å…¶æ˜¯åœ¨è¡Œå¾ˆé•¿çš„æƒ…å†µä¸‹ã€‚å¦‚æœè¡Œç›¸å½“çŸ­ï¼Œè¯„è®ºå¯ä»¥ç®€å•åœ°å¯¹é½ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªåˆ¶è¡¨ä½ï¼‰ï¼Œåƒè¿™æ ·ï¼š</li></ol><pre tabindex=0><code>std::cout &lt;&lt; &#34;Hello world!\n&#34;;                 // std::cout lives in the iostream library
std::cout &lt;&lt; &#34;It is very nice to meet you!\n&#34;; // this is much easier to read
std::cout &lt;&lt; &#34;Yeah!\n&#34;;                        // don&#39;t you think so?
</code></pre><ol start=2><li>ä½†æ˜¯ï¼Œå¦‚æœè¡Œå¾ˆé•¿ï¼Œå°†æ³¨é‡Šæ”¾åœ¨å³è¾¹ä¼šä½¿è¡Œå˜å¾—å¾ˆé•¿ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå•è¡Œæ³¨é‡Šé€šå¸¸æ”¾åœ¨å®ƒæ­£åœ¨æ³¨é‡Šçš„è¡Œä¹‹ä¸Šï¼š</li></ol><pre tabindex=0><code>// std::cout lives in the iostream library
std::cout &lt;&lt; &#34;Hello world!\n&#34;;

// this is much easier to read
std::cout &lt;&lt; &#34;It is very nice to meet you!\n&#34;;

// don&#39;t you think so?
std::cout &lt;&lt; &#34;Yeah!\n&#34;;
</code></pre><ol start=3><li>Commenting out code</li></ol><pre tabindex=0><code>//    std::cout &lt;&lt; 1;
</code></pre><h2 id=å¤šè¡Œæ³¨é‡Š>å¤šè¡Œæ³¨é‡Š<a hidden class=anchor aria-hidden=true href=#å¤šè¡Œæ³¨é‡Š>#</a></h2><ol><li>Explaining code</li></ol><pre tabindex=0><code>/* This is a multi-line comment.
 * the matching asterisks to the left
 * can make this easier to read
 */
</code></pre><ol start=2><li>Commenting out code</li></ol><pre tabindex=0><code>/*
    std::cout &lt;&lt; 1;
    std::cout &lt;&lt; 2;
    std::cout &lt;&lt; 3;
*/
</code></pre><h2 id=åˆå§‹åŒ–>åˆå§‹åŒ–<a hidden class=anchor aria-hidden=true href=#åˆå§‹åŒ–>#</a></h2><ol><li>Default initializationï¼šé»˜è®¤åˆå§‹åŒ–</li></ol><pre tabindex=0><code>int a; // no initializer
</code></pre><ol start=2><li>Copy initializationï¼šåœ¨ç°ä»£ C++ ä¸­ç”¨çš„ä¸å¤š</li></ol><pre tabindex=0><code>int width = 5; // copy initialization of value 5 into variable width
</code></pre><ol start=3><li>Direct initializationï¼šå½“åœ¨æ‹¬å·å†…æä¾›åˆå§‹åŒ–ç¨‹åºæ—¶ï¼Œè¿™ç§°ä¸ºç›´æ¥åˆå§‹åŒ–ã€‚æœ€åˆå¼•å…¥ç›´æ¥åˆå§‹åŒ–æ˜¯ä¸ºäº†æ›´æœ‰æ•ˆåœ°åˆå§‹åŒ–å¤æ‚å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œä¸å¤åˆ¶åˆå§‹åŒ–ä¸€æ ·ï¼Œç›´æ¥åˆå§‹åŒ–åœ¨ç°ä»£ C++ ä¸­ä½¿ç”¨ä¸å¤š</li></ol><pre tabindex=0><code>int width( 5 ); // direct initialization of value 5 into variable width
</code></pre><ol start=4><li>Brace initializationï¼šåœ¨ C++ ä¸­åˆå§‹åŒ–å¯¹è±¡çš„ç°ä»£æ–¹æ³•æ˜¯ä½¿ç”¨ä¸€ç§åˆ©ç”¨å¤§æ‹¬å·çš„åˆå§‹åŒ–å½¢å¼&ndash;<strong>å¤§æ‹¬å·åˆå§‹åŒ–</strong>ï¼ˆä¹Ÿç§°ä¸ºç»Ÿä¸€åˆå§‹åŒ–æˆ–åˆ—è¡¨åˆå§‹åŒ–ï¼‰ã€‚å¼•å…¥å¤§æ‹¬å·åˆå§‹åŒ–æ˜¯ä¸ºäº†æä¾›åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æœ‰æ•ˆçš„<strong>æ›´ä¸€è‡´çš„åˆå§‹åŒ–è¯­æ³•</strong>ï¼ˆè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå®ƒæœ‰æ—¶è¢«ç§°ä¸ºâ€œç»Ÿä¸€åˆå§‹åŒ–â€ï¼‰ã€‚æ­¤å¤–ï¼Œå¤§æ‹¬å·åˆå§‹åŒ–æä¾›äº†<strong>ä¸€ç§ä½¿ç”¨å€¼åˆ—è¡¨åˆå§‹åŒ–å¯¹è±¡çš„æ–¹æ³•</strong>ï¼ˆè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå®ƒæœ‰æ—¶è¢«ç§°ä¸ºâ€œåˆ—è¡¨åˆå§‹åŒ–â€ï¼‰ã€‚å¤§æ‹¬å·åˆå§‹åŒ–æœ‰ä¸‰ç§å½¢å¼ï¼š</li></ol><pre tabindex=0><code>int width { 5 }; // direct brace initialization of value 5 into variable width (preferred)
int height = { 6 }; // copy brace initialization of value 6 into variable height
int depth {}; // value initialization 
</code></pre><p><strong>å¤§æ‹¬å·åˆå§‹åŒ–</strong>æœ‰ä¸€ä¸ªé¢å¤–çš„å¥½å¤„ï¼šå®ƒä¸å…è®¸â€œç¼©å°è½¬æ¢â€ã€‚è¿™æ„å‘³ç€å¦‚æœæ‚¨å°è¯•ä½¿ç”¨å˜é‡æ— æ³•å®‰å…¨ä¿å­˜çš„å€¼æ¥åˆå§‹åŒ–å˜é‡ï¼Œ<strong>ç¼–è¯‘å™¨å°†äº§ç”Ÿé”™è¯¯ï¼Œè¿«ä½¿æ‚¨åœ¨ç»§ç»­ä¹‹å‰è§£å†³è¿™ä¸ªé—®é¢˜</strong>ã€‚ä¾‹å¦‚ï¼š</p><pre tabindex=0><code>int width { 4.5 }; // error: a number with a fractional value can&#39;t fit into an int
</code></pre><h2 id=stdendl-vs-n>std::endl vs â€˜\nâ€™<a hidden class=anchor aria-hidden=true href=#stdendl-vs-n>#</a></h2><p>ä½¿ç”¨ std::endl å¯èƒ½æœ‰ç‚¹ä½æ•ˆï¼Œå› ä¸ºå®ƒå®é™…ä¸Šåšäº†ä¸¤ä¸ªå·¥ä½œï¼šå®ƒå°†å…‰æ ‡ç§»åŠ¨åˆ°æ§åˆ¶å°çš„ä¸‹ä¸€è¡Œï¼Œå¹¶ç¡®ä¿ä»»ä½•ç¼“å­˜çš„è¾“å‡ºç«‹å³æ˜¾ç¤ºåœ¨å±å¹•ä¸Šï¼ˆè¿™ç§°ä¸ºåˆ·æ–°è¾“å‡ºï¼‰ã€‚å½“ä½¿ç”¨ std::cout å°†æ–‡æœ¬å†™å…¥æ§åˆ¶å°æ—¶ï¼Œstd::cout é€šå¸¸ä¼šåˆ·æ–°è¾“å‡ºï¼ˆå¦‚æœä¸åˆ·æ–°ï¼Œé€šå¸¸ä¹Ÿæ— å…³ç´§è¦ï¼‰ï¼Œå› æ­¤è®© std::endl æ‰§è¡Œåˆ·æ–°å¾ˆå°‘é‡è¦</p><p>å› æ­¤ï¼Œé€šå¸¸é¦–é€‰ä½¿ç”¨â€œ\nâ€å­—ç¬¦ã€‚ â€˜\nâ€™ å­—ç¬¦å°†å…‰æ ‡ç§»åŠ¨åˆ°æ§åˆ¶å°çš„ä¸‹ä¸€è¡Œï¼Œä½†ä¸è¯·æ±‚åˆ·æ–°ï¼Œå› æ­¤åœ¨åˆ·æ–°ä¸ä¼šå‘ç”Ÿçš„æƒ…å†µä¸‹å®ƒä¼šæ‰§è¡Œå¾—æ›´å¥½ã€‚ â€˜\nâ€™ å­—ç¬¦ä¹Ÿæ›´æ˜“äºé˜…è¯»ï¼Œå› ä¸ºå®ƒæ›´çŸ­å¹¶ä¸”å¯ä»¥åµŒå…¥åˆ°ç°æœ‰æ–‡æœ¬ä¸­</p><p>è¿™æ˜¯ä¸€ä¸ªä»¥ä¸¤ç§ä¸åŒæ–¹å¼ä½¿ç”¨â€œ\nâ€çš„ç¤ºä¾‹ï¼š</p><pre tabindex=0><code>#include &lt;iostream&gt; // for std::cout

int main()
{
    int x{ 5 };
    std::cout &lt;&lt; &#34;x is equal to: &#34; &lt;&lt; x &lt;&lt; &#39;\n&#39;; // Using &#39;\n&#39; standalone
    std::cout &lt;&lt; &#34;And that&#39;s all, folks!\n&#34;; // Using &#39;\n&#39; embedded into a double-quoted piece of text (note: no single quotes when used this way)
    return 0;
}
</code></pre><p>è¿™æ‰“å°ï¼š</p><pre tabindex=0><code>x is equal to: 5
And that&#39;s all, folks!
</code></pre><p><strong>å°†æ–‡æœ¬è¾“å‡ºåˆ°æ§åˆ¶å°æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨â€œ\nâ€è€Œä¸æ˜¯ std::endl</strong></p><h2 id=ä»£ç çš„å¯è¯»æ€§>ä»£ç çš„å¯è¯»æ€§<a hidden class=anchor aria-hidden=true href=#ä»£ç çš„å¯è¯»æ€§>#</a></h2><ol><li>æ‚¨çš„è¡Œçš„é•¿åº¦ä¸åº”è¶…è¿‡ 80 ä¸ªå­—ç¬¦</li></ol><pre tabindex=0><code>int main()
{
    std::cout &lt;&lt; &#34;This is a really, really, really, really, really, really, really, &#34;
        &#34;really long line\n&#34;; // one extra indentation for continuation line

    std::cout &lt;&lt; &#34;This is another really, really, really, really, really, really, really, &#34;
                 &#34;really long line\n&#34;; // text aligned with the previous line for continuation line

    std::cout &lt;&lt; &#34;This one is short\n&#34;;
}
</code></pre><p>å¦‚æœç”¨æ“ä½œç¬¦ï¼ˆä¾‹å¦‚ &#171; æˆ– +ï¼‰æ‹†åˆ†é•¿è¡Œï¼Œåˆ™åº”å°†æ“ä½œç¬¦æ”¾åœ¨ä¸‹ä¸€è¡Œçš„å¼€å¤´ï¼Œè€Œä¸æ˜¯å½“å‰è¡Œçš„ç»“å°¾</p><pre tabindex=0><code>std::cout &lt;&lt; 3 + 4
    + 5 + 6
    * 7 * 8;
</code></pre><p>è®¸å¤šç¼–è¾‘å™¨éƒ½æœ‰ä¸€ä¸ªå†…ç½®åŠŸèƒ½ï¼ˆæˆ–æ’ä»¶/æ‰©å±•ï¼‰ï¼Œå¯ä»¥åœ¨ç»™å®šçš„åˆ—ï¼ˆä¾‹å¦‚ 80 ä¸ªå­—ç¬¦ï¼‰å¤„æ˜¾ç¤ºä¸€è¡Œï¼ˆç§°ä¸ºâ€œåˆ—æŒ‡å—â€ï¼‰ï¼Œå› æ­¤æ‚¨å¯ä»¥è½»æ¾æŸ¥çœ‹è¡Œä½•æ—¶å˜å¾—å¤ªé•¿</p><p><strong>Clion column guide</strong> : File > Settings > Editor > Code Style > General > åœ¨ &ldquo;Visual guides&rdquo; çŸ©å½¢æ¡†ä¸­é”®å…¥ 80 å¹¶åº”ç”¨æ›´æ”¹
2. ä½¿ç”¨ç©ºæ ¼é€šè¿‡å¯¹é½å€¼æˆ–æ³¨é‡Šæˆ–åœ¨ä»£ç å—ä¹‹é—´æ·»åŠ é—´è·æ¥ä½¿æ‚¨çš„ä»£ç æ›´æ˜“äºé˜…è¯»</p><pre tabindex=0><code>cost          = 57;
pricePerItem  = 24;
value         = 5;
numberOfItems = 17;

std::cout &lt;&lt; &#34;Hello world!\n&#34;;                  // cout lives in the iostream library
std::cout &lt;&lt; &#34;It is very nice to meet you!\n&#34;;  // these comments are easier to read
std::cout &lt;&lt; &#34;Yeah!\n&#34;;                         // especially when all lined up

// cout lives in the iostream library
std::cout &lt;&lt; &#34;Hello world!\n&#34;;

// these comments are easier to read
std::cout &lt;&lt; &#34;It is very nice to meet you!\n&#34;;

// when separated by whitespace
std::cout &lt;&lt; &#34;Yeah!\n&#34;;
</code></pre><h1 id=c-åŸºç¡€å‡½æ•°å’Œæ–‡ä»¶>C++ åŸºç¡€ï¼šå‡½æ•°å’Œæ–‡ä»¶<a hidden class=anchor aria-hidden=true href=#c-åŸºç¡€å‡½æ•°å’Œæ–‡ä»¶>#</a></h1><h2 id=å‡½æ•°è¿”å›å€¼>å‡½æ•°è¿”å›å€¼<a hidden class=anchor aria-hidden=true href=#å‡½æ•°è¿”å›å€¼>#</a></h2><p>C++æ ‡å‡†åªå®šä¹‰äº†3ç§çŠ¶æ€ç çš„å«ä¹‰ï¼š0ã€EXIT_SUCCESSã€EXIT_FAILUREã€‚ 0 å’Œ EXIT_SUCCESS éƒ½è¡¨ç¤ºç¨‹åºæ‰§è¡ŒæˆåŠŸã€‚ EXIT_FAILURE è¡¨ç¤ºç¨‹åºæ²¡æœ‰æˆåŠŸæ‰§è¡Œ</p><p>EXIT_SUCCESS å’Œ EXIT_FAILURE æ˜¯ <code>&lt;cstdlib></code> æ ‡å¤´ä¸­å®šä¹‰çš„é¢„å¤„ç†å™¨å®ï¼š</p><pre tabindex=0><code>#include &lt;cstdlib&gt; // for EXIT_SUCCESS and EXIT_FAILURE

int main()
{
    return EXIT_SUCCESS;
}
</code></pre><p>å¦‚æœä½ æƒ³æœ€å¤§é™åº¦åœ°æé«˜å¯ç§»æ¤æ€§ï¼Œä½ åº”è¯¥åªä½¿ç”¨ 0 æˆ– EXIT_SUCCESS æ¥æŒ‡ç¤ºæˆåŠŸç»ˆæ­¢ï¼Œæˆ–è€…ä½¿ç”¨ EXIT_FAILURE æ¥æŒ‡ç¤ºä¸æˆåŠŸç»ˆæ­¢</p><h2 id=å‰å‘å£°æ˜å’Œå®šä¹‰>å‰å‘å£°æ˜å’Œå®šä¹‰<a hidden class=anchor aria-hidden=true href=#å‰å‘å£°æ˜å’Œå®šä¹‰>#</a></h2><p>å¯¹äºä»¥ä¸‹æ¯ä¸ªç¨‹åºï¼Œè¯´æ˜å®ƒä»¬æ˜¯ç¼–è¯‘å¤±è´¥ã€é“¾æ¥å¤±è´¥ã€ä¸¤è€…éƒ½å¤±è´¥ï¼Œè¿˜æ˜¯ç¼–è¯‘å’Œé“¾æ¥æˆåŠŸã€‚å¦‚æœæ‚¨ä¸ç¡®å®šï¼Œè¯·å°è¯•ç¼–è¯‘å®ƒä»¬ï¼</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span><span style=color:#fff;font-weight:700>int</span> add(<span style=color:#fff;font-weight:700>int</span> x, <span style=color:#fff;font-weight:700>int</span> y);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;3 + 4 + 5 = &#34;</span> &lt;&lt; add(<span style=color:#ff0;font-weight:700>3</span>, <span style=color:#ff0;font-weight:700>4</span>, <span style=color:#ff0;font-weight:700>5</span>) &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> add(<span style=color:#fff;font-weight:700>int</span> x, <span style=color:#fff;font-weight:700>int</span> y)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> x + y;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Doesnâ€™t compile. The compiler will complain that the add() called in main() does not have the same number of parameters as the one that was forward declared.</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span><span style=color:#fff;font-weight:700>int</span> add(<span style=color:#fff;font-weight:700>int</span> x, <span style=color:#fff;font-weight:700>int</span> y);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;3 + 4 + 5 = &#34;</span> &lt;&lt; add(<span style=color:#ff0;font-weight:700>3</span>, <span style=color:#ff0;font-weight:700>4</span>, <span style=color:#ff0;font-weight:700>5</span>) &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> add(<span style=color:#fff;font-weight:700>int</span> x, <span style=color:#fff;font-weight:700>int</span> y, <span style=color:#fff;font-weight:700>int</span> z)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> x + y + z;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Doesnâ€™t compile. The compiler will complain that it canâ€™t find a matching add() function that takes 3 arguments, because the add() function that was forward declared only takes 2 arguments.</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span><span style=color:#fff;font-weight:700>int</span> add(<span style=color:#fff;font-weight:700>int</span> x, <span style=color:#fff;font-weight:700>int</span> y);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;3 + 4 = &#34;</span> &lt;&lt; add(<span style=color:#ff0;font-weight:700>3</span>, <span style=color:#ff0;font-weight:700>4</span>) &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> add(<span style=color:#fff;font-weight:700>int</span> x, <span style=color:#fff;font-weight:700>int</span> y, <span style=color:#fff;font-weight:700>int</span> z)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> x + y + z;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Doesnâ€™t link. The compiler will match the forward declaration of add to the function call to add() in main(). However, no add() function that takes two parameters was ever implemented (we only implemented one that took 3 parameters), so the linker will complain.</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span><span style=color:#fff;font-weight:700>int</span> add(<span style=color:#fff;font-weight:700>int</span> x, <span style=color:#fff;font-weight:700>int</span> y, <span style=color:#fff;font-weight:700>int</span> z);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;3 + 4 + 5 = &#34;</span> &lt;&lt; add(<span style=color:#ff0;font-weight:700>3</span>, <span style=color:#ff0;font-weight:700>4</span>, <span style=color:#ff0;font-weight:700>5</span>) &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> add(<span style=color:#fff;font-weight:700>int</span> x, <span style=color:#fff;font-weight:700>int</span> y, <span style=color:#fff;font-weight:700>int</span> z)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> x + y + z;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Compiles and links. The function call to add() matches the forward declaration, the implemented function also matches.</p><h2 id=å…·æœ‰å¤šä¸ªcppæ–‡ä»¶çš„ç¨‹åº>å…·æœ‰å¤šä¸ªcppæ–‡ä»¶çš„ç¨‹åº<a hidden class=anchor aria-hidden=true href=#å…·æœ‰å¤šä¸ªcppæ–‡ä»¶çš„ç¨‹åº>#</a></h2><h3 id=cpp-æ–‡ä»¶>.cpp æ–‡ä»¶<a hidden class=anchor aria-hidden=true href=#cpp-æ–‡ä»¶>#</a></h3><p>ç¼–è¯‘å™¨ä¼šå•ç‹¬ç¼–è¯‘æ¯ä¸ªæ–‡ä»¶ã€‚å®ƒä¸çŸ¥é“å…¶ä»–ä»£ç æ–‡ä»¶çš„å†…å®¹ï¼Œä¹Ÿä¸è®°å¾—å®ƒä»ä»¥å‰ç¼–è¯‘çš„ä»£ç æ–‡ä»¶ä¸­çœ‹åˆ°çš„ä»»ä½•å†…å®¹ã€‚è¿™ç§æœ‰é™çš„å¯è§æ€§å’ŒçŸ­å†…å­˜æ˜¯æœ‰æ„çš„ï¼Œå› æ­¤æ–‡ä»¶å¯èƒ½å…·æœ‰åç§°ç›¸åŒçš„å‡½æ•°æˆ–å˜é‡è€Œä¸ä¼šç›¸äº’å†²çªã€‚</p><p>C++ è¯­è¨€æ”¯æŒ"åˆ†åˆ«ç¼–è¯‘"ï¼ˆseparatecompilationï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªç¨‹åºæ‰€æœ‰çš„å†…å®¹ï¼Œå¯ä»¥åˆ†æˆä¸åŒçš„éƒ¨åˆ†åˆ†åˆ«æ”¾åœ¨ä¸åŒçš„ .cpp æ–‡ä»¶é‡Œã€‚.cpp æ–‡ä»¶é‡Œçš„ä¸œè¥¿éƒ½æ˜¯ç›¸å¯¹ç‹¬ç«‹çš„ï¼Œåœ¨ç¼–è¯‘ï¼ˆcompileï¼‰æ—¶ä¸éœ€è¦ä¸å…¶ä»–æ–‡ä»¶äº’é€šï¼Œåªéœ€è¦åœ¨ç¼–è¯‘æˆç›®æ ‡æ–‡ä»¶åå†ä¸å…¶ä»–çš„ç›®æ ‡æ–‡ä»¶åšä¸€æ¬¡é“¾æ¥ï¼ˆlinkï¼‰å°±è¡Œäº†ã€‚æ¯”å¦‚ï¼Œåœ¨æ–‡ä»¶ a.cpp ä¸­å®šä¹‰äº†ä¸€ä¸ªå…¨å±€å‡½æ•° &ldquo;void a(){}"ï¼Œè€Œåœ¨æ–‡ä»¶ b.cpp ä¸­éœ€è¦è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚å³ä½¿è¿™æ ·ï¼Œæ–‡ä»¶ a.cpp å’Œæ–‡ä»¶ b.cpp å¹¶ä¸éœ€è¦ç›¸äº’çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ï¼Œè€Œæ˜¯å¯ä»¥åˆ†åˆ«åœ°å¯¹å®ƒä»¬è¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘æˆç›®æ ‡æ–‡ä»¶ä¹‹åå†é“¾æ¥ï¼Œæ•´ä¸ªç¨‹åºå°±å¯ä»¥è¿è¡Œäº†</p><p>è¿™æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿä»å†™ç¨‹åºçš„è§’åº¦æ¥è®²ï¼Œå¾ˆç®€å•ã€‚åœ¨æ–‡ä»¶ b.cpp ä¸­ï¼Œåœ¨è°ƒç”¨ &ldquo;void a()&rdquo; å‡½æ•°ä¹‹å‰ï¼Œå…ˆ<strong>å£°æ˜ä¸€ä¸‹</strong>è¿™ä¸ªå‡½æ•° &ldquo;voida();"ï¼Œå°±å¯ä»¥äº†ã€‚è¿™æ˜¯å› ä¸ºç¼–è¯‘å™¨åœ¨ç¼–è¯‘ b.cpp çš„æ—¶å€™ä¼šç”Ÿæˆä¸€ä¸ªç¬¦å·è¡¨ï¼ˆsymbol tableï¼‰ï¼Œåƒ &ldquo;void a()&rdquo; è¿™æ ·çš„çœ‹ä¸åˆ°å®šä¹‰çš„ç¬¦å·ï¼Œå°±ä¼šè¢«å­˜æ”¾åœ¨è¿™ä¸ªè¡¨ä¸­ã€‚å†è¿›è¡Œé“¾æ¥çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨å°±ä¼šåœ¨åˆ«çš„ç›®æ ‡æ–‡ä»¶ä¸­å»å¯»æ‰¾è¿™ä¸ªç¬¦å·çš„å®šä¹‰ã€‚ä¸€æ—¦æ‰¾åˆ°äº†ï¼Œç¨‹åºä¹Ÿå°±å¯ä»¥é¡ºåˆ©åœ°ç”Ÿæˆäº†</p><h3 id=h-æ–‡ä»¶>.h æ–‡ä»¶<a hidden class=anchor aria-hidden=true href=#h-æ–‡ä»¶>#</a></h3><p>è€ƒè™‘ä¸€ä¸‹ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå¾ˆå¸¸ç”¨çš„å‡½æ•° &ldquo;void f() {}"ï¼Œåœ¨æ•´ä¸ªç¨‹åºä¸­çš„è®¸å¤š .cpp æ–‡ä»¶ä¸­éƒ½ä¼šè¢«è°ƒç”¨ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬å°±åªéœ€è¦åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å®šä¹‰è¿™ä¸ªå‡½æ•°ï¼Œè€Œåœ¨å…¶ä»–çš„æ–‡ä»¶ä¸­å£°æ˜è¿™ä¸ªå‡½æ•°å°±å¯ä»¥äº†ã€‚ä¸€ä¸ªå‡½æ•°è¿˜å¥½å¯¹ä»˜ï¼Œå£°æ˜èµ·æ¥ä¹Ÿå°±ä¸€å¥è¯ã€‚ä½†æ˜¯ï¼Œå¦‚æœå‡½æ•°å¤šäº†ï¼Œæ¯”å¦‚æ˜¯ä¸€å¤§å †çš„æ•°å­¦å‡½æ•°ï¼Œæœ‰å¥½å‡ ç™¾ä¸ªï¼Œé‚£æ€ä¹ˆåŠï¼Ÿ</p><p>å¤´æ–‡ä»¶å…è®¸æˆ‘ä»¬å°†å£°æ˜æ”¾åœ¨ä¸€ä¸ªä½ç½®ï¼Œç„¶ååœ¨æˆ‘ä»¬éœ€è¦çš„åœ°æ–¹å¯¼å…¥å®ƒä»¬ã€‚è¿™å¯ä»¥åœ¨å¤šæ–‡ä»¶ç¨‹åºä¸­èŠ‚çœå¤§é‡çš„è¾“å…¥</p><p>å¤´æ–‡ä»¶é€šå¸¸åªåŒ…å«å‡½æ•°å’Œå˜é‡å£°æ˜ï¼Œè€Œä¸åŒ…å«å‡½æ•°å’Œå˜é‡å®šä¹‰ï¼ˆå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´è¿åå•ä¸€å®šä¹‰è§„åˆ™ï¼‰ã€‚<strong>ç¬¦å·å¸¸é‡</strong>æ˜¯ä¸€ä¸ªä¾‹å¤–</p><p>ä½¿ç”¨åŒå¼•å· <code>""</code> åŒ…æ‹¬æ‚¨ç¼–å†™çš„æˆ–é¢„æœŸåœ¨å½“å‰ç›®å½•ä¸­æ‰¾åˆ°çš„å¤´æ–‡ä»¶</p><p>ä½¿ç”¨å°–æ‹¬å· <code>&lt;></code> æ¥åŒ…å«ç¼–è¯‘å™¨ã€æ“ä½œç³»ç»Ÿæˆ–æ‚¨åœ¨ç³»ç»Ÿå…¶ä»–ä½ç½®å®‰è£…çš„ç¬¬ä¸‰æ–¹åº“é™„å¸¦çš„æ ‡å¤´</p><h4 id=ä¸ºä»€ä¹ˆ-iostream-æ²¡æœ‰-h-æ‰©å±•å>ä¸ºä»€ä¹ˆ iostream æ²¡æœ‰ .h æ‰©å±•åï¼Ÿ<a hidden class=anchor aria-hidden=true href=#ä¸ºä»€ä¹ˆ-iostream-æ²¡æœ‰-h-æ‰©å±•å>#</a></h4><p>é¦–æ¬¡åˆ›å»º C++ æ—¶ï¼Œæ ‡å‡†åº“ä¸­çš„æ‰€æœ‰æ–‡ä»¶éƒ½ä»¥ .h åç¼€ç»“å°¾ã€‚ç”Ÿæ´»æ˜¯ä¸€è‡´çš„ï¼Œè€Œä¸”å¾ˆå¥½ã€‚ cout å’Œ cin çš„åŸå§‹ç‰ˆæœ¬åœ¨ iostream.h ä¸­å£°æ˜ã€‚å½“ ANSI å§”å‘˜ä¼šå¯¹è¯¥è¯­è¨€è¿›è¡Œæ ‡å‡†åŒ–æ—¶ï¼Œä»–ä»¬å†³å®šå°†æ ‡å‡†åº“ä¸­ä½¿ç”¨çš„æ‰€æœ‰åç§°ç§»åŠ¨åˆ° std å‘½åç©ºé—´ä¸­ï¼Œä»¥å¸®åŠ©é¿å…ä¸ç”¨æˆ·å®šä¹‰çš„æ ‡è¯†ç¬¦å‘ç”Ÿå‘½åå†²çªã€‚ç„¶è€Œï¼Œè¿™å¸¦æ¥äº†ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœä»–ä»¬å°†æ‰€æœ‰åç§°ç§»åŠ¨åˆ° std åç§°ç©ºé—´ä¸­ï¼Œé‚£ä¹ˆæ—§ç¨‹åºï¼ˆåŒ…æ‹¬ iostream.hï¼‰å°†ä¸å†å·¥ä½œï¼</p><p>ä¸ºè§£å†³æ­¤é—®é¢˜ï¼Œå¼•å…¥äº†ä¸€ç»„ç¼ºå°‘ .h æ‰©å±•åçš„æ–°å¤´æ–‡ä»¶ã€‚è¿™äº›æ–°çš„å¤´æ–‡ä»¶å®šä¹‰äº† std å‘½åç©ºé—´å†…çš„æ‰€æœ‰åç§°ã€‚è¿™æ ·ï¼ŒåŒ…å« <code>#include &lt;iostream.h></code> çš„æ—§ç¨‹åºä¸éœ€è¦é‡å†™ï¼Œæ–°ç¨‹åºå¯ä»¥ <code>#include &lt;iostream></code></p><h4 id=includeæ¥è‡ªå…¶ä»–ç›®å½•çš„å¤´æ–‡ä»¶>Includeæ¥è‡ªå…¶ä»–ç›®å½•çš„å¤´æ–‡ä»¶<a hidden class=anchor aria-hidden=true href=#includeæ¥è‡ªå…¶ä»–ç›®å½•çš„å¤´æ–‡ä»¶>#</a></h4><p>ä¸€ç§ï¼ˆä¸å¥½çš„ï¼‰æ–¹æ³•æ˜¯åœ¨#include è¡Œä¸­åŒ…å«ä¸€ä¸ªæŒ‡å‘æ‚¨è¦åŒ…å«çš„å¤´æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ã€‚ä¾‹å¦‚ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&#34;headers/myHeader.h&#34;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&#34;../moreHeaders/myOtherHeader.h&#34;</span><span style=color:#0f0;font-weight:700>
</span></span></span></code></pre></div><p>è™½ç„¶è¿™ä¼šç¼–è¯‘ï¼ˆå‡è®¾æ–‡ä»¶å­˜åœ¨äºé‚£äº›ç›¸å¯¹ç›®å½•ä¸­ï¼‰ï¼Œä½†è¿™ç§æ–¹æ³•çš„ç¼ºç‚¹æ˜¯å®ƒéœ€è¦æ‚¨åœ¨ä»£ç ä¸­åæ˜ æ‚¨çš„ç›®å½•ç»“æ„ã€‚å¦‚æœæ‚¨æ›´æ–°äº†ç›®å½•ç»“æ„ï¼Œæ‚¨çš„ä»£ç å°†ä¸å†æœ‰æ•ˆ</p><p><strong>æ›´å¥½çš„æ–¹æ³•</strong>æ˜¯å‘Šè¯‰ä½ çš„ç¼–è¯‘å™¨æˆ– IDE ä½ åœ¨å…¶ä»–ä½ç½®æœ‰ä¸€å †å¤´æ–‡ä»¶ï¼Œè¿™æ ·å½“å®ƒåœ¨å½“å‰ç›®å½•ä¸­æ‰¾ä¸åˆ°å®ƒä»¬æ—¶å°±ä¼šå»é‚£é‡Œå¯»æ‰¾ã€‚è¿™é€šå¸¸å¯ä»¥é€šè¿‡åœ¨ IDE é¡¹ç›®è®¾ç½®ä¸­è®¾ç½®åŒ…å«è·¯å¾„æˆ–æœç´¢ç›®å½•æ¥å®Œæˆ</p><p>è¿™ç§æ–¹æ³•çš„å¥½å¤„æ˜¯ï¼Œå¦‚æœæ‚¨æ›´æ”¹äº†ç›®å½•ç»“æ„ï¼Œæ‚¨åªéœ€æ›´æ”¹ä¸€ä¸ªç¼–è¯‘å™¨æˆ– IDE è®¾ç½®ï¼Œè€Œä¸æ˜¯æ¯ä¸ªä»£ç æ–‡ä»¶</p><h4 id=headers-may-include-other-headers>Headers may include other headers<a hidden class=anchor aria-hidden=true href=#headers-may-include-other-headers>#</a></h4><p>å½“æ‚¨çš„ä»£ç æ–‡ä»¶ <code>#includes</code> ç¬¬ä¸€ä¸ªå¤´æ–‡ä»¶æ—¶ï¼Œæ‚¨è¿˜å°†è·å¾—ç¬¬ä¸€ä¸ªå¤´æ–‡ä»¶åŒ…å«çš„ä»»ä½•å…¶ä»–å¤´æ–‡ä»¶ï¼ˆä»¥åŠé‚£äº›åŒ…å«çš„ä»»ä½•å¤´æ–‡ä»¶ï¼Œç­‰ç­‰ï¼‰ã€‚è¿™äº›é¢å¤–çš„å¤´æ–‡ä»¶æœ‰æ—¶ç§°ä¸ºä¼ é€’åŒ…å«ï¼Œå› ä¸ºå®ƒä»¬æ˜¯éšå¼åŒ…å«è€Œä¸æ˜¯æ˜¾å¼åŒ…å«</p><p>æ¯ä¸ªæ–‡ä»¶éƒ½åº”è¯¥ <code>æ˜¾å¼#include</code> å®ƒéœ€è¦ç¼–è¯‘çš„æ‰€æœ‰å¤´æ–‡ä»¶ã€‚ä¸è¦ä¾èµ–ä»å…¶ä»–æ ‡å¤´ä¼ é€’è¿‡æ¥çš„æ ‡å¤´</p><h4 id=include-å¤´æ–‡ä»¶é¡ºåº>include å¤´æ–‡ä»¶é¡ºåº<a hidden class=anchor aria-hidden=true href=#include-å¤´æ–‡ä»¶é¡ºåº>#</a></h4><p>å¦‚æœä½ çš„å¤´æ–‡ä»¶å†™å¾—æ­£ç¡®å¹¶ä¸”<code>#include</code>äº†ä»–ä»¬éœ€è¦çš„ä¸€åˆ‡ï¼Œé‚£ä¹ˆåŒ…å«çš„é¡ºåºåº”è¯¥æ— å…³ç´§è¦</p><p>ç°åœ¨è€ƒè™‘ä»¥ä¸‹åœºæ™¯ï¼šå‡è®¾ header A éœ€è¦ header B çš„å£°æ˜ï¼Œä½†å¿˜è®°åŒ…å«å®ƒã€‚åœ¨æˆ‘ä»¬çš„ä»£ç æ–‡ä»¶ä¸­ï¼Œå¦‚æœæˆ‘ä»¬åœ¨ header A ä¹‹å‰åŒ…å« header Bï¼Œæˆ‘ä»¬çš„ä»£ç ä»ç„¶å¯ä»¥ç¼–è¯‘ï¼è¿™æ˜¯å› ä¸ºç¼–è¯‘å™¨ä¼šå…ˆç¼–è¯‘ B ä¸­çš„æ‰€æœ‰å£°æ˜ï¼Œç„¶åå†ç¼–è¯‘ A ä¸­ä¾èµ–äºè¿™äº›å£°æ˜çš„ä»£ç </p><p>ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬é¦–å…ˆåŒ…å« header Aï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œå› ä¸º A çš„ä»£ç å°†åœ¨ç¼–è¯‘å™¨çœ‹åˆ° B çš„å£°æ˜ä¹‹å‰ç¼–è¯‘ã€‚è¿™å®é™…ä¸Šæ˜¯æ›´å¯å–çš„ï¼Œå› ä¸ºé”™è¯¯å·²ç»æµ®å‡ºæ°´é¢ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥ä¿®å¤å®ƒ.</p><p>ä¸ºäº†æœ€å¤§é™åº¦åœ°æé«˜ç¼–è¯‘å™¨æ ‡è®°ç¼ºå°‘åŒ…å«çš„æœºä¼šï¼Œè¯·æŒ‰ä»¥ä¸‹æ–¹å¼å‘½ä»¤æ‚¨çš„<code>#includes</code>ï¼š</p><ol><li>The paired header file</li><li>Other headers from your project</li><li>3rd party library headers</li><li>Standard library headers</li></ol><p>The headers for each grouping should be sorted alphabeticallyï¼ˆæŒ‰å­—æ¯é¡ºåºæ’åºï¼‰.</p><p>è¿™æ ·ï¼Œå¦‚æœæ‚¨çš„æŸä¸ªç”¨æˆ·å®šä¹‰çš„ Header ç¼ºå°‘ç¬¬ 3 æ–¹åº“æˆ–æ ‡å‡†åº“ Header çš„<code>#include</code>ï¼Œåˆ™æ›´æœ‰å¯èƒ½å¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼Œå› æ­¤æ‚¨å¯ä»¥ä¿®å¤å®ƒ</p><h4 id=header-file-best-practices>Header file best practices<a hidden class=anchor aria-hidden=true href=#header-file-best-practices>#</a></h4><ol><li>å§‹ç»ˆ include header guards</li><li>ä¸è¦åœ¨å¤´æ–‡ä»¶ä¸­å®šä¹‰å˜é‡å’Œå‡½æ•°ï¼ˆå…¨å±€å¸¸é‡æ˜¯ä¸€ä¸ªä¾‹å¤–ï¼‰</li><li>ä¸ºå¤´æ–‡ä»¶æŒ‡å®šä¸å…¶å…³è”çš„æºæ–‡ä»¶ç›¸åŒçš„åç§°ï¼ˆä¾‹å¦‚ï¼Œgrades.h ä¸ grades.cpp é…å¯¹ï¼‰</li><li>æ¯ä¸ªå¤´æ–‡ä»¶åº”è¯¥æœ‰ä¸€ä¸ªç‰¹å®šçš„å·¥ä½œï¼Œå¹¶ä¸”å°½å¯èƒ½ç‹¬ç«‹ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥å°†ä¸åŠŸèƒ½ A ç›¸å…³çš„æ‰€æœ‰å£°æ˜æ”¾åœ¨ A.h ä¸­ï¼Œå°†ä¸åŠŸèƒ½ B ç›¸å…³çš„æ‰€æœ‰å£°æ˜æ”¾åœ¨ B.h ä¸­ã€‚è¿™æ ·å¦‚æœä½ ä»¥ååªå…³å¿ƒ Aï¼Œä½ å¯ä»¥åª include A.h è€Œä¸ä¼šå¾—åˆ°ä»»ä½•ä¸ B ç›¸å…³çš„ä¸œè¥¿</li><li>è¯·æ³¨æ„æ‚¨éœ€è¦ä¸ºä»£ç æ–‡ä»¶ä¸­ä½¿ç”¨çš„åŠŸèƒ½æ˜¾å¼åŒ…å«å“ªäº› header</li><li>æ‚¨ç¼–å†™çš„æ¯ä¸ª header éƒ½åº”è¯¥è‡ªè¡Œç¼–è¯‘ï¼ˆå®ƒåº”è¯¥<code>#include</code> å®ƒéœ€è¦çš„æ¯ä¸ªä¾èµ–é¡¹ï¼‰</li><li>ä»… <code>#include</code> æ‚¨éœ€è¦çš„å†…å®¹ï¼ˆä¸è¦ä»…ä»…å› ä¸ºå¯ä»¥å°±åŒ…å«æ‰€æœ‰å†…å®¹ï¼‰</li><li>ä¸è¦<code>#include</code> .cpp æ–‡ä»¶</li></ol><h4 id=header-guards>Header guards<a hidden class=anchor aria-hidden=true href=#header-guards>#</a></h4><p>ä½¿ç”¨å¤´æ–‡ä»¶ï¼Œå¾ˆå®¹æ˜“å¯¼è‡´å¤´æ–‡ä»¶ä¸­çš„å®šä¹‰è¢«å¤šæ¬¡åŒ…å«çš„æƒ…å†µã€‚å½“ä¸€ä¸ªå¤´æ–‡ä»¶ <code>#includes</code> å¦ä¸€ä¸ªå¤´æ–‡ä»¶ï¼ˆè¿™å¾ˆå¸¸è§ï¼‰æ—¶ï¼Œå°±ä¼šå‘ç”Ÿé‡å¤å®šä¹‰</p><p>Example:</p><p>square.h:</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#007f7f>// We shouldn&#39;t be including function definitions in header files
</span></span></span><span style=display:flex><span><span style=color:#007f7f>// But for the sake of this example, we will
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>int</span> getSquareSides()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>4</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>geometry.h:</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&#34;square.h&#34;</span><span style=color:#0f0;font-weight:700>
</span></span></span></code></pre></div><p>main.cpp:</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&#34;square.h&#34;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&#34;geometry.h&#34;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>åœ¨é¢„å¤„ç†å®Œæ‰€æœ‰ <code>#includes</code> ä¹‹åï¼Œmain.cpp æœ€ç»ˆçœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> getSquareSides()  <span style=color:#007f7f>// from square.h
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>4</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> getSquareSides() <span style=color:#007f7f>// from geometry.h (via square.h)
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>4</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ç§ç§°ä¸º <code>Header guards</code> çš„æœºåˆ¶æ¥é¿å…ä¸Šè¿°é—®é¢˜ã€‚<code>Header guards</code> æ˜¯é‡‡ç”¨ä»¥ä¸‹å½¢å¼çš„æ¡ä»¶ç¼–è¯‘æŒ‡ä»¤ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#ifndef SOME_UNIQUE_NAME_HERE
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#define SOME_UNIQUE_NAME_HERE
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#007f7f>// your declarations (and certain types of definitions) here
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#endif
</span></span></span></code></pre></div><p>å½“æ­¤æ ‡å¤´ä¸º<code>#included</code> æ—¶ï¼Œé¢„å¤„ç†å™¨ä¼šæ£€æŸ¥ä¹‹å‰æ˜¯å¦å®šä¹‰äº† <code>SOME_UNIQUE_NAME_HERE</code>ã€‚å¦‚æœè¿™æ˜¯æˆ‘ä»¬ç¬¬ä¸€æ¬¡åŒ…å«æ­¤æ ‡å¤´ï¼Œåˆ™ä¸ä¼šå®šä¹‰ <code>SOME_UNIQUE_NAME_HERE</code>ã€‚å› æ­¤ï¼Œå®ƒ <code>#defines SOME_UNIQUE_NAME_HERE</code> å¹¶åŒ…å«æ–‡ä»¶çš„å†…å®¹ã€‚å¦‚æœæ ‡å¤´å†æ¬¡åŒ…å«åˆ°åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œ<code>SOME_UNIQUE_NAME_HERE</code> å°†åœ¨ç¬¬ä¸€æ¬¡åŒ…å«æ ‡å¤´çš„å†…å®¹æ—¶å·²ç»å®šä¹‰ï¼Œå¹¶ä¸”æ ‡å¤´çš„å†…å®¹å°†è¢«å¿½ç•¥</p><p><strong>ä½ æ‰€æœ‰çš„å¤´æ–‡ä»¶éƒ½åº”è¯¥æœ‰å¤´æ–‡ä»¶ä¿æŠ¤</strong>ã€‚ <code>SOME_UNIQUE_NAME_HERE</code> å¯ä»¥æ˜¯æ‚¨æƒ³è¦çš„ä»»ä½•åç§°ï¼Œä½†æŒ‰ç…§æƒ¯ä¾‹è®¾ç½®ä¸ºå¤´æ–‡ä»¶çš„å®Œæ•´æ–‡ä»¶åï¼Œå…¨éƒ¨å¤§å†™ï¼Œä½¿ç”¨ä¸‹åˆ’çº¿ä½œä¸ºç©ºæ ¼æˆ–æ ‡ç‚¹ç¬¦å·</p><p>åœ¨å¤§å‹ç¨‹åºä¸­ï¼Œå¯èƒ½æœ‰ä¸¤ä¸ªå•ç‹¬çš„å¤´æ–‡ä»¶ï¼ˆåŒ…å«åœ¨ä¸åŒçš„ç›®å½•ä¸­ï¼‰æœ€ç»ˆå…·æœ‰ç›¸åŒçš„æ–‡ä»¶åï¼ˆä¾‹å¦‚ <code>directoryA\config.h</code> å’Œ <code>directoryB\config.h</code>ï¼‰ã€‚å¦‚æœä»…æ–‡ä»¶åç”¨äºåŒ…å«ä¿æŠ¤ï¼ˆä¾‹å¦‚ <code>CONFIG_H</code>ï¼‰ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶æœ€ç»ˆå¯èƒ½ä¼šä½¿ç”¨ç›¸åŒçš„ä¿æŠ¤åç§°ã€‚å¦‚æœå‘ç”Ÿè¿™ç§æƒ…å†µï¼Œä»»ä½•åŒ…å«ï¼ˆç›´æ¥æˆ–é—´æ¥ï¼‰è¿™ä¸¤ä¸ª config.h æ–‡ä»¶çš„æ–‡ä»¶å°†ä¸ä¼šæ”¶åˆ°è¦åŒ…å«çš„åŒ…å«æ–‡ä»¶çš„å†…å®¹ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯</p><p>ç”±äºè¿™ç§ä¿æŠ¤åç§°å†²çªçš„å¯èƒ½æ€§ï¼Œè®¸å¤šå¼€å‘äººå‘˜å»ºè®®åœ¨æ ‡å¤´ä¿æŠ¤ä¸­ä½¿ç”¨æ›´å¤æ‚/å”¯ä¸€çš„åç§°ã€‚ä¸€äº›å¥½çš„å»ºè®®æ˜¯ <code>&lt;PROJECT>_&lt;PATH>_&lt;FILE>_H</code> ã€<code>&lt;FILE>_&lt;LARGE RANDOM NUMBER>_H</code> æˆ– <code>&lt;FILE>_&lt;CREATION DATE>_H </code>çš„å‘½åçº¦å®š</p><h5 id=summary>Summary<a hidden class=anchor aria-hidden=true href=#summary>#</a></h5><p>æ ‡å¤´ä¿æŠ¤æ—¨åœ¨ç¡®ä¿ç»™å®šæ ‡å¤´æ–‡ä»¶çš„å†…å®¹ä¸ä¼šè¢«å¤šæ¬¡å¤åˆ¶åˆ°ä»»ä½•<strong>å•ä¸ªæ–‡ä»¶</strong>ä¸­ï¼Œä»¥é˜²æ­¢é‡å¤å®šä¹‰</p><p>è¯·æ³¨æ„ï¼Œé‡å¤å£°æ˜æ˜¯å¯ä»¥çš„ï¼Œå› ä¸ºä¸€ä¸ªå£°æ˜å¯ä»¥å¤šæ¬¡å£°æ˜è€Œä¸ä¼šå‘ç”Ÿæ„å¤–â€”â€”ä½†å³ä½¿æ‚¨çš„å¤´æ–‡ä»¶ç”±æ‰€æœ‰å£°æ˜ï¼ˆæ— å®šä¹‰ï¼‰ç»„æˆï¼ŒåŒ…å«å¤´æ–‡ä»¶ä¿æŠ¤ä»ç„¶æ˜¯ Best Practice</p><p>Note that header guards doÂ <em>not</em>Â prevent the contents of a header file from being copied (once) into separate project files. This is a good thing, because we often need to reference the contents of a given header from different project files</p><h4 id=pragma-once>pragma once<a hidden class=anchor aria-hidden=true href=#pragma-once>#</a></h4><p>ç°ä»£ç¼–è¯‘å™¨ä½¿ç”¨ <code>#pragma</code> æŒ‡ä»¤æ”¯æŒä¸€ç§æ›´ç®€å•çš„æ›¿ä»£å½¢å¼çš„æ ‡å¤´ä¿æŠ¤ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#pragma once
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#007f7f>// your code here
</span></span></span></code></pre></div><p><code>#pragma once</code> ä¸æ ‡å¤´ä¿æŠ¤å…·æœ‰ç›¸åŒçš„ç›®çš„ï¼Œå¹¶ä¸”å…·æœ‰æ›´çŸ­ä¸”ä¸æ˜“å‡ºé”™çš„é¢å¤–å¥½å¤„ã€‚å¯¹äºå¤§å¤šæ•°é¡¹ç›®ï¼Œ<code>#pragma once</code> å·¥ä½œæ­£å¸¸ï¼Œè®¸å¤šå¼€å‘äººå‘˜æ›´å–œæ¬¢ä½¿ç”¨å®ƒä»¬è€Œä¸æ˜¯æ ‡å¤´ä¿æŠ¤ã€‚ç„¶è€Œï¼Œ<code>#pragma once</code> å¹¶ä¸æ˜¯ C++ è¯­è¨€çš„æ­£å¼éƒ¨åˆ†ï¼ˆè€Œä¸”å¯èƒ½æ°¸è¿œä¸ä¼šæ˜¯ï¼Œå› ä¸ºå®ƒæ— æ³•ä»¥åœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½å¯é å·¥ä½œçš„æ–¹å¼å®ç°ï¼‰</p><p>ä¸ºäº†æœ€å¤§çš„å¯ç§»æ¤æ€§ï¼Œä¼˜å…ˆä½¿ç”¨ <code>header guards</code> è€Œä¸æ˜¯ <code>#pragma once</code></p><h2 id=å‘½åå†²çªå’Œå‘½åç©ºé—´ä»‹ç»>å‘½åå†²çªå’Œå‘½åç©ºé—´ä»‹ç»<a hidden class=anchor aria-hidden=true href=#å‘½åå†²çªå’Œå‘½åç©ºé—´ä»‹ç»>#</a></h2><h3 id=å‘½åå†²çª>å‘½åå†²çª<a hidden class=anchor aria-hidden=true href=#å‘½åå†²çª>#</a></h3><p>å¤§å¤šæ•°å‘½åå†²çªå‘ç”Ÿåœ¨ä¸¤ç§æƒ…å†µä¸‹ï¼š</p><p>ä¸¤ä¸ªï¼ˆæˆ–æ›´å¤šï¼‰åŒåå‡½æ•°ï¼ˆæˆ–å…¨å±€å˜é‡ï¼‰è¢«å¼•å…¥åˆ°å±äºåŒä¸€ç¨‹åºçš„ä¸åŒæ–‡ä»¶ä¸­ã€‚è¿™å°†å¯¼è‡´<strong>é“¾æ¥å™¨é”™è¯¯</strong></p><p>ä¸¤ä¸ªï¼ˆæˆ–æ›´å¤šï¼‰åŒåå‡½æ•°ï¼ˆæˆ–å…¨å±€å˜é‡ï¼‰è¢«å¼•å…¥åˆ°åŒä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚è¿™å°†å¯¼è‡´<strong>ç¼–è¯‘å™¨é”™è¯¯</strong></p><h3 id=å‘½åç©ºé—´>å‘½åç©ºé—´<a hidden class=anchor aria-hidden=true href=#å‘½åç©ºé—´>#</a></h3><p><strong>å‘½åç©ºé—´</strong>æ˜¯ä¸€ä¸ªåŒºåŸŸï¼Œå…è®¸æ‚¨åœ¨å…¶ä¸­å£°æ˜åç§°ä»¥æ¶ˆé™¤æ­§ä¹‰ã€‚å‘½åç©ºé—´ä¸ºåœ¨å…¶ä¸­å£°æ˜çš„åç§°æä¾›ä¸€ä¸ªä½œç”¨åŸŸåŒºåŸŸï¼ˆç§°ä¸ºå‘½åç©ºé—´ä½œç”¨åŸŸï¼‰â€”â€”è¿™ä»…ä»…æ„å‘³ç€åœ¨å‘½åç©ºé—´å†…å£°æ˜çš„ä»»ä½•åç§°éƒ½ä¸ä¼šè¢«è¯¯è®¤ä¸ºæ˜¯å…¶ä»–ä½œç”¨åŸŸä¸­çš„ç›¸åŒåç§°</p><p><strong>å‘½åç©ºé—´</strong>é€šå¸¸ç”¨äºå¯¹å¤§å‹é¡¹ç›®ä¸­çš„ç›¸å…³æ ‡è¯†ç¬¦è¿›è¡Œåˆ†ç»„ï¼Œä»¥å¸®åŠ©ç¡®ä¿å®ƒä»¬ä¸ä¼šæ— æ„ä¸­ä¸å…¶ä»–æ ‡è¯†ç¬¦å‘ç”Ÿå†²çªã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å°†æ‰€æœ‰æ•°å­¦å‡½æ•°æ”¾åœ¨ä¸€ä¸ªåä¸º math çš„å‘½åç©ºé—´ä¸­ï¼Œé‚£ä¹ˆæ‚¨çš„æ•°å­¦å‡½æ•°å°†ä¸ä¼šä¸ math å‘½åç©ºé—´ä¹‹å¤–çš„åŒåå‡½æ•°å‘ç”Ÿå†²çª</p><p>åœ¨ C++ ä¸­ï¼Œä»»ä½•æœªåœ¨ç±»ã€å‡½æ•°æˆ–å‘½åç©ºé—´å†…å®šä¹‰çš„åç§°éƒ½è¢«è§†ä¸ºéšå¼å®šä¹‰çš„å‘½åç©ºé—´çš„ä¸€éƒ¨åˆ†ï¼Œç§°ä¸º<strong>å…¨å±€å‘½åç©ºé—´</strong>ï¼ˆæœ‰æ—¶ä¹Ÿç§°ä¸ºå…¨å±€èŒƒå›´ï¼‰</p><p>åªæœ‰å£°æ˜å’Œå®šä¹‰è¯­å¥å¯ä»¥å‡ºç°åœ¨å…¨å±€å‘½åç©ºé—´ä¸­ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥åœ¨å…¨å±€å‘½åç©ºé—´ä¸­å®šä¹‰å˜é‡ï¼Œå°½ç®¡é€šå¸¸åº”è¯¥é¿å…è¿™ç§æƒ…å†µã€‚è¿™ä¹Ÿæ„å‘³ç€å…¶ä»–ç±»å‹çš„è¯­å¥ï¼ˆä¾‹å¦‚è¡¨è¾¾å¼è¯­å¥ï¼‰ä¸èƒ½æ”¾åœ¨å…¨å±€å‘½åç©ºé—´ä¸­ï¼ˆå…¨å±€å˜é‡çš„åˆå§‹åŒ–å™¨æ˜¯ä¸€ä¸ªä¾‹å¤–ï¼‰ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt; // handled by preprocessor</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#007f7f>// All of the following statements are part of the global namespace
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>void</span> foo();    <span style=color:#007f7f>// okay: function forward declaration in the global namespace
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>int</span> x;         <span style=color:#007f7f>// compiles but strongly discouraged: uninitialized variable definition in the global namespace
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>int</span> y { <span style=color:#ff0;font-weight:700>5</span> };   <span style=color:#007f7f>// compiles but discouraged: variable definition with initializer in the global namespace
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>x = <span style=color:#ff0;font-weight:700>5</span>;         <span style=color:#007f7f>// compile error: executable statements are not allowed in the global namespace
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()     <span style=color:#007f7f>// okay: function definition in the global namespace
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>void</span> goo();    <span style=color:#007f7f>// okay: another function forward declaration in the global namespace
</span></span></span></code></pre></div><p>åœ¨æœ€åˆè®¾è®¡ C++ æ—¶ï¼ŒC++ æ ‡å‡†åº“ä¸­çš„æ‰€æœ‰æ ‡è¯†ç¬¦ï¼ˆåŒ…æ‹¬ std::cin å’Œ std::coutï¼‰éƒ½å¯ä»¥åœ¨æ²¡æœ‰ std:: å‰ç¼€çš„æƒ…å†µä¸‹ä½¿ç”¨ï¼ˆå®ƒä»¬æ˜¯å…¨å±€å‘½åç©ºé—´çš„ä¸€éƒ¨åˆ†ï¼‰ã€‚ä½†æ˜¯ï¼Œè¿™æ„å‘³ç€æ ‡å‡†åº“ä¸­çš„ä»»ä½•æ ‡è¯†ç¬¦éƒ½å¯èƒ½ä¸æ‚¨ä¸ºè‡ªå·±çš„æ ‡è¯†ç¬¦é€‰æ‹©çš„ä»»ä½•åç§°ï¼ˆä¹Ÿåœ¨å…¨å±€å‘½åç©ºé—´ä¸­å®šä¹‰ï¼‰å‘ç”Ÿå†²çªã€‚å½“æ‚¨#include æ ‡å‡†åº“ä¸­çš„æ–°æ–‡ä»¶æ—¶ï¼Œæ­£åœ¨è¿è¡Œçš„ä»£ç å¯èƒ½ä¼šçªç„¶å‡ºç°å‘½åå†²çªã€‚æˆ–è€…æ›´ç³Ÿçš„æ˜¯ï¼Œåœ¨ä¸€ä¸ªç‰ˆæœ¬çš„ C++ ä¸‹ç¼–è¯‘çš„ç¨‹åºå¯èƒ½æ— æ³•åœ¨æœªæ¥çš„ C++ ç‰ˆæœ¬ä¸‹ç¼–è¯‘ï¼Œå› ä¸ºå¼•å…¥æ ‡å‡†åº“çš„æ–°æ ‡è¯†ç¬¦å¯èƒ½ä¸å·²ç»ç¼–å†™çš„ä»£ç å‘ç”Ÿå‘½åå†²çªã€‚å› æ­¤ï¼ŒC++ å°†æ ‡å‡†åº“ä¸­çš„æ‰€æœ‰åŠŸèƒ½ç§»åŠ¨åˆ°åä¸ºâ€œstdâ€ï¼ˆæ ‡å‡†çš„ç¼©å†™ï¼‰çš„å‘½åç©ºé—´ä¸­</p><p>std::cout çš„åå­—å¹¶ä¸æ˜¯çœŸæ­£çš„ std::coutã€‚å®ƒå®é™…ä¸Šåªæ˜¯ coutï¼Œè€Œ std æ˜¯æ ‡è¯†ç¬¦ cout æ‰€å±çš„å‘½åç©ºé—´çš„åç§°ã€‚å› ä¸º cout æ˜¯åœ¨ std å‘½åç©ºé—´ä¸­å®šä¹‰çš„ï¼Œæ‰€ä»¥åç§° cout ä¸ä¼šä¸æˆ‘ä»¬åœ¨å…¨å±€å‘½åç©ºé—´ä¸­åˆ›å»ºçš„ä»»ä½•åä¸º cout çš„å¯¹è±¡æˆ–å‡½æ•°å‘ç”Ÿå†²çª</p><h2 id=é¢„å¤„ç†å™¨ç®€ä»‹>é¢„å¤„ç†å™¨ç®€ä»‹<a hidden class=anchor aria-hidden=true href=#é¢„å¤„ç†å™¨ç®€ä»‹>#</a></h2><p>åœ¨ç¼–è¯‘ä¹‹å‰ï¼Œä»£ç æ–‡ä»¶ä¼šç»å†ä¸€ä¸ªç§°ä¸ºç¿»è¯‘çš„é˜¶æ®µã€‚ç¿»è¯‘é˜¶æ®µä¼šå‘ç”Ÿå¾ˆå¤šäº‹æƒ…ï¼Œè®©æ‚¨çš„ä»£ç å‡†å¤‡å¥½è¿›è¡Œç¼–è¯‘ï¼ˆå¦‚æœæ‚¨å¥½å¥‡ï¼Œå¯ä»¥åœ¨æ­¤å¤„æ‰¾åˆ°ç¿»è¯‘é˜¶æ®µåˆ—è¡¨ï¼‰ã€‚åº”ç”¨äº†ç¿»è¯‘çš„ä»£ç æ–‡ä»¶ç§°ä¸ºç¿»è¯‘å•å…ƒ</p><p>æœ€å€¼å¾—æ³¨æ„çš„ç¿»è¯‘é˜¶æ®µæ¶‰åŠé¢„å¤„ç†å™¨ã€‚é¢„å¤„ç†å™¨æœ€å¥½è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå•ç‹¬çš„ç¨‹åºï¼Œå®ƒå¯ä»¥å¤„ç†æ¯ä¸ªä»£ç æ–‡ä»¶ä¸­çš„æ–‡æœ¬</p><p>å½“é¢„å¤„ç†å™¨è¿è¡Œæ—¶ï¼Œå®ƒä¼šæ‰«æä»£ç æ–‡ä»¶ï¼ˆä»ä¸Šåˆ°ä¸‹ï¼‰ï¼Œå¯»æ‰¾é¢„å¤„ç†å™¨æŒ‡ä»¤ã€‚é¢„å¤„ç†ç¨‹åºæŒ‡ä»¤ï¼ˆé€šå¸¸ç®€ç§°ä¸º <strong>æŒ‡ä»¤ï¼ˆDirectivesï¼‰</strong>ï¼‰æ˜¯ä»¥# ç¬¦å·å¼€å¤´å¹¶ä»¥æ¢è¡Œç¬¦ï¼ˆä¸æ˜¯åˆ†å·ï¼‰ç»“å°¾çš„æŒ‡ä»¤ã€‚è¿™äº›æŒ‡ä»¤å‘Šè¯‰é¢„å¤„ç†å™¨æ‰§è¡ŒæŸäº›æ–‡æœ¬æ“ä½œä»»åŠ¡ã€‚è¯·æ³¨æ„ï¼Œé¢„å¤„ç†å™¨ä¸ç†è§£ C++ è¯­æ³•â€”â€”ç›¸åï¼ŒæŒ‡ä»¤æœ‰è‡ªå·±çš„è¯­æ³•ï¼ˆåœ¨æŸäº›æƒ…å†µä¸‹ç±»ä¼¼äº C++ è¯­æ³•ï¼Œè€Œåœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œåˆ™ä¸å¤ªç›¸ä¼¼ï¼‰</p><p>è¯·æ³¨æ„ï¼Œé¢„å¤„ç†å™¨ä¸ä¼šä»¥ä»»ä½•æ–¹å¼ä¿®æ”¹åŸå§‹ä»£ç æ–‡ä»¶â€”â€”ç›¸åï¼Œé¢„å¤„ç†å™¨æ‰€åšçš„æ‰€æœ‰æ–‡æœ¬æ›´æ”¹éƒ½ä¼šåœ¨æ¯æ¬¡ç¼–è¯‘ä»£ç æ–‡ä»¶æ—¶ä¸´æ—¶å‘ç”Ÿåœ¨å†…å­˜ä¸­æˆ–ä½¿ç”¨ä¸´æ—¶æ–‡ä»¶</p><h3 id=includes>Includes<a hidden class=anchor aria-hidden=true href=#includes>#</a></h3><p>å½“æ‚¨ <code>#include</code> ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œé¢„å¤„ç†å™¨ä¼šç”¨ include æ–‡ä»¶çš„å†…å®¹æ›¿æ¢ <code>#include</code> æŒ‡ä»¤ã€‚ç„¶åå¯¹ include çš„å†…å®¹è¿›è¡Œé¢„å¤„ç†ï¼ˆè¿åŒæ–‡ä»¶çš„å…¶ä½™éƒ¨åˆ†ï¼‰ï¼Œç„¶åè¿›è¡Œç¼–è¯‘</p><h3 id=macro-defines>Macro defines<a hidden class=anchor aria-hidden=true href=#macro-defines>#</a></h3><p><code>#define</code> æŒ‡ä»¤å¯ç”¨äºåˆ›å»º <strong>å®</strong></p><p>æœ‰ä¸¤ç§åŸºæœ¬ç±»å‹çš„å®ï¼š<strong>ç±»å¯¹è±¡å®</strong>å’Œ<strong>ç±»å‡½æ•°å®</strong></p><p><strong>ç±»å‡½æ•°å®</strong>çš„è¡Œä¸ºç±»ä¼¼äºå‡½æ•°ï¼Œå¹¶ä¸”å…·æœ‰ç›¸ä¼¼çš„ç›®çš„ã€‚å®ƒä»¬çš„ä½¿ç”¨é€šå¸¸è¢«è®¤ä¸ºæ˜¯å±é™©çš„ï¼Œå®ƒä»¬å‡ ä¹å¯ä»¥åšçš„ä»»ä½•äº‹æƒ…éƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ªæ­£å¸¸çš„å‡½æ•°æ¥å®Œæˆ</p><p><strong>ç±»å¯¹è±¡å®</strong>å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼ä¹‹ä¸€å®šä¹‰ï¼š</p><pre tabindex=0><code>#define identifier
#define identifier substitution_text
</code></pre><p><strong>æ›¿æ¢æ–‡æœ¬</strong>çš„ç±»å¯¹è±¡å®è¢«ç”¨ä½œï¼ˆåœ¨ C ä¸­ï¼‰å°†åç§°åˆ†é…ç»™æ–‡å­—çš„ä¸€ç§æ–¹å¼ã€‚è¿™ä¸å†æ˜¯å¿…éœ€çš„ï¼Œå› ä¸º C++ ä¸­æä¾›äº†æ›´å¥½çš„æ–¹æ³•ï¼ˆConst å˜é‡å’Œç¬¦å·å¸¸é‡ï¼‰ã€‚å¸¦æœ‰æ›¿æ¢æ–‡æœ¬çš„ç±»å¯¹è±¡å®ç°åœ¨é€šå¸¸åªèƒ½åœ¨é—ç•™ä»£ç ä¸­çœ‹åˆ°</p><p><strong>æ²¡æœ‰æ›¿æ¢æ–‡æœ¬</strong>çš„ç±»å¯¹è±¡å®ï¼šæ ‡è¯†ç¬¦çš„ä»»ä½•è¿›ä¸€æ­¥å‡ºç°éƒ½å°†è¢«åˆ é™¤å¹¶è¢«æ›¿æ¢ä¸ºä»»ä½•ä¸œè¥¿ï¼</p><p>ä¸å¸¦æœ‰æ›¿æ¢æ–‡æœ¬çš„ç±»å¯¹è±¡å®ä¸åŒï¼Œè¿™ç§å½¢å¼çš„å®é€šå¸¸è¢«è®¤ä¸ºå¯ä»¥ä½¿ç”¨ã€‚</p><h3 id=conditional-compilation>Conditional compilation<a hidden class=anchor aria-hidden=true href=#conditional-compilation>#</a></h3><p><strong>æ¡ä»¶ç¼–è¯‘é¢„å¤„ç†å™¨æŒ‡ä»¤</strong>å…è®¸æ‚¨æŒ‡å®šåœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹ç¼–è¯‘æˆ–ä¸ç¼–è¯‘ã€‚æœ‰å¾ˆå¤šä¸åŒçš„æ¡ä»¶ç¼–è¯‘æŒ‡ä»¤ï¼Œä½†æˆ‘ä»¬åœ¨è¿™é‡Œåªä»‹ç»ç›®å‰ä½¿ç”¨æœ€å¤šçš„ä¸‰ä¸ªï¼š<code>#ifdef</code>ã€<code>#ifndef</code> å’Œ <code>#endif</code></p><p><code>#ifdef</code> é¢„å¤„ç†å™¨æŒ‡ä»¤å…è®¸é¢„å¤„ç†å™¨æ£€æŸ¥æ ‡è¯†ç¬¦æ˜¯å¦å…ˆå‰å·²è¢«<code>#defined</code>ã€‚å¦‚æœæ˜¯ï¼Œç¼–è¯‘ <code>#ifdef</code> å’ŒåŒ¹é…çš„ <code>#endif</code> ä¹‹é—´çš„ä»£ç ã€‚å¦‚æœä¸æ˜¯ï¼Œä»£ç å°†è¢«å¿½ç•¥</p><p>è€ƒè™‘ä»¥ä¸‹ç¨‹åºï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#define PRINT_JOE
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#ifdef PRINT_JOE
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;Joe</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>; <span style=color:#007f7f>// will be compiled since PRINT_JOE is defined
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#0f0;font-weight:700>#endif
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#ifdef PRINT_BOB
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;Bob</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>; <span style=color:#007f7f>// will be ignored since PRINT_BOB is not defined
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#0f0;font-weight:700>#endif
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>å› ä¸º <code>PRINT_JOE</code> å·²è¢« <code>#defined</code>ï¼Œ<code>std::cout &lt;&lt; "Joe\n"</code> è¡Œå°†è¢«ç¼–è¯‘ã€‚å› ä¸º <code>PRINT_BOB</code> å°šæœªè¢« <code>#defined</code>ï¼Œ<code>std::cout &lt;&lt; "Bob\n" </code>è¡Œå°†è¢«å¿½ç•¥</p><p><code>#ifndef</code> ä¸ <code>#ifdef</code> ç›¸åï¼Œå› ä¸ºå®ƒå…è®¸æ‚¨æ£€æŸ¥æ ‡è¯†ç¬¦æ˜¯å¦å°šæœª <code>#defined</code></p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#ifndef PRINT_BOB
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;Bob</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#endif
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>è¯¥ç¨‹åºæ‰“å° <code>â€œBobâ€</code>ï¼Œå› ä¸º <code>PRINT_BOB</code> ä»æœªè¢« <code>#defined</code></p><p>æ¡ä»¶ç¼–è¯‘çš„ä¸€ä¸ªæ›´å¸¸è§çš„ç”¨é€”æ˜¯ä½¿ç”¨ <code>#if 0</code> å°†ä»£ç å—æ’é™¤åœ¨ç¼–è¯‘ä¹‹å¤–ï¼ˆå°±åƒå®ƒåœ¨æ³¨é‡Šå—ä¸­ä¸€æ ·ï¼‰ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;Joe</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#if 0</span><span style=color:#007f7f> // Don&#39;t compile anything starting here
</span></span></span><span style=display:flex><span><span style=color:#007f7f>    std::cout &lt;&lt; &#34;Bob\n&#34;;
</span></span></span><span style=display:flex><span><span style=color:#007f7f>    std::cout &lt;&lt; &#34;Steve\n&#34;;
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#0f0;font-weight:700>#endif // until this point
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>è¿™ä¹Ÿæä¾›äº†ä¸€ç§æ–¹ä¾¿çš„æ–¹æ³•æ¥**â€œæ³¨é‡Šæ‰â€åŒ…å«å¤šè¡Œæ³¨é‡Šçš„ä»£ç **ï¼ˆç”±äºå¤šè¡Œæ³¨é‡Šæ˜¯ä¸å¯åµŒå¥—çš„ï¼Œå› æ­¤ä¸èƒ½ä½¿ç”¨å¦ä¸€ä¸ªå¤šè¡Œæ³¨é‡Šæ¥æ³¨é‡Šæ‰ï¼‰ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;Joe</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#if 0</span><span style=color:#007f7f> // Don&#39;t compile anything starting here
</span></span></span><span style=display:flex><span><span style=color:#007f7f>    std::cout &lt;&lt; &#34;Bob\n&#34;;
</span></span></span><span style=display:flex><span><span style=color:#007f7f>    /* Some
</span></span></span><span style=display:flex><span><span style=color:#007f7f>     * multi-line
</span></span></span><span style=display:flex><span><span style=color:#007f7f>     * comment here
</span></span></span><span style=display:flex><span><span style=color:#007f7f>     */
</span></span></span><span style=display:flex><span><span style=color:#007f7f>    std::cout &lt;&lt; &#34;Steve\n&#34;;
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#0f0;font-weight:700>#endif // until this point
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><strong>ç±»å¯¹è±¡å®ä¸å½±å“å…¶ä»–é¢„å¤„ç†å™¨æŒ‡ä»¤ï¼Œå®åªä¼šå¯¼è‡´æ™®é€šä»£ç çš„æ–‡æœ¬æ›¿æ¢ã€‚å…¶ä»–é¢„å¤„ç†å™¨å‘½ä»¤å°†è¢«å¿½ç•¥</strong></p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#define FOO 9 </span><span style=color:#007f7f>// Here&#39;s a macro substitution
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#ifdef FOO </span><span style=color:#007f7f>// This FOO does not get replaced because itâ€™s part of another preprocessor directive
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    std::cout &lt;&lt; FOO; <span style=color:#007f7f>// This FOO gets replaced with 9 because it&#39;s part of the normal code
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#0f0;font-weight:700>#endif
</span></span></span></code></pre></div><p>æŒ‡ä»¤åœ¨ç¼–è¯‘å‰è§£æï¼Œé€ä¸ªæ–‡ä»¶åœ°ä»ä¸Šåˆ°ä¸‹è§£æ</p><pre tabindex=0><code>#include &lt;iostream&gt;

void foo()
{
#define MY_NAME &#34;Alex&#34;
}

int main()
{
	std::cout &lt;&lt; &#34;My name is: &#34; &lt;&lt; MY_NAME;

	return 0;
}
</code></pre><p>å³ä½¿çœ‹èµ·æ¥ <code>#define MY_NAME â€œAlexâ€</code> æ˜¯åœ¨å‡½æ•° <code>foo</code> ä¸­å®šä¹‰çš„ï¼Œé¢„å¤„ç†å™¨ä¹Ÿä¸ä¼šæ³¨æ„åˆ°ï¼Œå› ä¸ºå®ƒä¸ç†è§£åƒå‡½æ•°è¿™æ ·çš„ C++ æ¦‚å¿µã€‚å› æ­¤ï¼Œè¯¥ç¨‹åºçš„è¡Œä¸ºä¸ <code>#define MY_NAME â€œAlexâ€</code> åœ¨å‡½æ•° <code>foo</code> ä¹‹å‰æˆ–ä¹‹åç«‹å³å®šä¹‰çš„ç¨‹åºç›¸åŒã€‚ä¸ºäº†ä¸€èˆ¬çš„å¯è¯»æ€§ï¼Œæ‚¨é€šå¸¸å¸Œæœ›åœ¨å‡½æ•°ä¹‹å¤– <code>#define</code> æ ‡è¯†ç¬¦</p><p>é¢„å¤„ç†å™¨å®Œæˆåï¼Œè¯¥æ–‡ä»¶ä¸­æ‰€æœ‰å®šä¹‰çš„æ ‡è¯†ç¬¦éƒ½å°†è¢«ä¸¢å¼ƒã€‚è¿™æ„å‘³ç€æŒ‡ä»¤<strong>ä»…ä»å®šä¹‰ç‚¹åˆ°å®šä¹‰å®ƒä»¬çš„æ–‡ä»¶æœ«å°¾æœ‰æ•ˆ</strong>ã€‚<strong>ä¸€ä¸ªä»£ç æ–‡ä»¶ä¸­å®šä¹‰çš„æŒ‡ä»¤ä¸ä¼šå½±å“åŒä¸€é¡¹ç›®ä¸­çš„å…¶ä»–ä»£ç æ–‡ä»¶</strong></p><p>è€ƒè™‘ä»¥ä¸‹ç¤ºä¾‹ï¼š</p><p>function.cpp:</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>void</span> doSomething()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#ifdef PRINT
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;Printing!&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#endif
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#ifndef PRINT
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;Not printing!&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#endif
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>}
</span></span></code></pre></div><p>main.cpp:</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#fff;font-weight:700>void</span> doSomething(); <span style=color:#007f7f>// forward declaration for function doSomething()
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#define PRINT
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    doSomething();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ä¸Šé¢çš„ç¨‹åºä¼šæ‰“å°ï¼š</p><pre tabindex=0><code>Not printing!
</code></pre><p>å°½ç®¡ <code>PRINT</code> æ˜¯åœ¨ <code>main.cpp</code> ä¸­å®šä¹‰çš„ï¼Œä½†è¿™å¯¹ <code>function.cpp</code> ä¸­çš„ä»»ä½•ä»£ç éƒ½æ²¡æœ‰ä»»ä½•å½±å“ï¼ˆ<code>PRINT</code> åªæ˜¯ä»å®šä¹‰ç‚¹åˆ° <code>main.cpp</code> æœ«å°¾çš„ <code>#defined</code>ï¼‰</p><h2 id=å¦‚ä½•å®Œæˆä½ çš„ç¬¬ä¸€ä¸ªç¨‹åº>å¦‚ä½•å®Œæˆä½ çš„ç¬¬ä¸€ä¸ªç¨‹åº<a hidden class=anchor aria-hidden=true href=#å¦‚ä½•å®Œæˆä½ çš„ç¬¬ä¸€ä¸ªç¨‹åº>#</a></h2><ol><li>Designï¼ˆè®¾è®¡ï¼‰<ol><li>å®šä¹‰ç›®æ ‡ã€‚å°†æ­¤è¡¨ç¤ºä¸ºé¢å‘ç”¨æˆ·çš„ç»“æœé€šå¸¸å¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚ï¼š<ul><li>å…è®¸ç”¨æˆ·ç»„ç»‡å§“åå’Œç›¸å…³ç”µè¯å·ç çš„åˆ—è¡¨</li><li>æ¨¡æ‹Ÿçƒä»å¡”ä¸Šæ‰è½åˆ°åœ°é¢éœ€è¦å¤šé•¿æ—¶é—´</li></ul></li><li>å®šä¹‰éœ€æ±‚ã€‚æ—¢æŒ‡æ‚¨çš„è§£å†³æ–¹æ¡ˆéœ€è¦éµå®ˆçš„çº¦æŸï¼ˆä¾‹å¦‚é¢„ç®—ã€æ—¶é—´çº¿ã€ç©ºé—´ã€å†…å­˜ç­‰ï¼‰ï¼Œä¹ŸæŒ‡ç¨‹åºä¸ºæ»¡è¶³ç”¨æˆ·éœ€æ±‚è€Œå¿…é¡»å±•ç¤ºçš„èƒ½åŠ›ã€‚è¯·æ³¨æ„ï¼Œæ‚¨çš„è¦æ±‚åŒæ ·åº”è¯¥å…³æ³¨â€œä»€ä¹ˆâ€ï¼Œè€Œä¸æ˜¯â€œå¦‚ä½•â€ã€‚ä¾‹å¦‚ï¼š<ul><li>åº”ä¿å­˜ç”µè¯å·ç ï¼Œä»¥ä¾¿æ—¥åè°ƒç”¨</li><li>ç”¨æˆ·åº”è¯¥èƒ½å¤Ÿè¾“å…¥å¡”çš„é«˜åº¦</li></ul></li><li>å®šä¹‰æ‚¨çš„å·¥å…·ã€ç›®æ ‡å’Œå¤‡ä»½è®¡åˆ’<ol><li>å®šä¹‰æ‚¨çš„ç¨‹åºå°†è¿è¡Œçš„ç›®æ ‡æ¶æ„ å’Œ/æˆ– æ“ä½œç³»ç»Ÿ</li><li>ç¡®å®šæ‚¨å°†ä½¿ç”¨çš„å·¥å…·é›†</li><li>ç¡®å®šæ‚¨æ˜¯å•ç‹¬ç¼–å†™ç¨‹åºè¿˜æ˜¯ä½œä¸ºå›¢é˜Ÿçš„ä¸€éƒ¨åˆ†ç¼–å†™ç¨‹åºâ€™</li><li>å®šä¹‰æ‚¨çš„æµ‹è¯•/åé¦ˆ/å‘å¸ƒç­–ç•¥</li><li>ç¡®å®šæ‚¨å°†å¦‚ä½•å¤‡ä»½æ‚¨çš„ä»£ç </li></ol></li><li>å°†å›°éš¾é—®é¢˜åˆ†è§£ä¸ºç®€å•é—®é¢˜ã€‚å¦‚æœå‘ç°å…¶ä¸­ä¸€ä¸ªé¡¹ç›®ï¼ˆåŠŸèƒ½ï¼‰å¤ªéš¾å®ç°ï¼Œåªéœ€å°†è¯¥é¡¹ç›®æ‹†åˆ†ä¸ºå¤šä¸ªå­é¡¹ç›®/å­åŠŸèƒ½ã€‚æœ€ç»ˆï¼Œæ‚¨åº”è¯¥è¾¾åˆ°ç¨‹åºä¸­çš„æ¯ä¸ªåŠŸèƒ½éƒ½å¯ä»¥è½»æ¾å®ç°çš„åœ°æ­¥</li><li>å¼„æ¸…æ¥šäº‹ä»¶çš„é¡ºåº</li></ol></li><li>Implementationï¼ˆå®ç°ï¼‰<ol><li>æ¦‚è¿°æ‚¨çš„ä¸»è¦åŠŸèƒ½ã€‚</li></ol><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#007f7f>// Get first number from user
</span></span></span><span style=display:flex><span><span style=color:#007f7f>//    getUserInput();
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    <span style=color:#007f7f>// Get mathematical operation from user
</span></span></span><span style=display:flex><span><span style=color:#007f7f>//    getMathematicalOperation();
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    <span style=color:#007f7f>// Get second number from user
</span></span></span><span style=display:flex><span><span style=color:#007f7f>//    getUserInput();
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    <span style=color:#007f7f>// Calculate result
</span></span></span><span style=display:flex><span><span style=color:#007f7f>//    calculateResult();
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    <span style=color:#007f7f>// Print result
</span></span></span><span style=display:flex><span><span style=color:#007f7f>//    printResult();
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=2><li>å®ç°å„ä¸ªåŠŸèƒ½ã€‚å¯¹äºæ¯ä¸ªå‡½æ•°ï¼Œæ‚¨å°†åšä¸‰ä»¶äº‹ï¼š<ol><li>å®šä¹‰å‡½æ•°åŸå‹ï¼ˆè¾“å…¥å’Œè¾“å‡ºï¼‰</li><li>ç¼–å†™å‡½æ•°</li><li>æµ‹è¯•åŠŸèƒ½</li></ol></li><li>æœ€ç»ˆæµ‹è¯•ã€‚ä¸€æ—¦ä½ çš„ç¨‹åºâ€œå®Œæˆâ€ï¼Œæœ€åä¸€æ­¥å°±æ˜¯æµ‹è¯•æ•´ä¸ªç¨‹åºå¹¶ç¡®ä¿å®ƒæŒ‰é¢„æœŸå·¥ä½œã€‚å¦‚æœå®ƒä¸èµ·ä½œç”¨ï¼Œè¯·ä¿®å¤å®ƒ</li></ol></li><li>Words of advice when writing programsï¼ˆå¿ å‘Šï¼‰<ol><li><strong>Keep your programs simple to start</strong>.è®©ä½ çš„ç¬¬ä¸€ä¸ªç›®æ ‡å°½å¯èƒ½ç®€å•ï¼Œä¸€äº›ä½ ç»å¯¹å¯ä»¥å®ç°çš„ç›®æ ‡</li><li><strong>Add features over time</strong>.ä¸€æ—¦æ‚¨çš„ç®€å•ç¨‹åºè¿è¡Œè‰¯å¥½å¹¶ä¸”è¿è¡Œè‰¯å¥½ï¼Œæ‚¨å°±å¯ä»¥å‘å…¶æ·»åŠ åŠŸèƒ½</li><li><strong>Focus on one area at a time</strong>.ä¸è¦è¯•å›¾ä¸€æ¬¡ç¼–å†™æ‰€æœ‰ä»£ç ï¼Œä¹Ÿä¸è¦å°†æ³¨æ„åŠ›åˆ†æ•£åˆ°å¤šä¸ªä»»åŠ¡ä¸Šã€‚ä¸€æ¬¡ä¸“æ³¨äºä¸€é¡¹ä»»åŠ¡</li><li><strong>Test each piece of code as you go</strong>.ç¼–å†™ä¸€æ®µä»£ç ï¼Œç„¶åç«‹å³ç¼–è¯‘å¹¶æµ‹è¯•å®ƒã€‚å¦‚æœå®ƒä¸èµ·ä½œç”¨ï¼Œæ‚¨å°†ç¡®åˆ‡åœ°çŸ¥é“é—®é¢˜å‡ºåœ¨å“ªé‡Œï¼Œå¹¶ä¸”å¾ˆå®¹æ˜“ä¿®å¤ã€‚ç¡®å®šä»£ç æœ‰æ•ˆåï¼Œç§»è‡³ä¸‹ä¸€æ®µå¹¶é‡å¤ã€‚å®Œæˆä»£ç çš„ç¼–å†™å¯èƒ½éœ€è¦æ›´é•¿çš„æ—¶é—´ï¼Œä½†æ˜¯å½“æ‚¨å®Œæˆåï¼Œæ•´ä¸ªäº‹æƒ…åº”è¯¥å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œå¹¶ä¸”æ‚¨ä¸å¿…èŠ±è´¹ä¸¤å€çš„æ—¶é—´æ¥å¼„æ¸…æ¥šä¸ºä»€ä¹ˆå®ƒä¸èµ·ä½œç”¨</li><li><strong>Donâ€™t invest in perfecting early code</strong>.è®©ä½ çš„åŠŸèƒ½æœ€ä½é™åº¦åœ°å·¥ä½œï¼Œç„¶åç»§ç»­ã€‚ä¸è¦ä»¥å®Œç¾ä¸ºç›®æ ‡â€”â€”é‡è¦çš„ç¨‹åºä»æ¥éƒ½ä¸æ˜¯å®Œç¾çš„ï¼Œè€Œä¸”æ€»æœ‰æ›´å¤šçš„äº‹æƒ…å¯ä»¥åšæ¥æ”¹è¿›å®ƒä»¬ã€‚è¾¾åˆ°â€œè¶³å¤Ÿå¥½â€å¹¶ç»§ç»­å‰è¿›</li></ol></li></ol><h1 id=è°ƒè¯•-c-ç¨‹åº>è°ƒè¯• C++ ç¨‹åº<a hidden class=anchor aria-hidden=true href=#è°ƒè¯•-c-ç¨‹åº>#</a></h1><h2 id=è°ƒè¯•è¿‡ç¨‹>è°ƒè¯•è¿‡ç¨‹<a hidden class=anchor aria-hidden=true href=#è°ƒè¯•è¿‡ç¨‹>#</a></h2><ol><li>æ‰¾åˆ°é—®é¢˜çš„æ ¹æœ¬åŸå› ï¼ˆé€šå¸¸æ˜¯ä¸èµ·ä½œç”¨çš„ä»£ç è¡Œï¼‰</li><li>ç¡®ä¿æ‚¨äº†è§£é—®é¢˜å‘ç”Ÿçš„åŸå› </li><li>ç¡®å®šæ‚¨å°†å¦‚ä½•è§£å†³é—®é¢˜</li><li>ä¿®å¤é—®é¢˜</li><li>é‡æ–°æµ‹è¯•ä»¥ç¡®ä¿é—®é¢˜å·²è§£å†³å¹¶ä¸”æ²¡æœ‰å‡ºç°æ–°é—®é¢˜</li></ol><h2 id=è°ƒè¯•ç­–ç•¥>è°ƒè¯•ç­–ç•¥<a hidden class=anchor aria-hidden=true href=#è°ƒè¯•ç­–ç•¥>#</a></h2><p>è§‚å¯Ÿç¨‹åºè¿è¡Œæ—¶çš„è¡Œä¸ºï¼Œå¹¶å°è¯•ä»ä¸­è¯Šæ–­é—®é¢˜</p><ol><li>å¼„æ¸…æ¥šå¦‚ä½•<strong>é‡ç°é—®é¢˜</strong></li><li>è¿è¡Œç¨‹åºå¹¶æ”¶é›†ä¿¡æ¯ä»¥<strong>ç¼©å°é—®é¢˜æ‰€åœ¨çš„èŒƒå›´</strong></li><li>é‡å¤å‰é¢çš„æ­¥éª¤ï¼Œ<strong>ç›´åˆ°æ‰¾åˆ°é—®é¢˜</strong></li></ol><h3 id=è°ƒè¯•ç­–ç•¥-1æ³¨é‡Šæ‰ä½ çš„ä»£ç >è°ƒè¯•ç­–ç•¥ 1ï¼šæ³¨é‡Šæ‰ä½ çš„ä»£ç <a hidden class=anchor aria-hidden=true href=#è°ƒè¯•ç­–ç•¥-1æ³¨é‡Šæ‰ä½ çš„ä»£ç >#</a></h3><p>å¦‚æœæ‚¨çš„ç¨‹åºè¡¨ç°å‡ºé”™è¯¯è¡Œä¸ºï¼Œå‡å°‘å¿…é¡»æœç´¢çš„ä»£ç é‡çš„ä¸€ç§æ–¹æ³•æ˜¯æ³¨é‡Šæ‰ä¸€äº›ä»£ç å¹¶æŸ¥çœ‹é—®é¢˜æ˜¯å¦ä»ç„¶å­˜åœ¨ã€‚å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œåˆ™æ³¨é‡Šæ‰çš„ä»£ç ä¸è´Ÿè´£ä»»</p><h3 id=è°ƒè¯•ç­–ç•¥-2éªŒè¯ä»£ç æµ>è°ƒè¯•ç­–ç•¥ 2ï¼šéªŒè¯ä»£ç æµ<a hidden class=anchor aria-hidden=true href=#è°ƒè¯•ç­–ç•¥-2éªŒè¯ä»£ç æµ>#</a></h3><p>å¦ä¸€ä¸ªåœ¨æ›´å¤æ‚çš„ç¨‹åºä¸­å¸¸è§çš„é—®é¢˜æ˜¯ç¨‹åºè°ƒç”¨ä¸€ä¸ªå‡½æ•°çš„æ¬¡æ•°å¤ªå¤šæˆ–å¤ªå°‘ï¼ˆåŒ…æ‹¬æ ¹æœ¬ä¸è°ƒç”¨ï¼‰</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°†è¯­å¥æ”¾åœ¨å‡½æ•°çš„é¡¶éƒ¨ä»¥æ‰“å°å‡½æ•°çš„åç§°ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚è¿™æ ·ï¼Œå½“ç¨‹åºè¿è¡Œæ—¶ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°è°ƒç”¨äº†å“ªäº›å‡½æ•°</p><p>å½“<strong>å‡ºäºè°ƒè¯•ç›®çš„æ‰“å°ä¿¡æ¯æ—¶</strong>ï¼Œä½¿ç”¨ <code>std::cerr</code> è€Œä¸æ˜¯ <code>std::cout</code>ã€‚è¿™æ ·åšçš„ä¸€ä¸ªåŸå› æ˜¯ std::cout å¯èƒ½è¢«ç¼“å†²ï¼Œè¿™æ„å‘³ç€åœ¨æ‚¨è¦æ±‚ std::cout è¾“å‡ºä¿¡æ¯å’Œå®ƒå®é™…è¾“å‡ºä¿¡æ¯ä¹‹é—´å¯èƒ½ä¼šæœ‰ä¸€ä¸ªæš‚åœã€‚å¦‚æœæ‚¨ä½¿ç”¨ std::cout è¿›è¡Œè¾“å‡ºï¼Œç„¶åæ‚¨çš„ç¨‹åºéšåç«‹å³å´©æºƒï¼Œåˆ™ std::cout å¯èƒ½å·²ç»æˆ–å¯èƒ½è¿˜æ²¡æœ‰å®é™…è¾“å‡ºã€‚è¿™å¯èƒ½ä¼šè¯¯å¯¼æ‚¨äº†è§£é—®é¢˜å‡ºåœ¨å“ªé‡Œã€‚å¦ä¸€æ–¹é¢ï¼Œstd::cerr æ˜¯æ— ç¼“å†²<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>çš„ï¼Œè¿™æ„å‘³ç€æ‚¨å‘é€ç»™å®ƒçš„ä»»ä½•å†…å®¹éƒ½ä¼šç«‹å³è¾“å‡ºã€‚è¿™æœ‰åŠ©äºç¡®ä¿æ‰€æœ‰è°ƒè¯•è¾“å‡ºå°½å¿«å‡ºç°ï¼ˆä»¥ä¸€äº›æ€§èƒ½ä¸ºä»£ä»·ï¼Œæˆ‘ä»¬åœ¨è°ƒè¯•æ—¶é€šå¸¸ä¸å…³å¿ƒï¼‰</p><p>ä½¿ç”¨ std::cerr è¿˜æœ‰åŠ©äºæ˜ç¡®è¾“å‡ºçš„ä¿¡æ¯æ˜¯é’ˆå¯¹é”™è¯¯æƒ…å†µè€Œä¸æ˜¯æ­£å¸¸æƒ…å†µ</p><p>æ·»åŠ ä¸´æ—¶è°ƒè¯•è¯­å¥æ—¶ï¼Œä¸ç¼©è¿›å®ƒä»¬ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚è¿™ä½¿å®ƒä»¬æ›´å®¹æ˜“åœ¨ä»¥åæ‰¾åˆ°å¹¶ç§»é™¤</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> getValue()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>std::cerr &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;getValue() called</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>4</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>std::cerr &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;main() called</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>    std::cout &lt;&lt; getValue;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=è°ƒè¯•ç­–ç•¥-3æ‰“å°å€¼>è°ƒè¯•ç­–ç•¥ 3ï¼šæ‰“å°å€¼<a hidden class=anchor aria-hidden=true href=#è°ƒè¯•ç­–ç•¥-3æ‰“å°å€¼>#</a></h3><p>å¯¹äºæŸäº›ç±»å‹çš„é”™è¯¯ï¼Œç¨‹åºå¯èƒ½ä¼šè®¡ç®—æˆ–ä¼ é€’é”™è¯¯çš„å€¼ã€‚</p><p>æˆ‘ä»¬è¿˜å¯ä»¥è¾“å‡ºå˜é‡ï¼ˆåŒ…æ‹¬å‚æ•°ï¼‰æˆ–è¡¨è¾¾å¼çš„å€¼ï¼Œä»¥ç¡®ä¿å®ƒä»¬æ˜¯æ­£ç¡®çš„ã€‚</p><p>For example:</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> add(<span style=color:#fff;font-weight:700>int</span> x, <span style=color:#fff;font-weight:700>int</span> y)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>std::cerr &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;add() called (x=&#34;</span> &lt;&lt; x &lt;&lt;<span style=color:#0ff;font-weight:700>&#34;, y=&#34;</span> &lt;&lt; y &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;)</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> x + y;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>void</span> printResult(<span style=color:#fff;font-weight:700>int</span> z)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;The answer is: &#34;</span> &lt;&lt; z &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> getUserInput()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;Enter a number: &#34;</span>;
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>int</span> x{};
</span></span><span style=display:flex><span>	std::cin &gt;&gt; x;
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> x;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>int</span> x{ getUserInput() };
</span></span><span style=display:flex><span>std::cerr &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;main::x = &#34;</span> &lt;&lt; x &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>int</span> y{ getUserInput() };
</span></span><span style=display:flex><span>std::cerr &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;main::y = &#34;</span> &lt;&lt; y &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	std::cout &lt;&lt; x &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; + &#34;</span> &lt;&lt; y &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>int</span> z{ add(x, <span style=color:#ff0;font-weight:700>5</span>) };
</span></span><span style=display:flex><span>std::cerr &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;main::z = &#34;</span> &lt;&lt; z &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>	printResult(z);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ç°åœ¨æˆ‘ä»¬å°†å¾—åˆ°è¾“å‡ºï¼š</p><pre tabindex=0><code>Enter a number: 4
main::x = 4
Enter a number: 3
main::y = 3
add() called (x=4, y=5)
main::z = 9
The answer is: 9
</code></pre><p>è™½ç„¶ä¸ºè¯Šæ–­ç›®çš„å‘ç¨‹åºæ·»åŠ è°ƒè¯•è¯­å¥æ˜¯ä¸€ç§å¸¸è§çš„åŸºæœ¬æŠ€æœ¯ï¼Œä¹Ÿæ˜¯ä¸€ç§åŠŸèƒ½æ€§æŠ€æœ¯ï¼ˆå°¤å…¶æ˜¯å½“è°ƒè¯•å™¨ç”±äºæŸç§åŸå› ä¸å¯ç”¨æ—¶ï¼‰ï¼Œä½†ç”±äºå¤šç§åŸå› å®ƒå¹¶ä¸æ˜¯å¾ˆå¥½ï¼š</p><ol><li>è°ƒè¯•è¯­å¥ä½¿æ‚¨çš„ä»£ç æ··ä¹±ã€‚</li><li>è°ƒè¯•è¯­å¥ä½¿ç¨‹åºçš„è¾“å‡ºæ··ä¹±ã€‚</li><li>è°ƒè¯•è¯­å¥å¿…é¡»åœ¨å®Œæˆååˆ é™¤ï¼Œè¿™ä½¿å¾—å®ƒä»¬ä¸å¯é‡ç”¨ã€‚</li><li>è°ƒè¯•è¯­å¥éœ€è¦ä¿®æ”¹æ‚¨çš„ä»£ç ä»¥æ·»åŠ å’Œåˆ é™¤ï¼Œè¿™å¯èƒ½ä¼šå¼•å…¥æ–°çš„é”™è¯¯ã€‚</li></ol><h3 id=æ¡ä»¶åŒ–è°ƒè¯•ä»£ç >æ¡ä»¶åŒ–è°ƒè¯•ä»£ç <a hidden class=anchor aria-hidden=true href=#æ¡ä»¶åŒ–è°ƒè¯•ä»£ç >#</a></h3><p>ä¸€ç§æ›´å®¹æ˜“åœ¨æ•´ä¸ªç¨‹åºä¸­ç¦ç”¨å’Œå¯ç”¨è°ƒè¯•çš„æ–¹æ³•æ˜¯ä½¿ç”¨é¢„å¤„ç†å™¨æŒ‡ä»¤ä½¿è°ƒè¯•è¯­å¥æœ‰æ¡ä»¶ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#define ENABLE_DEBUG </span><span style=color:#007f7f>// comment out to disable debugging
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> getUserInput()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#ifdef ENABLE_DEBUG
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>std::cerr &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;getUserInput() called</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#endif
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;Enter a number: &#34;</span>;
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>int</span> x{};
</span></span><span style=display:flex><span>	std::cin &gt;&gt; x;
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> x;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#ifdef ENABLE_DEBUG
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>std::cerr &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;main() called</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#endif
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>    <span style=color:#fff;font-weight:700>int</span> x{ getUserInput() };
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;You entered: &#34;</span> &lt;&lt; x;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥é€šè¿‡æ³¨é‡Š/å–æ¶ˆæ³¨é‡Š#define ENABLE_DEBUG æ¥å¯ç”¨è°ƒè¯•ã€‚è¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿé‡ç”¨ä»¥å‰æ·»åŠ çš„è°ƒè¯•è¯­å¥ï¼Œç„¶ååœ¨ç”¨å®Œå®ƒä»¬åå°†å®ƒä»¬ç¦ç”¨ï¼Œè€Œä¸å¿…ä»ä»£ç ä¸­å®é™…åˆ é™¤å®ƒä»¬</p><p>è¿™è§£å†³äº†å¿…é¡»åˆ é™¤è°ƒè¯•è¯­å¥çš„é—®é¢˜ä»¥åŠè¿™æ ·åšçš„é£é™©ï¼Œä½†ä»£ä»·æ˜¯ä»£ç æ›´åŠ æ··ä¹±ã€‚è¿™ç§æ–¹æ³•çš„å¦ä¸€ä¸ªç¼ºç‚¹æ˜¯ï¼Œå¦‚æœæ‚¨è¾“å…¥é”™è¯¯ï¼ˆä¾‹å¦‚æ‹¼é”™â€œDEBUGâ€ï¼‰æˆ–å¿˜è®°å°†æ ‡å¤´åŒ…å«åˆ°ä»£ç æ–‡ä»¶ä¸­ï¼Œåˆ™å¯èƒ½æ— æ³•å¯ç”¨è¯¥æ–‡ä»¶çš„éƒ¨åˆ†æˆ–å…¨éƒ¨è°ƒè¯•</p><h3 id=ä½¿ç”¨æ—¥å¿—>ä½¿ç”¨æ—¥å¿—<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨æ—¥å¿—>#</a></h3><p>é€šè¿‡é¢„å¤„ç†å™¨è¿›è¡Œæ¡ä»¶åŒ–è°ƒè¯•çš„å¦ä¸€ç§æ–¹æ³•æ˜¯å°†è°ƒè¯•ä¿¡æ¯å‘é€åˆ°æ—¥å¿—æ–‡ä»¶ã€‚æ—¥å¿—æ–‡ä»¶æ˜¯è®°å½•è½¯ä»¶ä¸­å‘ç”Ÿçš„äº‹ä»¶çš„æ–‡ä»¶ï¼ˆé€šå¸¸å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼‰ã€‚å°†ä¿¡æ¯å†™å…¥æ—¥å¿—æ–‡ä»¶çš„è¿‡ç¨‹ç§°ä¸ºæ—¥å¿—è®°å½•ã€‚å¤§å¤šæ•°åº”ç”¨ç¨‹åºå’Œæ“ä½œç³»ç»Ÿéƒ½ä¼šå†™å…¥å¯ç”¨äºå¸®åŠ©è¯Šæ–­å‘ç”Ÿçš„é—®é¢˜çš„æ—¥å¿—æ–‡ä»¶</p><p>æ—¥å¿—æ–‡ä»¶æœ‰å‡ ä¸ªä¼˜ç‚¹ã€‚å› ä¸ºå†™å…¥æ—¥å¿—æ–‡ä»¶çš„ä¿¡æ¯ä¸ç¨‹åºçš„è¾“å‡ºæ˜¯åˆ†å¼€çš„ï¼Œæ‰€ä»¥å¯ä»¥é¿å…å°†æ­£å¸¸è¾“å‡ºå’Œè°ƒè¯•è¾“å‡ºæ··åˆåœ¨ä¸€èµ·é€ æˆçš„æ··ä¹±ã€‚æ—¥å¿—æ–‡ä»¶ä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“åœ°å‘é€ç»™å…¶ä»–äººè¿›è¡Œè¯Šæ–­â€”â€”æ‰€ä»¥å¦‚æœæœ‰äººä½¿ç”¨ä½ çš„è½¯ä»¶æœ‰é—®é¢˜ï¼Œä½ å¯ä»¥è®©ä»–ä»¬æŠŠæ—¥å¿—æ–‡ä»¶å‘ç»™ä½ ï¼Œè¿™å¯èƒ½ä¼šå¸®åŠ©ä½ æ‰¾åˆ°é—®é¢˜æ‰€åœ¨çš„çº¿ç´¢</p><p>è™½ç„¶æ‚¨å¯ä»¥ç¼–å†™è‡ªå·±çš„ä»£ç æ¥åˆ›å»ºæ—¥å¿—æ–‡ä»¶å¹¶å°†è¾“å‡ºå‘é€ç»™å®ƒä»¬ï¼Œä½†æœ€å¥½è¿˜æ˜¯ä½¿ç”¨è®¸å¤šç°æœ‰çš„ç¬¬ä¸‰æ–¹æ—¥å¿—è®°å½•å·¥å…·ä¹‹ä¸€</p><p>Using theÂ <a href=https://github.com/SergiusTheBest/plog>plog</a>Â loggerï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;plog/Log.h&gt; // Step 1: include the logger headers</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;plog/Initializers/RollingFileInitializer.h&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> getUserInput()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	PLOGD &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;getUserInput() called&#34;</span>; <span style=color:#007f7f>// PLOGD is defined by the plog library
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;Enter a number: &#34;</span>;
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>int</span> x{};
</span></span><span style=display:flex><span>	std::cin &gt;&gt; x;
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> x;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	plog::init(plog::debug, <span style=color:#0ff;font-weight:700>&#34;Logfile.txt&#34;</span>); <span style=color:#007f7f>// Step 2: initialize the logger
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>	PLOGD &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;main() called&#34;</span>; <span style=color:#007f7f>// Step 3: Output to the log as if you were writing to the console
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>int</span> x{ getUserInput() };
</span></span><span style=display:flex><span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;You entered: &#34;</span> &lt;&lt; x;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>è¿™æ˜¯ä¸Šè¿°è®°å½•å™¨çš„è¾“å‡ºï¼ˆåœ¨ <code>Logfile.txt</code> æ–‡ä»¶ä¸­ï¼‰ï¼š</p><pre tabindex=0><code>2018-12-26 20:03:33.295 DEBUG [4752] [main@14] main() called
2018-12-26 20:03:33.296 DEBUG [4752] [getUserInput@4] getUserInput() called
</code></pre><p>æ‚¨å¦‚ä½•åŒ…å«ã€åˆå§‹åŒ–å’Œä½¿ç”¨è®°å½•å™¨å°†æ ¹æ®æ‚¨é€‰æ‹©çš„ç‰¹å®šè®°å½•å™¨è€Œæœ‰æ‰€ä¸åŒ</p><p>è¯·æ³¨æ„ï¼Œä½¿ç”¨æ­¤æ–¹æ³•ä¹Ÿä¸éœ€è¦æ¡ä»¶ç¼–è¯‘æŒ‡ä»¤ï¼Œå› ä¸ºå¤§å¤šæ•°è®°å½•å™¨éƒ½æœ‰å‡å°‘/æ¶ˆé™¤å°†è¾“å‡ºå†™å…¥æ—¥å¿—çš„æ–¹æ³•ã€‚è¿™ä½¿å¾—ä»£ç æ›´å®¹æ˜“é˜…è¯»ï¼Œå› ä¸ºæ¡ä»¶ç¼–è¯‘è¡Œå¢åŠ äº†å¾ˆå¤šæ··ä¹±ã€‚ä½¿ç”¨ plogï¼Œå¯ä»¥é€šè¿‡å°† init è¯­å¥æ›´æ”¹ä¸ºä»¥ä¸‹å†…å®¹æ¥æš‚æ—¶ç¦ç”¨æ—¥å¿—è®°å½•ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span>plog::init(plog::none , <span style=color:#0ff;font-weight:700>&#34;Logfile.txt&#34;</span>); <span style=color:#007f7f>// plog::none eliminates writing of most messages, essentially turning logging off
</span></span></span></code></pre></div><h2 id=ä½¿ç”¨é›†æˆè°ƒè¯•å™¨steppingæ­¥è¿›>ä½¿ç”¨é›†æˆè°ƒè¯•å™¨ï¼šSteppingï¼ˆæ­¥è¿›ï¼‰<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨é›†æˆè°ƒè¯•å™¨steppingæ­¥è¿›>#</a></h2><p>å½“æ‚¨è¿è¡Œæ‚¨çš„ç¨‹åºæ—¶ï¼Œæ‰§è¡Œä» main å‡½æ•°çš„é¡¶éƒ¨å¼€å§‹ï¼Œç„¶åé€ä¸ªè¯­å¥æŒ‰é¡ºåºæ‰§è¡Œï¼Œç›´åˆ°ç¨‹åºç»“æŸã€‚åœ¨ä½ çš„ç¨‹åºè¿è¡Œçš„ä»»ä½•æ—¶é—´ç‚¹ï¼Œç¨‹åºéƒ½åœ¨è·Ÿè¸ªå¾ˆå¤šäº‹æƒ…ï¼šä½ æ­£åœ¨ä½¿ç”¨çš„å˜é‡çš„å€¼ï¼Œè°ƒç”¨äº†å“ªäº›å‡½æ•°ï¼ˆè¿™æ ·å½“è¿™äº›å‡½æ•°è¿”å›æ—¶ï¼Œç¨‹åºå°±ä¼šçŸ¥é“åœ¨å“ªé‡Œè¿”å›ï¼‰ï¼Œä»¥åŠç¨‹åºä¸­çš„å½“å‰æ‰§è¡Œç‚¹ï¼ˆå› æ­¤å®ƒçŸ¥é“æ¥ä¸‹æ¥è¦æ‰§è¡Œå“ªä¸ªè¯­å¥ï¼‰ã€‚æ‰€æœ‰è¿™äº›è·Ÿè¸ªä¿¡æ¯éƒ½ç§°ä¸ºæ‚¨çš„ç¨‹åºçŠ¶æ€ï¼ˆæˆ–ç®€ç§°ä¸ºçŠ¶æ€ï¼‰</p><p><strong>Stepping</strong> æ˜¯ä¸€ç»„ç›¸å…³è°ƒè¯•å™¨åŠŸèƒ½çš„åç§°ï¼Œè¿™äº›åŠŸèƒ½è®©æˆ‘ä»¬é€æ¡è¯­å¥åœ°æ‰§è¡Œï¼ˆå•æ­¥æ‰§è¡Œï¼‰æˆ‘ä»¬çš„ä»£ç </p><p>ç®­å¤´æ ‡è®°è¡¨ç¤ºæ¥ä¸‹æ¥å°†æ‰§è¡Œæ‰€æŒ‡å‘çš„è¡Œ</p><h3 id=step-into>Step into<a hidden class=anchor aria-hidden=true href=#step-into>#</a></h3><p><strong>æ­¥å…¥</strong> å‘½ä»¤æ‰§è¡Œç¨‹åºæ­£å¸¸æ‰§è¡Œè·¯å¾„ä¸­çš„ä¸‹ä¸€æ¡è¯­å¥ï¼Œç„¶åæš‚åœç¨‹åºçš„æ‰§è¡Œï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è°ƒè¯•å™¨æ£€æŸ¥ç¨‹åºçš„çŠ¶æ€ã€‚å¦‚æœæ­£åœ¨æ‰§è¡Œçš„è¯­å¥åŒ…å«ä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œstep into ä¼šä½¿ç¨‹åºè·³è½¬åˆ°è¢«è°ƒç”¨å‡½æ•°çš„é¡¶éƒ¨ï¼Œå¹¶åœ¨é‚£é‡Œæš‚åœ</p><h3 id=step-over>Step over<a hidden class=anchor aria-hidden=true href=#step-over>#</a></h3><p>åŒ<strong>æ­¥å…¥</strong>å‘½ä»¤ä¸€æ ·ï¼Œ<strong>æ­¥è¿‡</strong>å‘½ä»¤æ‰§è¡Œç¨‹åºæ­£å¸¸æ‰§è¡Œè·¯å¾„ä¸­çš„ä¸‹ä¸€æ¡è¯­å¥ã€‚ç„¶è€Œï¼Œstep into å°†è¾“å…¥å‡½æ•°è°ƒç”¨å¹¶é€è¡Œæ‰§è¡Œå®ƒä»¬ï¼Œstep over å°†ä¸é—´æ–­åœ°æ‰§è¡Œæ•´ä¸ªå‡½æ•°ï¼Œå¹¶åœ¨å‡½æ•°æ‰§è¡Œåå°†æ§åˆ¶æƒè¿”å›ç»™æ‚¨</p><p>step over å‘½ä»¤æä¾›äº†ä¸€ç§æ–¹ä¾¿çš„æ–¹æ³•æ¥è·³è¿‡å‡½æ•°ï¼Œå½“æ‚¨ç¡®å®šå®ƒä»¬å·²ç»å·¥ä½œæˆ–ç°åœ¨å¯¹è°ƒè¯•å®ƒä»¬ä¸æ„Ÿå…´è¶£æ—¶</p><h3 id=step-out>Step out<a hidden class=anchor aria-hidden=true href=#step-out>#</a></h3><p>ä¸å…¶ä»–ä¸¤ä¸ªæ­¥è¿›å‘½ä»¤ä¸åŒï¼Œ<strong>æ­¥å‡º</strong> å‘½ä»¤ä¸åªæ˜¯æ‰§è¡Œä¸‹ä¸€è¡Œä»£ç ã€‚ç›¸åï¼Œå®ƒ<strong>æ‰§è¡Œå½“å‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°ä¸­çš„æ‰€æœ‰å‰©ä½™ä»£ç </strong>ï¼Œç„¶ååœ¨å‡½æ•°è¿”å›æ—¶å°†æ§åˆ¶æƒè¿”å›ç»™æ‚¨</p><p>å½“ä½ ä¸å°å¿ƒè¿›å…¥äº†ä¸€ä¸ªä½ ä¸æƒ³è°ƒè¯•çš„å‡½æ•°æ—¶ï¼Œè¿™ä¸ªå‘½ä»¤æœ€æœ‰ç”¨</p><h2 id=ä½¿ç”¨é›†æˆè°ƒè¯•å™¨running-and-breakpointsè¿è¡Œå’Œæ–­ç‚¹>ä½¿ç”¨é›†æˆè°ƒè¯•å™¨ï¼šRunning and breakpointsï¼ˆè¿è¡Œå’Œæ–­ç‚¹ï¼‰<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨é›†æˆè°ƒè¯•å™¨running-and-breakpointsè¿è¡Œå’Œæ–­ç‚¹>#</a></h2><h3 id=run-to-cursor>Run to cursor<a hidden class=anchor aria-hidden=true href=#run-to-cursor>#</a></h3><p>ç¬¬ä¸€ä¸ªæœ‰ç”¨çš„å‘½ä»¤é€šå¸¸ç§°ä¸º<strong>è¿è¡Œåˆ°å…‰æ ‡</strong>ã€‚æ­¤è¿è¡Œåˆ°å…‰æ ‡å‘½ä»¤æ‰§è¡Œç¨‹åºï¼Œç›´åˆ°æ‰§è¡Œåˆ°è¾¾å…‰æ ‡é€‰æ‹©çš„è¯­å¥ã€‚ç„¶åå®ƒå°†æ§åˆ¶æƒè¿”å›ç»™æ‚¨ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä»é‚£æ—¶å¼€å§‹è¿›è¡Œè°ƒè¯•</p><h3 id=breakpoints>Breakpoints<a hidden class=anchor aria-hidden=true href=#breakpoints>#</a></h3><p><strong>æ–­ç‚¹</strong> æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ ‡è®°ï¼Œå®ƒå‘Šè¯‰è°ƒè¯•å™¨åœ¨è°ƒè¯•æ¨¡å¼ä¸‹è¿è¡Œæ—¶åœ¨æ–­ç‚¹å¤„åœæ­¢æ‰§è¡Œç¨‹åº</p><h2 id=ä½¿ç”¨é›†æˆè°ƒè¯•å™¨è°ƒç”¨å †æ ˆ>ä½¿ç”¨é›†æˆè°ƒè¯•å™¨ï¼šè°ƒç”¨å †æ ˆ<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨é›†æˆè°ƒè¯•å™¨è°ƒç”¨å †æ ˆ>#</a></h2><p>è°ƒç”¨å †æ ˆæ˜¯ä¸ºåˆ°è¾¾å½“å‰æ‰§è¡Œç‚¹è€Œè°ƒç”¨çš„æ‰€æœ‰æ´»åŠ¨å‡½æ•°çš„åˆ—è¡¨ã€‚è°ƒç”¨å †æ ˆåŒ…æ‹¬æ¯ä¸ªè°ƒç”¨çš„å‡½æ•°çš„æ¡ç›®ï¼Œä»¥åŠå‡½æ•°è¿”å›æ—¶å°†è¿”å›åˆ°å“ªä¸€è¡Œä»£ç ã€‚æ¯å½“è°ƒç”¨ä¸€ä¸ªæ–°å‡½æ•°æ—¶ï¼Œè¯¥å‡½æ•°å°±ä¼šè¢«æ·»åŠ åˆ°è°ƒç”¨å †æ ˆçš„é¡¶éƒ¨ã€‚å½“å‰å‡½æ•°è¿”å›ç»™è°ƒç”¨è€…æ—¶ï¼Œå®ƒä¼šä»è°ƒç”¨æ ˆçš„é¡¶éƒ¨ç§»é™¤ï¼Œæ§åˆ¶æƒä¼šè¿”å›åˆ°å®ƒä¸‹é¢çš„å‡½æ•°</p><p>è°ƒç”¨å †æ ˆçª—å£æ˜¯ä¸€ä¸ªæ˜¾ç¤ºå½“å‰è°ƒç”¨å †æ ˆçš„è°ƒè¯•å™¨çª—å£</p><p>å‡½æ•°åç§°åçš„è¡Œå·æ˜¾ç¤ºäº†æ¯ä¸ªå‡½æ•°ä¸­è¦æ‰§è¡Œçš„ä¸‹ä¸€è¡Œ</p><p>ç”±äºè°ƒç”¨å †æ ˆçš„é¡¶éƒ¨æ¡ç›®ä»£è¡¨å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°ï¼Œå› æ­¤æ­¤å¤„çš„è¡Œå·æ˜¾ç¤ºäº†æ‰§è¡Œæ¢å¤æ—¶å°†æ‰§è¡Œçš„ä¸‹ä¸€è¡Œã€‚è°ƒç”¨å †æ ˆä¸­çš„å…¶ä½™æ¡ç›®è¡¨ç¤ºå°†åœ¨æŸä¸ªæ—¶é—´ç‚¹è¿”å›çš„å‡½æ•°ï¼Œå› æ­¤è¿™äº›æ¡ç›®çš„è¡Œå·è¡¨ç¤ºå‡½æ•°è¿”å›åå°†æ‰§è¡Œçš„ä¸‹ä¸€æ¡è¯­å¥</p><h2 id=åœ¨é—®é¢˜æˆä¸ºé—®é¢˜ä¹‹å‰å‘ç°é—®é¢˜>åœ¨é—®é¢˜æˆä¸ºé—®é¢˜ä¹‹å‰å‘ç°é—®é¢˜<a hidden class=anchor aria-hidden=true href=#åœ¨é—®é¢˜æˆä¸ºé—®é¢˜ä¹‹å‰å‘ç°é—®é¢˜>#</a></h2><h3 id=é‡æ„ä½ çš„ä»£ç >é‡æ„ä½ çš„ä»£ç <a hidden class=anchor aria-hidden=true href=#é‡æ„ä½ çš„ä»£ç >#</a></h3><p>å½“æ‚¨å‘ç¨‹åºæ·»åŠ æ–°åŠŸèƒ½ï¼ˆâ€œè¡Œä¸ºæ›´æ”¹â€ï¼‰æ—¶ï¼Œæ‚¨ä¼šå‘ç°æŸäº›åŠŸèƒ½çš„é•¿åº¦ä¼šå¢åŠ ã€‚éšç€å‡½æ•°è¶Šæ¥è¶Šé•¿ï¼Œå®ƒä»¬å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œä¹Ÿè¶Šæ¥è¶Šéš¾ä»¥ç†è§£</p><p>è§£å†³æ­¤é—®é¢˜çš„ä¸€ç§æ–¹æ³•æ˜¯å°†å•ä¸ªé•¿å‡½æ•°åˆ†è§£ä¸ºå¤šä¸ªè¾ƒçŸ­çš„å‡½æ•°ã€‚è¿™ç§åœ¨ä¸æ”¹å˜ä»£ç è¡Œä¸ºçš„æƒ…å†µä¸‹å¯¹ä»£ç è¿›è¡Œç»“æ„æ›´æ”¹çš„è¿‡ç¨‹ï¼ˆé€šå¸¸æ˜¯ä¸ºäº†ä½¿æ‚¨çš„ç¨‹åºæ›´æœ‰ç»„ç»‡æ€§ã€æ¨¡å—åŒ–æˆ–æ€§èƒ½ï¼‰ç§°ä¸º<strong>é‡æ„</strong></p><p>ä¸€ä¸ªå‡½æ•°å æ®ä¸€ä¸ªå‚ç›´å±å¹•çš„ä»£ç é€šå¸¸è¢«è®¤ä¸ºå¤ªé•¿äº†â€”â€”å¦‚æœä½ å¿…é¡»æ»šåŠ¨æ‰èƒ½é˜…è¯»æ•´ä¸ªå‡½æ•°ï¼Œå‡½æ•°çš„å¯ç†è§£æ€§ä¼šæ˜¾ç€ä¸‹é™ã€‚ä½†è¶ŠçŸ­è¶Šå¥½ &ndash; å°‘äºåè¡Œçš„åŠŸèƒ½æ˜¯å¥½çš„ã€‚å°‘äºäº”è¡Œçš„å‡½æ•°å°±æ›´å¥½äº†</p><p>æ›´æ”¹ä»£ç æ—¶ï¼Œ<strong>è¿›è¡Œè¡Œä¸ºæ›´æ”¹æˆ–ç»“æ„æ›´æ”¹</strong>ï¼Œç„¶åé‡æ–°æµ‹è¯•æ­£ç¡®æ€§ã€‚åŒæ—¶è¿›è¡Œè¡Œä¸ºå’Œç»“æ„æ›´æ”¹å¾€å¾€ä¼šå¯¼è‡´æ›´å¤šé”™è¯¯ä»¥åŠæ›´éš¾å‘ç°çš„é”™è¯¯</p><h3 id=çº¦æŸ>çº¦æŸ<a hidden class=anchor aria-hidden=true href=#çº¦æŸ>#</a></h3><p>åŸºäºçº¦æŸçš„æŠ€æœ¯æ¶‰åŠæ·»åŠ ä¸€äº›é¢å¤–çš„ä»£ç ï¼ˆå¦‚æœéœ€è¦ï¼Œå¯ä»¥åœ¨éè°ƒè¯•æ„å»ºä¸­ç¼–è¯‘å‡ºæ¥ï¼‰ä»¥æ£€æŸ¥æ˜¯å¦è¿åäº†æŸäº›å‡è®¾æˆ–æœŸæœ›é›†</p><p>ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æ­£åœ¨ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—ä¸€ä¸ªæ•°å­—çš„é˜¶ä¹˜ï¼Œå®ƒéœ€è¦ä¸€ä¸ªéè´Ÿå‚æ•°ï¼Œè¯¥å‡½æ•°å¯ä»¥æ£€æŸ¥ä»¥ç¡®ä¿è°ƒç”¨è€…åœ¨ç»§ç»­ä¹‹å‰ä¼ é€’äº†ä¸€ä¸ªéè´Ÿæ•°ã€‚å¦‚æœè°ƒç”¨è€…ä¼ å…¥ä¸€ä¸ªè´Ÿæ•°ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°å¯èƒ½ä¼šç«‹å³å‡ºé”™ï¼Œè€Œä¸æ˜¯äº§ç”Ÿä¸€äº›ä¸ç¡®å®šçš„ç»“æœï¼Œä»è€Œæœ‰åŠ©äºç¡®ä¿ç«‹å³å‘ç°é—®é¢˜</p><p>ä¸€ç§å¸¸è§çš„æ–¹æ³•æ˜¯é€šè¿‡ assert å’Œ static_assert</p><h1 id=åŸºæœ¬æ•°æ®ç±»å‹>åŸºæœ¬æ•°æ®ç±»å‹<a hidden class=anchor aria-hidden=true href=#åŸºæœ¬æ•°æ®ç±»å‹>#</a></h1><h2 id=æ•°æ®ç±»å‹å¤§å°>æ•°æ®ç±»å‹å¤§å°<a hidden class=anchor aria-hidden=true href=#æ•°æ®ç±»å‹å¤§å°>#</a></h2><p>æ•°æ®ç±»å‹çš„å¤§å°å–å†³äºç¼–è¯‘å™¨å’Œè®¡ç®—æœºä½“ç³»ç»“æ„ï¼</p><p>C++ ä»…ä¿è¯æ¯ä¸ªåŸºæœ¬æ•°æ®ç±»å‹éƒ½å…·æœ‰æœ€å°å¤§å°<div class=post-img-view><a data-fancybox=gallery href=https://bu.dusays.com/2022/11/26/6381d2545c3fa.png><img src=https://bu.dusays.com/2022/11/26/6381d2545c3fa.png alt=1></a></div></p><p>ä¸ºäº†è·å¾—æœ€å¤§çš„å…¼å®¹æ€§ï¼Œæ‚¨ä¸åº”å‡è®¾å˜é‡å¤§äºæŒ‡å®šçš„æœ€å°å¤§å°</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;bool:</span><span style=color:#0ff;font-weight:700>\t\t</span><span style=color:#0ff;font-weight:700>&#34;</span> &lt;&lt; <span style=color:#fff;font-weight:700>sizeof</span>(<span style=color:#fff;font-weight:700>bool</span>) &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; bytes</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;char:</span><span style=color:#0ff;font-weight:700>\t\t</span><span style=color:#0ff;font-weight:700>&#34;</span> &lt;&lt; <span style=color:#fff;font-weight:700>sizeof</span>(<span style=color:#fff;font-weight:700>char</span>) &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; bytes</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;wchar_t:</span><span style=color:#0ff;font-weight:700>\t</span><span style=color:#0ff;font-weight:700>&#34;</span> &lt;&lt; <span style=color:#fff;font-weight:700>sizeof</span>(<span style=color:#fff;font-weight:700>wchar_t</span>) &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; bytes</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;char16_t:</span><span style=color:#0ff;font-weight:700>\t</span><span style=color:#0ff;font-weight:700>&#34;</span> &lt;&lt; <span style=color:#fff;font-weight:700>sizeof</span>(<span style=color:#fff;font-weight:700>char16_t</span>) &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; bytes</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;char32_t:</span><span style=color:#0ff;font-weight:700>\t</span><span style=color:#0ff;font-weight:700>&#34;</span> &lt;&lt; <span style=color:#fff;font-weight:700>sizeof</span>(<span style=color:#fff;font-weight:700>char32_t</span>) &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; bytes</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;short:</span><span style=color:#0ff;font-weight:700>\t\t</span><span style=color:#0ff;font-weight:700>&#34;</span> &lt;&lt; <span style=color:#fff;font-weight:700>sizeof</span>(<span style=color:#fff;font-weight:700>short</span>) &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; bytes</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;int:</span><span style=color:#0ff;font-weight:700>\t\t</span><span style=color:#0ff;font-weight:700>&#34;</span> &lt;&lt; <span style=color:#fff;font-weight:700>sizeof</span>(<span style=color:#fff;font-weight:700>int</span>) &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; bytes</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;long:</span><span style=color:#0ff;font-weight:700>\t\t</span><span style=color:#0ff;font-weight:700>&#34;</span> &lt;&lt; <span style=color:#fff;font-weight:700>sizeof</span>(<span style=color:#fff;font-weight:700>long</span>) &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; bytes</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;long long:</span><span style=color:#0ff;font-weight:700>\t</span><span style=color:#0ff;font-weight:700>&#34;</span> &lt;&lt; <span style=color:#fff;font-weight:700>sizeof</span>(<span style=color:#fff;font-weight:700>long</span> <span style=color:#fff;font-weight:700>long</span>) &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; bytes</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;float:</span><span style=color:#0ff;font-weight:700>\t\t</span><span style=color:#0ff;font-weight:700>&#34;</span> &lt;&lt; <span style=color:#fff;font-weight:700>sizeof</span>(<span style=color:#fff;font-weight:700>float</span>) &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; bytes</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;double:</span><span style=color:#0ff;font-weight:700>\t\t</span><span style=color:#0ff;font-weight:700>&#34;</span> &lt;&lt; <span style=color:#fff;font-weight:700>sizeof</span>(<span style=color:#fff;font-weight:700>double</span>) &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; bytes</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;long double:</span><span style=color:#0ff;font-weight:700>\t</span><span style=color:#0ff;font-weight:700>&#34;</span> &lt;&lt; <span style=color:#fff;font-weight:700>sizeof</span>(<span style=color:#fff;font-weight:700>long</span> <span style=color:#fff;font-weight:700>double</span>) &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; bytes</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ä¸‹é¢æ˜¯æˆ‘çš„ x64 æœºå™¨çš„è¾“å‡ºï¼Œä½¿ç”¨ Clionï¼š</p><pre tabindex=0><code>bool:           1 bytes
char:           1 bytes
wchar_t:        2 bytes
char16_t:       2 bytes
char32_t:       4 bytes
short:          2 bytes
int:            4 bytes
long:           4 bytes
long long:      8 bytes
float:          4 bytes
double:         8 bytes
long double:    16 bytes
</code></pre><p>å¦‚æœæ‚¨ä½¿ç”¨ä¸åŒç±»å‹çš„æœºå™¨æˆ–ä¸åŒçš„ç¼–è¯‘å™¨ï¼Œæ‚¨çš„ç»“æœå¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚è¯·æ³¨æ„ï¼Œæ‚¨ä¸èƒ½å¯¹ void ç±»å‹ä½¿ç”¨ sizeof è¿ç®—ç¬¦ï¼Œå› ä¸ºå®ƒæ²¡æœ‰å¤§å°ï¼ˆè¿™æ ·åšä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼‰</p><h2 id=æ— ç¬¦å·æ•´æ•°å’Œæœ‰ç¬¦å·æ•´æ•°>æ— ç¬¦å·æ•´æ•°å’Œæœ‰ç¬¦å·æ•´æ•°<a hidden class=anchor aria-hidden=true href=#æ— ç¬¦å·æ•´æ•°å’Œæœ‰ç¬¦å·æ•´æ•°>#</a></h2><p>æœ‰ç¬¦å·æ•´æ•°èŒƒå›´ï¼š<div class=post-img-view><a data-fancybox=gallery href=https://bu.dusays.com/2022/11/26/6381d81f385fa.png><img src=https://bu.dusays.com/2022/11/26/6381d81f385fa.png alt=1></a></div></p><p>æ— ç¬¦å·æ•´æ•°èŒƒå›´ï¼š<div class=post-img-view><a data-fancybox=gallery href=https://bu.dusays.com/2022/11/26/6381d91f961eb.png><img src=https://bu.dusays.com/2022/11/26/6381d91f961eb.png alt=1></a></div></p><p>å¦‚æœæ— ç¬¦å·æ•´æ•°è¶…å‡ºèŒƒå›´ï¼Œåˆ™å°†å…¶é™¤ä»¥å¤§äºè¯¥ç±»å‹çš„æœ€å¤§æ•°ï¼Œåªä¿ç•™ä½™æ•°</p><p>åœ¨ C++ çš„æ•°å­¦è¿ç®—ä¸­ï¼ˆä¾‹å¦‚ç®—æœ¯æˆ–æ¯”è¾ƒï¼‰ï¼Œå¦‚æœä½¿ç”¨ä¸€ä¸ªæœ‰ç¬¦å·æ•´æ•°å’Œä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ï¼Œåˆ™<strong>æœ‰ç¬¦å·æ•´æ•°å°†è½¬æ¢ä¸ºæ— ç¬¦å·æ•´æ•°</strong>ã€‚å¹¶ä¸”æ— ç¬¦å·æ•´æ•°ä¸èƒ½å­˜å‚¨è´Ÿæ•°ï¼Œè¿™ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±</p><p>åœ¨ä¿å­˜æ•´æ•°ï¼ˆç”šè‡³åº”è¯¥æ˜¯éè´Ÿçš„æ•´æ•°ï¼‰å’Œæ•°å­¦è¿ç®—æ—¶ï¼Œæœ‰ç¬¦å·æ•°ä¼˜äºæ— ç¬¦å·æ•°ã€‚é¿å…æ··åˆæœ‰ç¬¦å·å’Œæ— ç¬¦å·æ•°å­—</p><p>åœ¨ C++ ä¸­ä»ç„¶æœ‰ä¸€äº›æƒ…å†µå¿…é¡»ä½¿ç”¨æ— ç¬¦å·æ•°ï¼š</p><p>é¦–å…ˆï¼Œåœ¨å¤„ç†ä½æ“ä½œæ—¶é¦–é€‰æ— ç¬¦å·æ•°ã€‚å½“éœ€è¦æ˜ç¡®å®šä¹‰çš„ç¯ç»•è¡Œä¸ºæ—¶ï¼Œå®ƒä»¬ä¹Ÿå¾ˆæœ‰ç”¨ï¼ˆåœ¨æŸäº›ç®—æ³•ä¸­å¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚åŠ å¯†å’Œéšæœºæ•°ç”Ÿæˆï¼‰</p><p>å…¶æ¬¡ï¼Œæ— ç¬¦å·æ•°çš„ä½¿ç”¨åœ¨æŸäº›æƒ…å†µä¸‹ä»ç„¶æ˜¯ä¸å¯é¿å…çš„ï¼Œä¸»è¦æ˜¯é‚£äº›ä¸æ•°ç»„ç´¢å¼•æœ‰å…³çš„æƒ…å†µã€‚ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œæ— ç¬¦å·å€¼å¯ä»¥è½¬æ¢ä¸ºæœ‰ç¬¦å·å€¼</p><h2 id=å›ºå®šå®½åº¦æ•´æ•°å’Œ-size_t>å›ºå®šå®½åº¦æ•´æ•°å’Œ size_t<a hidden class=anchor aria-hidden=true href=#å›ºå®šå®½åº¦æ•´æ•°å’Œ-size_t>#</a></h2><h3 id=fixed-width-æ•´æ•°>Fixed-width æ•´æ•°<a hidden class=anchor aria-hidden=true href=#fixed-width-æ•´æ•°>#</a></h3><p>ä¸ºä»€ä¹ˆæ•´æ•°å˜é‡çš„å¤§å°ä¸å›ºå®šï¼Ÿ</p><p>è¿™å¯ä»¥è¿½æº¯åˆ° Cï¼Œå½“æ—¶è®¡ç®—æœºé€Ÿåº¦å¾ˆæ…¢ï¼Œæ€§èƒ½æ˜¯æœ€å—å…³æ³¨çš„é—®é¢˜ã€‚ C é€‰æ‹©æœ‰æ„ä¿ç•™æ•´æ•°çš„å¤§å°ï¼Œä»¥ä¾¿ç¼–è¯‘å™¨å®ç°è€…å¯ä»¥é€‰æ‹©åœ¨ç›®æ ‡è®¡ç®—æœºä½“ç³»ç»“æ„ä¸Šè¡¨ç°æœ€ä½³çš„ int å¤§å°</p><p>C99 å®šä¹‰äº†ä¸€ç»„å›ºå®šå®½åº¦çš„æ•´æ•°ï¼ˆåœ¨ stdint.h å¤´æ–‡ä»¶ä¸­ï¼‰ï¼Œä¿è¯åœ¨ä»»ä½•ä½“ç³»ç»“æ„ä¸Šéƒ½å…·æœ‰ç›¸åŒçš„å¤§å°</p><p>C++ æ­£å¼é‡‡ç”¨è¿™äº›å›ºå®šå®½åº¦æ•´æ•°ä½œä¸º C++11 çš„ä¸€éƒ¨åˆ†ã€‚å¯ä»¥é€šè¿‡åŒ…å« <code>&lt;cstdint></code> å¤´æ–‡ä»¶æ¥è®¿é—®å®ƒä»¬ï¼Œå®ƒä»¬åœ¨ std å‘½åç©ºé—´å†…å®šä¹‰</p><p><div class=post-img-view><a data-fancybox=gallery href=https://bu.dusays.com/2022/11/26/6381dcb67d0e0.png><img src=https://bu.dusays.com/2022/11/26/6381dcb67d0e0.png alt=1></a></div></p><h3 id=fast-and-least-æ•´æ•°>Fast and least æ•´æ•°<a hidden class=anchor aria-hidden=true href=#fast-and-least-æ•´æ•°>#</a></h3><p>The fast ç±»å‹ï¼ˆ<code>std::int_fast#_t</code> å’Œ <code>std::uint_fast#_t</code>ï¼‰æä¾›æœ€å¿«çš„æœ‰ç¬¦å·/æ— ç¬¦å·æ•´æ•°ç±»å‹ï¼Œå®½åº¦è‡³å°‘ä¸º # ä½ï¼ˆå…¶ä¸­ # = 8ã€16ã€32 æˆ– 64ï¼‰ã€‚ä¾‹å¦‚ï¼Œ<code>std::int_fast32_t</code> å°†ä¸ºæ‚¨æä¾›æœ€å¿«çš„è‡³å°‘ 32 ä½çš„æœ‰ç¬¦å·æ•´æ•°ç±»å‹</p><p>The least ç±»å‹ï¼ˆ<code>std::int_least#_t</code> å’Œ <code>std::uint_least#_t</code>ï¼‰æä¾›å®½åº¦è‡³å°‘ä¸º # ä½ï¼ˆå…¶ä¸­ # = 8ã€16ã€32 æˆ– 64ï¼‰çš„æœ€å°æœ‰ç¬¦å·/æ— ç¬¦å·æ•´æ•°ç±»å‹ã€‚ä¾‹å¦‚ï¼Œ<code>std::uint_least32_t</code> å°†ä¸ºæ‚¨æä¾›è‡³å°‘ 32 ä½çš„æœ€å°æ— ç¬¦å·æ•´æ•°ç±»å‹</p><p>ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;cstdint&gt; // for fixed-width integers</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;least 8:  &#34;</span> &lt;&lt; <span style=color:#fff;font-weight:700>sizeof</span>(std::<span style=color:#fff;font-weight:700>int_least8_t</span>) * <span style=color:#ff0;font-weight:700>8</span> &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; bits</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;least 16: &#34;</span> &lt;&lt; <span style=color:#fff;font-weight:700>sizeof</span>(std::<span style=color:#fff;font-weight:700>int_least16_t</span>) * <span style=color:#ff0;font-weight:700>8</span> &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; bits</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;least 32: &#34;</span> &lt;&lt; <span style=color:#fff;font-weight:700>sizeof</span>(std::<span style=color:#fff;font-weight:700>int_least32_t</span>) * <span style=color:#ff0;font-weight:700>8</span> &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; bits</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;fast 8:  &#34;</span> &lt;&lt; <span style=color:#fff;font-weight:700>sizeof</span>(std::<span style=color:#fff;font-weight:700>int_fast8_t</span>) * <span style=color:#ff0;font-weight:700>8</span> &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; bits</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;fast 16: &#34;</span> &lt;&lt; <span style=color:#fff;font-weight:700>sizeof</span>(std::<span style=color:#fff;font-weight:700>int_fast16_t</span>) * <span style=color:#ff0;font-weight:700>8</span> &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; bits</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;fast 32: &#34;</span> &lt;&lt; <span style=color:#fff;font-weight:700>sizeof</span>(std::<span style=color:#fff;font-weight:700>int_fast32_t</span>) * <span style=color:#ff0;font-weight:700>8</span> &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; bits</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Resultï¼š</p><pre tabindex=0><code>least 8:  8 bits
least 16: 16 bits
least 32: 32 bits

fast 8:  8 bits
fast 16: 16 bits
fast 32: 32 bits
</code></pre><p>ç„¶è€Œï¼Œè¿™äº›å¿«é€Ÿä¸”æœ€å°çš„æ•´æ•°æœ‰å…¶è‡ªèº«çš„ç¼ºç‚¹ï¼šé¦–å…ˆï¼ŒçœŸæ­£ä½¿ç”¨å®ƒä»¬çš„ç¨‹åºå‘˜å¹¶ä¸å¤šï¼Œä¸ç†Ÿæ‚‰ä¼šå¯¼è‡´é”™è¯¯ã€‚å…¶æ¬¡ï¼Œå¿«é€Ÿç±»å‹ä¼šå¯¼è‡´ä¸æˆ‘ä»¬åœ¨ 4 å­—èŠ‚æ•´æ•°ä¸­çœ‹åˆ°çš„ç›¸åŒç±»å‹çš„å†…å­˜æµªè´¹ã€‚æœ€ä¸¥é‡çš„æ˜¯ï¼Œç”±äºå¿«é€Ÿ/æœ€å°æ•´æ•°çš„å¤§å°å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒï¼Œå› æ­¤æ‚¨çš„ç¨‹åºå¯èƒ½ä¼šåœ¨è§£æä¸ºä¸åŒå¤§å°çš„æ¶æ„ä¸Šè¡¨ç°å‡ºä¸åŒçš„è¡Œä¸º</p><h3 id=stdint8_t-å’Œ-stduint8_t-å¯èƒ½è¡¨ç°å¾—åƒå­—ç¬¦è€Œä¸æ˜¯æ•´æ•°>std::int8_t å’Œ std::uint8_t å¯èƒ½è¡¨ç°å¾—åƒå­—ç¬¦è€Œä¸æ˜¯æ•´æ•°<a hidden class=anchor aria-hidden=true href=#stdint8_t-å’Œ-stduint8_t-å¯èƒ½è¡¨ç°å¾—åƒå­—ç¬¦è€Œä¸æ˜¯æ•´æ•°>#</a></h3><p>ç”±äº C++ è§„èŒƒä¸­çš„ç–å¿½ï¼Œå¤§å¤šæ•°ç¼–è¯‘å™¨åˆ†åˆ«å°† std::int8_t å’Œ std::uint8_tï¼ˆä»¥åŠç›¸åº”çš„å¿«é€Ÿå’Œæœ€å°å›ºå®šå®½åº¦ç±»å‹ï¼‰å®šä¹‰ä¸º signed char å’Œ unsigned char ç±»å‹ï¼Œå¹¶å°†å…¶è§†ä¸ºç›¸åŒçš„ç±»å‹ã€‚è¿™æ„å‘³ç€è¿™äº› 8 ä½ç±»å‹çš„è¡Œä¸ºå¯èƒ½ï¼ˆæˆ–å¯èƒ½ä¸ï¼‰ä¸å…¶ä»–å›ºå®šå®½åº¦ç±»å‹ä¸åŒï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´é”™è¯¯ã€‚æ­¤è¡Œä¸ºæ˜¯ç³»ç»Ÿç›¸å…³çš„ï¼Œå› æ­¤åœ¨ä¸€ç§ä½“ç³»ç»“æ„ä¸Šæ­£ç¡®è¿è¡Œçš„ç¨‹åºå¯èƒ½æ— æ³•ç¼–è¯‘æˆ–åœ¨å¦ä¸€ç§ä½“ç³»ç»“æ„ä¸Šæ­£ç¡®è¿è¡Œ</p><p>ä¸ºäº†ä¿æŒä¸€è‡´æ€§ï¼Œæœ€å¥½å®Œå…¨é¿å…ä½¿ç”¨ std::int8_t å’Œ std::uint8_tï¼ˆä»¥åŠç›¸å…³çš„å¿«é€Ÿå’Œæœ€å°‘ç±»å‹ï¼‰ï¼ˆæ”¹ç”¨ std::int16_t æˆ– std::uint16_tï¼‰</p><p>8 ä½å›ºå®šå®½åº¦æ•´æ•°ç±»å‹é€šå¸¸è¢«è§†ä¸ºå­—ç¬¦è€Œä¸æ˜¯æ•´æ•°å€¼ï¼ˆè¿™å¯èƒ½å› ç³»ç»Ÿè€Œå¼‚ï¼‰ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹é¦–é€‰ 16 ä½å›ºå®šæ•´æ•°ç±»å‹</p><h3 id=best-practice>Best practice<a hidden class=anchor aria-hidden=true href=#best-practice>#</a></h3><p>æˆ‘ä»¬çš„ç«‹åœºæ˜¯æ­£ç¡®æ¯”å¿«é€Ÿæ›´å¥½ï¼Œåœ¨ç¼–è¯‘æ—¶å¤±è´¥æ¯”è¿è¡Œæ—¶æ›´å¥½â€”â€”å› æ­¤ï¼Œæˆ‘ä»¬å»ºè®®é¿å…ä½¿ç”¨å¿«é€Ÿ/æœ€å°‘çš„ç±»å‹ï¼Œè€Œä½¿ç”¨å›ºå®šå®½åº¦çš„ç±»å‹ã€‚å¦‚æœæ‚¨åæ¥å‘ç°éœ€è¦æ”¯æŒæ— æ³•ç¼–è¯‘å›ºå®šå®½åº¦ç±»å‹çš„å¹³å°ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥åœ¨æ­¤æ—¶å†³å®šå¦‚ä½•è¿ç§»æ‚¨çš„ç¨‹åºï¼ˆå¹¶å½»åº•æµ‹è¯•ï¼‰</p><ol><li>å½“æ•´æ•°çš„å¤§å°æ— å…³ç´§è¦æ—¶ï¼Œé¦–é€‰ intï¼ˆä¾‹å¦‚ï¼Œæ•°å­—å°†å§‹ç»ˆé€‚åˆ 2 å­—èŠ‚æœ‰ç¬¦å·æ•´æ•°çš„èŒƒå›´ï¼‰ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨è¦æ±‚ç”¨æˆ·è¾“å…¥ä»–ä»¬çš„å¹´é¾„ï¼Œæˆ–è€…ä» 1 æ•°åˆ° 10ï¼Œåˆ™ int æ˜¯ 16 ä½è¿˜æ˜¯ 32 ä½éƒ½æ²¡æœ‰å…³ç³»ï¼ˆæ•°å­—å°†é€‚åˆä»»ä½•ä¸€ç§æ–¹å¼ï¼‰ã€‚è¿™å°†æ¶µç›–æ‚¨å¯èƒ½é‡åˆ°çš„ç»å¤§å¤šæ•°æƒ…å†µ</li><li>å­˜å‚¨éœ€è¦ä¿è¯èŒƒå›´çš„æ•°é‡æ—¶ï¼Œé¦–é€‰ <code>std::int#_t</code></li><li>åœ¨è¿›è¡Œä½æ“ä½œæˆ–éœ€è¦æ˜ç¡®å®šä¹‰çš„ç¯ç»•è¡Œä¸ºæ—¶ï¼Œé¦–é€‰ <code>std::uint#_t</code></li><li>å°½å¯èƒ½é¿å…ä»¥ä¸‹æƒ…å†µï¼š<ol><li>å­˜å‚¨æ•°é‡çš„æ— ç¬¦å·ç±»å‹</li><li>8 ä½å›ºå®šå®½åº¦æ•´æ•°ç±»å‹</li><li>Fast and least æ•´æ•°ç±»å‹</li><li>ä»»ä½•ç‰¹å®šäºç¼–è¯‘å™¨çš„å›ºå®šå®½åº¦æ•´æ•°â€”â€”ä¾‹å¦‚ï¼ŒVisual Studio å®šä¹‰äº† <code>__int8</code>ã€<code>__int16</code> â€¦â€¦</li></ol></li></ol><h3 id=size_t>size_t<a hidden class=anchor aria-hidden=true href=#size_t>#</a></h3><p>sizeofï¼ˆä»¥åŠè®¸å¤šè¿”å›å¤§å°æˆ–é•¿åº¦å€¼çš„å‡½æ•°ï¼‰è¿”å›ä¸€ä¸ª std::size_t ç±»å‹çš„å€¼ã€‚ std::size_t è¢«å®šä¹‰ä¸ºæ— ç¬¦å·æ•´æ•°ç±»å‹ï¼Œé€šå¸¸ç”¨äºè¡¨ç¤ºå¯¹è±¡çš„å¤§å°æˆ–é•¿åº¦</p><p>æœ‰è¶£çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ sizeof è¿ç®—ç¬¦ï¼ˆè¿”å› std::size_t ç±»å‹çš„å€¼ï¼‰æ¥è¯¢é—® std::size_t æœ¬èº«çš„å¤§å°ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;cstddef&gt; // std::size_t</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	std::cout &lt;&lt; <span style=color:#fff;font-weight:700>sizeof</span>(std::size_t) &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>å°±åƒæ•´æ•°çš„å¤§å°ä¼šå› ç³»ç»Ÿè€Œå¼‚ä¸€æ ·ï¼Œstd::size_t çš„å¤§å°ä¹Ÿä¼šæœ‰æ‰€ä¸åŒã€‚ std::size_t ä¿è¯ä¸ºæ— ç¬¦å·ä¸”è‡³å°‘ä¸º 16 ä½ï¼Œä½†åœ¨å¤§å¤šæ•°ç³»ç»Ÿä¸Šå°†ç­‰åŒäºåº”ç”¨ç¨‹åºçš„åœ°å€å®½åº¦ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äº 32 ä½åº”ç”¨ç¨‹åºï¼Œstd::size_t é€šå¸¸æ˜¯ 32 ä½æ— ç¬¦å·æ•´æ•°ï¼Œè€Œå¯¹äº 64 ä½åº”ç”¨ç¨‹åºï¼Œsize_t é€šå¸¸æ˜¯ 64 ä½æ— ç¬¦å·æ•´æ•°ã€‚ size_t è¢«å®šä¹‰ä¸ºè¶³å¤Ÿå¤§ä»¥å®¹çº³ç³»ç»Ÿä¸Šå¯åˆ›å»ºçš„æœ€å¤§å¯¹è±¡çš„å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ std::size_t ä¸º 4 å­—èŠ‚å®½ï¼Œåˆ™ç³»ç»Ÿä¸Šå¯åˆ›å»ºçš„æœ€å¤§å¯¹è±¡ä¸èƒ½å¤§äº 4,294,967,295 å­—èŠ‚ï¼Œå› ä¸º 4,294,967,295 æ˜¯ 4 å­—èŠ‚æ— ç¬¦å·æ•´æ•°å¯ä»¥å­˜å‚¨çš„æœ€å¤§æ•°å­—ã€‚è¿™åªæ˜¯å¯¹è±¡å¤§å°çš„ä¸Šé™ï¼Œå®é™…å¤§å°é™åˆ¶å¯èƒ½ä¼šæ›´ä½ï¼Œå…·ä½“å–å†³äºæ‚¨ä½¿ç”¨çš„ç¼–è¯‘å™¨</p><p>æ ¹æ®å®šä¹‰ï¼Œä»»ä½•å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰å¤§äº size_t å¯ä»¥å®¹çº³çš„æœ€å¤§æ•´æ•°å€¼çš„å¯¹è±¡éƒ½è¢«è§†ä¸ºæ ¼å¼é”™è¯¯ï¼ˆå¹¶å°†å¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼‰ï¼Œå› ä¸º sizeof è¿ç®—ç¬¦å°†æ— æ³•åœ¨ä¸ç¯ç»•çš„æƒ…å†µä¸‹è¿”å›å¤§å°</p><h2 id=æµ®ç‚¹æ•°ieee-754>æµ®ç‚¹æ•°ï¼ˆIEEE 754ï¼‰<a hidden class=anchor aria-hidden=true href=#æµ®ç‚¹æ•°ieee-754>#</a></h2><h3 id=æµ®ç‚¹èŒƒå›´å’Œæµ®ç‚¹ç²¾åº¦>æµ®ç‚¹èŒƒå›´å’Œæµ®ç‚¹ç²¾åº¦<a hidden class=anchor aria-hidden=true href=#æµ®ç‚¹èŒƒå›´å’Œæµ®ç‚¹ç²¾åº¦>#</a></h3><p><div class=post-img-view><a data-fancybox=gallery href=https://bu.dusays.com/2022/11/26/63820f12cc479.png><img src=https://bu.dusays.com/2022/11/26/63820f12cc479.png alt=1></a></div></p><p>ä½¿ç”¨æµ®ç‚¹æ–‡å­—æ—¶ï¼Œå§‹ç»ˆè‡³å°‘åŒ…å«ä¸€ä½å°æ•°ï¼ˆå³ä½¿å°æ•°ä¸º 0ï¼‰ã€‚è¿™æœ‰åŠ©äºç¼–è¯‘å™¨ç†è§£è¯¥æ•°å­—æ˜¯æµ®ç‚¹æ•°è€Œä¸æ˜¯æ•´æ•°</p><pre tabindex=0><code>int x{5}; // 5 means integer
double y{5.0}; // 5.0 is a floating point literal (no suffix means double type by default)
float z{5.0f}; // 5.0 is a floating point literal, f suffix means float type
</code></pre><p>å§‹ç»ˆç¡®ä¿å­—é¢é‡çš„ç±»å‹ä¸åˆ†é…ç»™å®ƒä»¬æˆ–ç”¨äºåˆå§‹åŒ–çš„å˜é‡çš„ç±»å‹ç›¸åŒ¹é…ã€‚å¦åˆ™ä¼šå¯¼è‡´ä¸å¿…è¦çš„è½¬æ¢ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç²¾åº¦æŸå¤±</p><p>ç¡®ä¿åœ¨åº”è¯¥ä½¿ç”¨æµ®ç‚¹æ–‡å­—çš„åœ°æ–¹ä¸ä½¿ç”¨æ•´æ•°æ–‡å­—ã€‚è¿™åŒ…æ‹¬åˆå§‹åŒ–æµ®ç‚¹å¯¹è±¡æˆ–ä¸ºæµ®ç‚¹å¯¹è±¡èµ‹å€¼ã€è¿›è¡Œæµ®ç‚¹è¿ç®—ä»¥åŠè°ƒç”¨éœ€è¦æµ®ç‚¹å€¼çš„å‡½æ•°</p><p><div class=post-img-view><a data-fancybox=gallery href=https://bu.dusays.com/2022/11/26/6382110b7d067.png><img src=https://bu.dusays.com/2022/11/26/6382110b7d067.png alt></a></div></p><p>è¾“å‡ºæµ®ç‚¹æ•°æ—¶ï¼Œstd::cout çš„é»˜è®¤ç²¾åº¦ä¸º 6â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒå‡å®šæ‰€æœ‰æµ®ç‚¹å˜é‡ä»…å¯¹ 6 ä½æœ‰æ•ˆï¼ˆæµ®ç‚¹æ•°çš„æœ€å°ç²¾åº¦ï¼‰ï¼Œå› æ­¤å®ƒå°†æˆªæ–­ä¹‹åçš„ä»»ä½•å†…å®¹</p><p>æµ®ç‚¹å˜é‡çš„ç²¾åº¦ä½æ•°å–å†³äºå¤§å°ï¼ˆæµ®ç‚¹æ•°çš„ç²¾åº¦ä½äºåŒç²¾åº¦æ•°ï¼‰å’Œå­˜å‚¨çš„ç‰¹å®šå€¼ï¼ˆæŸäº›å€¼çš„ç²¾åº¦é«˜äºå…¶ä»–å€¼ï¼‰ã€‚æµ®ç‚¹å€¼çš„ç²¾åº¦åœ¨ 6 åˆ° 9 ä½ä¹‹é—´ï¼Œå¤§å¤šæ•°æµ®ç‚¹å€¼è‡³å°‘æœ‰ 7 ä½æœ‰æ•ˆæ•°å­—ã€‚åŒç²¾åº¦å€¼çš„ç²¾åº¦åœ¨ 15 åˆ° 18 ä½ä¹‹é—´ï¼Œå¤§å¤šæ•°åŒç²¾åº¦å€¼è‡³å°‘æœ‰ 16 ä½æœ‰æ•ˆæ•°å­—ã€‚ Long double çš„æœ€å°ç²¾åº¦ä¸º 15ã€18 æˆ– 33 ä½æœ‰æ•ˆæ•°å­—ï¼Œå…·ä½“å–å†³äºå®ƒå ç”¨çš„å­—èŠ‚æ•°</p><h3 id=èˆå…¥è¯¯å·®>èˆå…¥è¯¯å·®<a hidden class=anchor aria-hidden=true href=#èˆå…¥è¯¯å·®>#</a></h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åä¸º std::setprecision() çš„è¾“å‡ºæ“çºµå™¨å‡½æ•°è¦†ç›– std::cout æ˜¾ç¤ºçš„é»˜è®¤ç²¾åº¦ã€‚è¾“å‡ºæ“çºµå™¨æ”¹å˜æ•°æ®çš„è¾“å‡ºæ–¹å¼ï¼Œå¹¶åœ¨ iomanip æ ‡å¤´ä¸­å®šä¹‰</p><pre tabindex=0><code>#include &lt;iostream&gt;
#include &lt;iomanip&gt; // for output manipulator std::setprecision()

int main()
{
    std::cout &lt;&lt; std::setprecision(16); // show 16 digits of precision
    std::cout &lt;&lt; 3.33333333333333333333333333333333333333f &lt;&lt;&#39;\n&#39;; // f suffix means float
    std::cout &lt;&lt; 3.33333333333333333333333333333333333333 &lt;&lt; &#39;\n&#39;; // no suffix means double

    return 0;
}
</code></pre><p>åœ¨ä½¿ç”¨éœ€è¦æ¯”å˜é‡æ‰€èƒ½å®¹çº³çš„ç²¾åº¦æ›´é«˜çš„æµ®ç‚¹æ•°æ—¶ï¼Œå¿…é¡»å°å¿ƒ</p><p><strong>é™¤éç©ºé—´éå¸¸å®è´µï¼Œå¦åˆ™æœ€å¥½ä½¿ç”¨ double over floatï¼Œå› ä¸º float ç¼ºä¹ç²¾åº¦é€šå¸¸ä¼šå¯¼è‡´ä¸å‡†ç¡®</strong></p><p>å€¼ 123456789.0 å…·æœ‰ 10 ä½æœ‰æ•ˆæ•°å­—ï¼Œä½†æµ®ç‚¹å€¼é€šå¸¸å…·æœ‰ 7 ä½ç²¾åº¦ï¼ˆè€Œ 123456792 çš„ç»“æœä»…ç²¾ç¡®åˆ° 7 ä½æœ‰æ•ˆæ•°å­—ï¼‰ã€‚æˆ‘ä»¬å¤±å»äº†ä¸€äº›ç²¾åº¦ï¼å½“ç”±äºæ— æ³•ç²¾ç¡®å­˜å‚¨æ•°å­—è€Œå¯¼è‡´ç²¾åº¦ä¸¢å¤±æ—¶ï¼Œè¿™ç§°ä¸º<strong>èˆå…¥è¯¯å·®</strong></p><p>æ•°å­¦è¿ç®—ï¼ˆä¾‹å¦‚åŠ æ³•å’Œä¹˜æ³•ï¼‰å¾€å¾€ä¼šä½¿èˆå…¥è¯¯å·®å¢å¤§ã€‚æ‰€ä»¥å³ä½¿0.1åœ¨ç¬¬17ä½æœ‰æ•ˆä½æœ‰èˆå…¥è¯¯å·®ï¼Œä½†æ˜¯å½“æˆ‘ä»¬åŠ ä¸Š0.1åæ¬¡æ—¶ï¼Œèˆå…¥è¯¯å·®å·²ç»çˆ¬åˆ°ç¬¬16ä½æœ‰æ•ˆä½äº†ã€‚ç»§ç»­æ“ä½œä¼šå¯¼è‡´æ­¤é”™è¯¯å˜å¾—è¶Šæ¥è¶Šä¸¥é‡</p><h3 id=nan-å’Œ-inf>NaN å’Œ Inf<a hidden class=anchor aria-hidden=true href=#nan-å’Œ-inf>#</a></h3><p>æœ‰ä¸¤ç§ç‰¹æ®Šç±»åˆ«çš„æµ®ç‚¹æ•°ã€‚ç¬¬ä¸€ä¸ªæ˜¯ <code>Inf</code>ï¼Œä»£è¡¨æ— ç©·å¤§ã€‚ Inf å¯ä»¥æ˜¯æ­£æ•°æˆ–è´Ÿæ•°ã€‚ç¬¬äºŒä¸ªæ˜¯ <code>NaN</code>ï¼Œä»£è¡¨â€œä¸æ˜¯æ•°å­—â€ã€‚æœ‰å‡ ç§ä¸åŒç±»å‹çš„ NaNï¼ˆæˆ‘ä»¬ä¸ä¼šåœ¨è¿™é‡Œè®¨è®ºï¼‰ã€‚ NaN å’Œ Inf ä»…åœ¨ç¼–è¯‘å™¨å¯¹æµ®ç‚¹æ•°ä½¿ç”¨ç‰¹å®šæ ¼å¼ (IEEE 754) æ—¶å¯ç”¨</p><h3 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h3><p>æ€»è€Œè¨€ä¹‹ï¼Œå…³äºæµ®ç‚¹æ•°ä½ åº”è¯¥è®°ä½ä¸¤ä»¶äº‹ï¼š</p><p>æµ®ç‚¹æ•°å¯¹äºå­˜å‚¨éå¸¸å¤§æˆ–éå¸¸å°çš„æ•°å­—å¾ˆæœ‰ç”¨ï¼ŒåŒ…æ‹¬å¸¦æœ‰å°æ•°éƒ¨åˆ†çš„æ•°å­—</p><p>æµ®ç‚¹æ•°é€šå¸¸æœ‰å°çš„èˆå…¥è¯¯å·®ï¼Œå³ä½¿æ•°å­—çš„æœ‰æ•ˆæ•°å­—å°‘äºç²¾åº¦ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å¾ˆå¤šæ—¶å€™è¿™äº›éƒ½æ²¡æœ‰å¼•èµ·æ³¨æ„ï¼Œå› ä¸ºå®ƒä»¬å¤ªå°äº†ï¼Œè€Œä¸”å› ä¸ºè¾“å‡ºçš„æ•°å­—è¢«æˆªæ–­äº†ã€‚ä½†æ˜¯ï¼Œæµ®ç‚¹æ•°çš„æ¯”è¾ƒå¯èƒ½ä¸ä¼šç»™å‡ºé¢„æœŸçš„ç»“æœã€‚å¯¹è¿™äº›å€¼æ‰§è¡Œæ•°å­¦è¿ç®—å°†å¯¼è‡´èˆå…¥è¯¯å·®å˜å¤§</p><h2 id=å¸ƒå°”å€¼>å¸ƒå°”å€¼<a hidden class=anchor aria-hidden=true href=#å¸ƒå°”å€¼>#</a></h2><p>å¦‚æœæ‚¨å¸Œæœ› std::cout æ‰“å°â€œtrueâ€æˆ–â€œfalseâ€è€Œä¸æ˜¯ 0 æˆ– 1ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ std::boolalphaã€‚è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#fff;font-weight:700>true</span> &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#fff;font-weight:700>false</span> &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    std::cout &lt;&lt; std::boolalpha; <span style=color:#007f7f>// print bools as true or false
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#fff;font-weight:700>true</span> &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#fff;font-weight:700>false</span> &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>æ‚¨å¯ä»¥ä½¿ç”¨ std::noboolalpha å°†å…¶å…³é—­</p><p>æ‚¨ä¸èƒ½ä½¿ç”¨é™¤ 0 1 å¤–çš„æ•´æ•°åˆå§‹åŒ–å¸ƒå°”å€¼ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>bool</span> b{ <span style=color:#ff0;font-weight:700>4</span> }; <span style=color:#007f7f>// error: narrowing conversions disallowed
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	std::cout &lt;&lt; b;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ä½†æ˜¯ï¼Œåœ¨ä»»ä½•å¯ä»¥å°†æ•´æ•°è½¬æ¢ä¸ºå¸ƒå°”å€¼çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œæ•´æ•° 0 å°†è½¬æ¢ä¸º falseï¼Œè€Œä»»ä½•å…¶ä»–æ•´æ•°å°†è½¬æ¢ä¸º true</p><p>äº‹å®è¯æ˜ï¼Œstd::cin åªæ¥å—å¸ƒå°”å˜é‡çš„ä¸¤ä¸ªè¾“å…¥ï¼š0 å’Œ 1ï¼ˆä¸æ˜¯ true æˆ– falseï¼‰ã€‚ä»»ä½•å…¶ä»–è¾“å…¥éƒ½ä¼šå¯¼è‡´ std::cin æ— å£°åœ°å¤±è´¥ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå› ä¸ºæˆ‘ä»¬è¾“å…¥äº† trueï¼Œæ‰€ä»¥ std::cin é»˜é»˜åœ°å¤±è´¥äº†ã€‚å¤±è´¥çš„è¾“å…¥ä¹Ÿä¼šå°†å˜é‡æ¸…é›¶ï¼Œå› æ­¤ b ä¹Ÿè¢«èµ‹å€¼ falseã€‚å› æ­¤ï¼Œå½“ std::cout æ‰“å° b çš„å€¼æ—¶ï¼Œå®ƒæ‰“å° 0</p><p>è¦å…è®¸ std::cin æ¥å—â€œfalseâ€å’Œâ€œtrueâ€ä½œä¸ºè¾“å…¥ï¼Œå¿…é¡»å¯ç”¨ std::boolalpha é€‰é¡¹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>bool</span> b{};
</span></span><span style=display:flex><span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;Enter a boolean value: &#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#007f7f>// Allow the user to enter &#39;true&#39; or &#39;false&#39; for boolean values
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	<span style=color:#007f7f>// This is case-sensitive, so True or TRUE will not work
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	std::cin &gt;&gt; std::boolalpha;
</span></span><span style=display:flex><span>	std::cin &gt;&gt; b;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;You entered: &#34;</span> &lt;&lt; b &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ä½†æ˜¯ï¼Œå½“å¯ç”¨ std::boolalpha æ—¶ï¼Œâ€œ0â€å’Œâ€œ1â€å°†ä¸å†è¢«è§†ä¸ºå¸ƒå°”å€¼</p><h2 id=chars>Chars<a hidden class=anchor aria-hidden=true href=#chars>#</a></h2><p>char æ•°æ®ç±»å‹æ—¨åœ¨ä¿å­˜å•ä¸ªå­—ç¬¦ã€‚å­—ç¬¦å¯ä»¥æ˜¯å•ä¸ªå­—æ¯ã€æ•°å­—ã€ç¬¦å·æˆ–ç©ºæ ¼</p><p>char æ•°æ®ç±»å‹æ˜¯æ•´æ•°ç±»å‹ï¼Œè¿™æ„å‘³ç€åŸºç¡€å€¼å­˜å‚¨ä¸ºæ•´æ•°ã€‚ç±»ä¼¼äºå¸ƒå°”å€¼ 0 è¢«è§£é‡Šä¸º false è€Œéé›¶è¢«è§£é‡Šä¸º true çš„æ–¹å¼ï¼Œchar å˜é‡å­˜å‚¨çš„æ•´æ•°è¢«è§£é‡Šä¸º ASCII å­—ç¬¦</p><p>Char ç”± C++ å®šä¹‰ä¸ºå¤§å°å§‹ç»ˆä¸º 1 ä¸ªå­—èŠ‚ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œchar å¯ä»¥æ˜¯æœ‰ç¬¦å·çš„æˆ–æ— ç¬¦å·çš„ï¼ˆå°½ç®¡å®ƒé€šå¸¸æ˜¯æœ‰ç¬¦å·çš„ï¼‰ã€‚å¦‚æœæ‚¨ä½¿ç”¨ chars æ¥ä¿å­˜ ASCII å­—ç¬¦ï¼Œåˆ™ä¸éœ€è¦æŒ‡å®šç¬¦å·ï¼ˆå› ä¸ºæœ‰ç¬¦å·å’Œæ— ç¬¦å·å­—ç¬¦éƒ½å¯ä»¥ä¿å­˜ 0 åˆ° 127 ä¹‹é—´çš„å€¼ï¼‰</p><p>å¦‚æœæ‚¨ä½¿ç”¨ char æ¥ä¿å­˜å°æ•´æ•°ï¼ˆé™¤éæ‚¨æ˜ç¡®ä¼˜åŒ–ç©ºé—´ï¼Œå¦åˆ™æ‚¨ä¸åº”è¯¥è¿™æ ·åšï¼‰ï¼Œæ‚¨åº”è¯¥å§‹ç»ˆæŒ‡å®šå®ƒæ˜¯æœ‰ç¬¦å·çš„è¿˜æ˜¯æ— ç¬¦å·çš„ã€‚ signed char å¯ä»¥ä¿å­˜ -128 åˆ° 127 ä¹‹é—´çš„æ•°å­—ã€‚unsigned char å¯ä»¥ä¿å­˜ 0 åˆ° 255 ä¹‹é—´çš„æ•°å­—</p><p><strong>å°†å•ä¸ªå­—ç¬¦æ”¾åœ¨å•å¼•å·ä¸­ï¼ˆÂ e.g.Â <code>'t'</code>Â orÂ <code>'\n'</code>, notÂ <code>"t"</code>Â orÂ <code>"\n"</code>ï¼‰è¿™æœ‰åŠ©äºç¼–è¯‘å™¨æ›´æœ‰æ•ˆåœ°è¿›è¡Œä¼˜åŒ–</strong></p><p>å‡ºäºå‘åå…¼å®¹æ€§çš„åŸå› ï¼Œè®¸å¤š C++ ç¼–è¯‘å™¨æ”¯æŒå¤šå­—ç¬¦æ–‡å­—ï¼Œå³åŒ…å«å¤šä¸ªå­—ç¬¦ï¼ˆä¾‹å¦‚â€œ56â€ï¼‰çš„å­—ç¬¦æ–‡å­—ã€‚å¦‚æœæ”¯æŒï¼Œå®ƒä»¬å…·æœ‰å®ç°å®šä¹‰çš„å€¼ï¼ˆæ„å‘³ç€å®ƒå› ç¼–è¯‘å™¨è€Œå¼‚ï¼‰ã€‚å› ä¸ºå®ƒä»¬ä¸æ˜¯ C++ æ ‡å‡†çš„ä¸€éƒ¨åˆ†ï¼Œè€Œä¸”å®ƒä»¬çš„å€¼ä¹Ÿæ²¡æœ‰ä¸¥æ ¼å®šä¹‰ï¼Œæ‰€ä»¥åº”è¯¥é¿å…ä½¿ç”¨å¤šå­—ç¬¦æ–‡å­—</p><p>ASCII ä¹‹å¤–æœ€è‘—åçš„æ˜ å°„æ˜¯ Unicode æ ‡å‡†ï¼Œå®ƒå°†è¶…è¿‡ 144,000 ä¸ªæ•´æ•°æ˜ å°„åˆ°è®¸å¤šä¸åŒè¯­è¨€çš„å­—ç¬¦ã€‚ç”±äº Unicode åŒ…å«å¦‚æ­¤å¤šçš„ä»£ç ç‚¹ï¼Œå› æ­¤å•ä¸ª Unicode ä»£ç ç‚¹éœ€è¦ 32 ä½æ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼ˆç§°ä¸º UTF-32ï¼‰ã€‚ä½†æ˜¯ï¼ŒUnicode å­—ç¬¦ä¹Ÿå¯ä»¥ä½¿ç”¨å¤šä¸ª 16 ä½æˆ– 8 ä½å­—ç¬¦ï¼ˆåˆ†åˆ«ç§°ä¸º UTF-16 å’Œ UTF-8ï¼‰è¿›è¡Œç¼–ç </p><p>char16_t å’Œ char32_t æ·»åŠ åˆ° C++11 ä»¥æä¾›å¯¹ 16 ä½å’Œ 32 ä½ Unicode å­—ç¬¦çš„æ˜ç¡®æ”¯æŒã€‚ C++20 ä¸­æ·»åŠ äº† char8_t</p><p>æ‚¨ä¸éœ€è¦ä½¿ç”¨ char8_tã€char16_t æˆ– char32_tï¼Œé™¤éæ‚¨è®¡åˆ’è®©æ‚¨çš„ç¨‹åºä¸ Unicode å…¼å®¹</p><p>åŒæ—¶ï¼Œåœ¨å¤„ç†å­—ç¬¦ï¼ˆå’Œå­—ç¬¦ä¸²ï¼‰æ—¶ï¼Œæ‚¨åº”è¯¥åªä½¿ç”¨ ASCII å­—ç¬¦ã€‚ä½¿ç”¨æ¥è‡ªå…¶ä»–å­—ç¬¦é›†çš„å­—ç¬¦å¯èƒ½ä¼šå¯¼è‡´æ‚¨çš„å­—ç¬¦æ˜¾ç¤ºä¸æ­£ç¡®</p><h2 id=é€šè¿‡-static_cast-è¿ç®—ç¬¦è¿›è¡Œæ˜¾å¼ç±»å‹è½¬æ¢>é€šè¿‡ static_cast è¿ç®—ç¬¦è¿›è¡Œæ˜¾å¼ç±»å‹è½¬æ¢<a hidden class=anchor aria-hidden=true href=#é€šè¿‡-static_cast-è¿ç®—ç¬¦è¿›è¡Œæ˜¾å¼ç±»å‹è½¬æ¢>#</a></h2><pre tabindex=0><code>static_cast&lt;new_type&gt;(expression)
</code></pre><p><code>static_cast</code> å°†è¡¨è¾¾å¼ä¸­çš„å€¼ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¿”å›è½¬æ¢ä¸º <code>new_type</code> æŒ‡å®šç±»å‹ï¼ˆä¾‹å¦‚ intã€boolã€charã€doubleï¼‰çš„å€¼</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>void</span> print(<span style=color:#fff;font-weight:700>int</span> x)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	std::cout &lt;&lt; x;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	print( <span style=color:#fff;font-weight:700>static_cast</span>&lt;<span style=color:#fff;font-weight:700>int</span>&gt;(<span style=color:#ff0;font-weight:700>5.5</span>) ); <span style=color:#007f7f>// explicitly convert double value 5.5 to an int
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=å¸¸é‡å’Œç¬¦å·å¸¸é‡>å¸¸é‡å’Œç¬¦å·å¸¸é‡<a hidden class=anchor aria-hidden=true href=#å¸¸é‡å’Œç¬¦å·å¸¸é‡>#</a></h2><h3 id=const-variables>const variables<a hidden class=anchor aria-hidden=true href=#const-variables>#</a></h3><p>Const å˜é‡å¿…é¡»åœ¨å®šä¹‰å®ƒä»¬æ—¶è¿›è¡Œåˆå§‹åŒ–ï¼Œç„¶åä¸èƒ½é€šè¿‡èµ‹å€¼æ›´æ”¹è¯¥å€¼</p><p>Const å˜é‡å¯ä»¥ä»å…¶ä»–å˜é‡ï¼ˆåŒ…æ‹¬éå¸¸é‡å˜é‡ï¼‰åˆå§‹åŒ–</p><p>å‘½åæ—¶ä»¥ â€œkâ€ å¼€å¤´, å¤§å°å†™æ··åˆ,ä¾‹å¦‚ï¼š</p><pre tabindex=0><code>const int kDaysInAWeek = 7;
</code></pre><h3 id=ç¬¦å·å¸¸é‡>ç¬¦å·å¸¸é‡<a hidden class=anchor aria-hidden=true href=#ç¬¦å·å¸¸é‡>#</a></h3><p>ç¬¦å·å¸¸é‡æŒ‡çš„æ˜¯<strong>è¢«èµ‹äºˆå¸¸é‡å€¼çš„åç§°</strong>ã€‚<code>const variables</code> æ˜¯ä¸€ç§ç¬¦å·å¸¸é‡ï¼Œå› ä¸ºå˜é‡æœ‰ä¸€ä¸ªåç§°ï¼ˆå®ƒçš„æ ‡è¯†ç¬¦ï¼‰å’Œä¸€ä¸ªå¸¸é‡å€¼</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#define MAX_STUDENTS_PER_CLASS 30
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;The class has &#34;</span> &lt;&lt; MAX_STUDENTS_PER_CLASS &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; students.</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ç¼–è¯‘æ­¤ç¨‹åºæ—¶ï¼Œé¢„å¤„ç†å™¨ä¼šå°† MAX_STUDENTS_PER_CLASS æ›¿æ¢ä¸ºå­—é¢å€¼ 30ï¼Œç„¶åç¼–è¯‘å™¨ä¼šå°†å…¶ç¼–è¯‘ä¸ºæ‚¨çš„å¯æ‰§è¡Œæ–‡ä»¶</p><p>å› ä¸ºç±»å¯¹è±¡å®æœ‰ä¸€ä¸ªåå­—ï¼Œå¹¶ä¸”æ›¿æ¢æ–‡æœ¬æ˜¯ä¸€ä¸ªå¸¸é‡å€¼ï¼Œæ‰€ä»¥å¸¦æœ‰æ›¿æ¢æ–‡æœ¬çš„ç±»å¯¹è±¡å®ä¹Ÿæ˜¯ç¬¦å·å¸¸é‡</p><h3 id=å¯¹äºç¬¦å·å¸¸é‡æ›´å–œæ¬¢å¸¸é‡å˜é‡è€Œä¸æ˜¯ç±»å¯¹è±¡å®>å¯¹äºç¬¦å·å¸¸é‡ï¼Œæ›´å–œæ¬¢å¸¸é‡å˜é‡è€Œä¸æ˜¯ç±»å¯¹è±¡å®<a hidden class=anchor aria-hidden=true href=#å¯¹äºç¬¦å·å¸¸é‡æ›´å–œæ¬¢å¸¸é‡å˜é‡è€Œä¸æ˜¯ç±»å¯¹è±¡å®>#</a></h3><p>é¦–å…ˆï¼Œå› ä¸ºå®æ˜¯ç”±é¢„å¤„ç†å™¨è§£æçš„ï¼Œæ‰€æœ‰å‡ºç°çš„å®éƒ½åœ¨ç¼–è¯‘ä¹‹å‰è¢«å®šä¹‰çš„å€¼æ›¿æ¢ã€‚å¦‚æœæ‚¨æ­£åœ¨è°ƒè¯•ä»£ç ï¼Œæ‚¨å°†çœ‹ä¸åˆ°å®é™…å€¼ï¼ˆä¾‹å¦‚ 30ï¼‰â€”â€”æ‚¨åªä¼šçœ‹åˆ°ç¬¦å·å¸¸é‡çš„åç§°ï¼ˆä¾‹å¦‚ MAX_STUDENTS_PER_CLASSï¼‰ã€‚å› ä¸ºè¿™äº›#defined å€¼ä¸æ˜¯å˜é‡ï¼Œæ‰€ä»¥æ‚¨æ— æ³•åœ¨è°ƒè¯•å™¨ä¸­æ·»åŠ ç›‘è§†æ¥æŸ¥çœ‹å®ƒä»¬çš„å€¼ã€‚å¦‚æœæ‚¨æƒ³çŸ¥é“ MAX_STUDENTS_PER_CLASS è§£æä¸ºä»€ä¹ˆå€¼ï¼Œæ‚¨å¿…é¡»æ‰¾åˆ° MAX_STUDENTS_PER_CLASS çš„å®šä¹‰ï¼ˆå¯èƒ½åœ¨ä¸åŒçš„æ–‡ä»¶ä¸­ï¼‰ã€‚è¿™ä¼šä½¿æ‚¨çš„ç¨‹åºæ›´éš¾è°ƒè¯•</p><p>å…¶æ¬¡ï¼Œå®å¯èƒ½ä¸æ™®é€šä»£ç æœ‰å‘½åå†²çª</p><p>ç¬¬ä¸‰ï¼Œå®ä¸éµå¾ªæ­£å¸¸çš„ä½œç”¨åŸŸè§„åˆ™ï¼Œè¿™æ„å‘³ç€åœ¨æå°‘æ•°æƒ…å†µä¸‹ï¼Œåœ¨ç¨‹åºçš„ä¸€éƒ¨åˆ†ä¸­å®šä¹‰çš„å®å¯èƒ½ä¼šä¸åœ¨ç¨‹åºçš„å¦ä¸€éƒ¨åˆ†ä¸­ç¼–å†™çš„ä»£ç å‘ç”Ÿå†²çªï¼Œè€Œå®ƒä¸åº”è¯¥ä¸ä¹‹äº¤äº’</p><h2 id=ç¼–è¯‘æ—¶å¸¸é‡å¸¸é‡è¡¨è¾¾å¼å’Œ-constexpr>ç¼–è¯‘æ—¶å¸¸é‡ã€å¸¸é‡è¡¨è¾¾å¼å’Œ constexpr<a hidden class=anchor aria-hidden=true href=#ç¼–è¯‘æ—¶å¸¸é‡å¸¸é‡è¡¨è¾¾å¼å’Œ-constexpr>#</a></h2><h3 id=constant-expressions>Constant expressions<a hidden class=anchor aria-hidden=true href=#constant-expressions>#</a></h3><p>å¸¸é‡è¡¨è¾¾å¼æ˜¯å¯ä»¥åœ¨ç¼–è¯‘æ—¶ç”±ç¼–è¯‘å™¨æ±‚å€¼çš„è¡¨è¾¾å¼ã€‚è¦æˆä¸ºå¸¸é‡è¡¨è¾¾å¼ï¼Œè¡¨è¾¾å¼ä¸­çš„æ‰€æœ‰å€¼å¿…é¡»åœ¨ç¼–è¯‘æ—¶å·²çŸ¥ï¼ˆå¹¶ä¸”æ‰€æœ‰è°ƒç”¨çš„è¿ç®—ç¬¦å’Œå‡½æ•°å¿…é¡»æ”¯æŒç¼–è¯‘æ—¶æ±‚å€¼ï¼‰</p><p>åœ¨ç¼–è¯‘æ—¶å¯¹å¸¸é‡è¡¨è¾¾å¼æ±‚å€¼ä¼šä½¿æˆ‘ä»¬çš„ç¼–è¯‘æ—¶é—´å˜é•¿ï¼ˆå› ä¸ºç¼–è¯‘å™¨å¿…é¡»åšæ›´å¤šçš„å·¥ä½œï¼‰ï¼Œä½†è¿™æ ·çš„è¡¨è¾¾å¼åªéœ€è¦æ±‚å€¼ä¸€æ¬¡ï¼ˆè€Œä¸æ˜¯æ¯æ¬¡ç¨‹åºè¿è¡Œæ—¶ï¼‰ã€‚ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶é€Ÿåº¦æ›´å¿«ï¼Œä½¿ç”¨çš„å†…å­˜æ›´å°‘</p><h3 id=compile-time-constants>Compile-time constants<a hidden class=anchor aria-hidden=true href=#compile-time-constants>#</a></h3><p>ç¼–è¯‘æ—¶å¸¸é‡æ˜¯å…¶å€¼åœ¨ç¼–è¯‘æ—¶å·²çŸ¥çš„å¸¸é‡ã€‚æ–‡å­—ï¼ˆä¾‹å¦‚â€œ1â€ã€â€œ2.3â€å’Œâ€œHello, world!â€ï¼‰æ˜¯ä¸€ç§ç¼–è¯‘æ—¶å¸¸é‡</p><p>Const å˜é‡å¯èƒ½æ˜¯ä¹Ÿå¯èƒ½ä¸æ˜¯ç¼–è¯‘æ—¶å¸¸é‡</p><h3 id=compile-time-const>Compile-time const<a hidden class=anchor aria-hidden=true href=#compile-time-const>#</a></h3><p>å¦‚æœ const å˜é‡çš„åˆå§‹å€¼è®¾å®šé¡¹æ˜¯å¸¸é‡è¡¨è¾¾å¼ï¼Œåˆ™å®ƒæ˜¯ç¼–è¯‘æ—¶å¸¸é‡</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>const</span> <span style=color:#fff;font-weight:700>int</span> x { <span style=color:#ff0;font-weight:700>3</span> };  <span style=color:#007f7f>// x is a compile-time const
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	<span style=color:#fff;font-weight:700>const</span> <span style=color:#fff;font-weight:700>int</span> y { <span style=color:#ff0;font-weight:700>4</span> };  <span style=color:#007f7f>// y is a compile-time const
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>const</span> <span style=color:#fff;font-weight:700>int</span> z { x + y }; <span style=color:#007f7f>// x + y is a compile-time expression
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>	std::cout &lt;&lt; z &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>å› ä¸º x å’Œ y çš„åˆå§‹åŒ–å€¼æ˜¯å¸¸é‡è¡¨è¾¾å¼ï¼Œæ‰€ä»¥ x å’Œ y æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ã€‚è¿™æ„å‘³ç€ x + y ä¹Ÿæ˜¯å¸¸é‡è¡¨è¾¾å¼ã€‚æ‰€ä»¥å½“ç¼–è¯‘å™¨ç¼–è¯‘è¿™ä¸ªç¨‹åºæ—¶ï¼Œå®ƒå¯ä»¥è®¡ç®— x + y çš„å€¼ï¼Œå¹¶å°†å¸¸é‡è¡¨è¾¾å¼æ›¿æ¢ä¸ºç»“æœæ–‡å­— 7</p><h3 id=runtime-const>Runtime const<a hidden class=anchor aria-hidden=true href=#runtime-const>#</a></h3><p>ä»»ä½•ä½¿ç”¨éå¸¸é‡è¡¨è¾¾å¼åˆå§‹åŒ–çš„ const å˜é‡éƒ½æ˜¯è¿è¡Œæ—¶å¸¸é‡ã€‚è¿è¡Œæ—¶å¸¸é‡æ˜¯å…¶åˆå§‹åŒ–å€¼ç›´åˆ°è¿è¡Œæ—¶æ‰çŸ¥é“çš„å¸¸é‡</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> getNumber()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;Enter a number: &#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>int</span> y{};
</span></span><span style=display:flex><span>    std::cin &gt;&gt; y;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> y;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>const</span> <span style=color:#fff;font-weight:700>int</span> x{ <span style=color:#ff0;font-weight:700>3</span> };           <span style=color:#007f7f>// x is a compile time constant
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>const</span> <span style=color:#fff;font-weight:700>int</span> y{ getNumber() }; <span style=color:#007f7f>// y is a runtime constant
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>const</span> <span style=color:#fff;font-weight:700>int</span> z{ x + y };       <span style=color:#007f7f>// x + y is a runtime expression
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    std::cout &lt;&lt; z &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;     <span style=color:#007f7f>// this is also a runtime expression
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>å³ä½¿ y æ˜¯å¸¸é‡ï¼Œåˆå§‹åŒ–å€¼ï¼ˆgetNumber() çš„è¿”å›å€¼ï¼‰ç›´åˆ°è¿è¡Œæ—¶æ‰çŸ¥é“ã€‚å› æ­¤ï¼Œy æ˜¯è¿è¡Œæ—¶å¸¸é‡ï¼Œè€Œä¸æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ã€‚å› æ­¤ï¼Œè¡¨è¾¾å¼ x + y æ˜¯ä¸€ä¸ªè¿è¡Œæ—¶è¡¨è¾¾å¼</p><h3 id=constexpr-å…³é”®å­—>constexpr å…³é”®å­—<a hidden class=anchor aria-hidden=true href=#constexpr-å…³é”®å­—>#</a></h3><p>å½“ä½ å£°æ˜ä¸€ä¸ª const å˜é‡æ—¶ï¼Œç¼–è¯‘å™¨ä¼šéšå¼åœ°è·Ÿè¸ªå®ƒæ˜¯è¿è¡Œæ—¶å¸¸é‡è¿˜æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œé™¤äº†ä¼˜åŒ–ç›®çš„ä¹‹å¤–ï¼Œè¿™æ— å…³ç´§è¦ï¼Œä½†æœ‰ä¸€äº›å¥‡æ€ªçš„æƒ…å†µï¼ŒC++ éœ€è¦ç¼–è¯‘æ—¶å¸¸é‡è€Œä¸æ˜¯è¿è¡Œæ—¶å¸¸é‡</p><p>å› ä¸ºç¼–è¯‘æ—¶å¸¸é‡é€šå¸¸å…è®¸æ›´å¥½çš„ä¼˜åŒ–ï¼ˆå¹¶ä¸”å‡ ä¹æ²¡æœ‰ç¼ºç‚¹ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šå¸¸å¸Œæœ›å°½å¯èƒ½ä½¿ç”¨ç¼–è¯‘æ—¶å¸¸é‡</p><p>æˆ‘ä»¬å¯ä»¥å¯»æ±‚ç¼–è¯‘å™¨çš„å¸®åŠ©ï¼Œä»¥ç¡®ä¿æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªæˆ‘ä»¬æœŸæœ›çš„ç¼–è¯‘æ—¶å¸¸é‡ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬åœ¨å˜é‡å£°æ˜ä¸­ä½¿ç”¨ constexpr å…³é”®å­—è€Œä¸æ˜¯ constã€‚ constexprï¼ˆâ€œå¸¸é‡è¡¨è¾¾å¼â€çš„ç¼©å†™ï¼‰å˜é‡åªèƒ½æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ã€‚å¦‚æœ constexpr å˜é‡çš„åˆå§‹åŒ–å€¼ä¸æ˜¯å¸¸é‡è¡¨è¾¾å¼ï¼Œç¼–è¯‘å™¨ä¼šå‡ºé”™</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> five()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>5</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>constexpr</span> <span style=color:#fff;font-weight:700>double</span> gravity { <span style=color:#ff0;font-weight:700>9.8</span> }; <span style=color:#007f7f>// ok: 9.8 is a constant expression
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> <span style=color:#fff;font-weight:700>int</span> sum { <span style=color:#ff0;font-weight:700>4</span> + <span style=color:#ff0;font-weight:700>5</span> };      <span style=color:#007f7f>// ok: 4 + 5 is a constant expression
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> <span style=color:#fff;font-weight:700>int</span> something { sum };  <span style=color:#007f7f>// ok: sum is a constant expression
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;Enter your age: &#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>int</span> age{};
</span></span><span style=display:flex><span>    std::cin &gt;&gt; age;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>constexpr</span> <span style=color:#fff;font-weight:700>int</span> myAge { age };      <span style=color:#007f7f>// compile error: age is not a constant expression
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> <span style=color:#fff;font-weight:700>int</span> f { five() };       <span style=color:#007f7f>// compile error: return value of five() is not a constant expression
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ä»»ä½•åœ¨åˆå§‹åŒ–åä¸åº”ä¿®æ”¹ä¸”å…¶åˆå§‹å€¼è®¾å®šé¡¹åœ¨ç¼–è¯‘æ—¶å·²çŸ¥çš„å˜é‡éƒ½åº”å£°æ˜ä¸º <code>constexpr</code></p><p>ä»»ä½•åœ¨åˆå§‹åŒ–åä¸åº”ä¿®æ”¹ä¸”å…¶åˆå§‹å€¼è®¾å®šé¡¹åœ¨ç¼–è¯‘æ—¶æœªçŸ¥çš„å˜é‡éƒ½åº”å£°æ˜ä¸º <code>const</code></p><h2 id=literals>Literals<a hidden class=anchor aria-hidden=true href=#literals>#</a></h2><p>æ–‡å­—æ˜¯ç›´æ¥æ’å…¥ä»£ç ä¸­çš„æœªå‘½åå€¼ã€‚ä¾‹å¦‚ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>5</span>;                   <span style=color:#007f7f>// 5 is an integer literal
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>bool</span> myNameIsAlex { <span style=color:#fff;font-weight:700>true</span> }; <span style=color:#007f7f>// true is a boolean literal
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>std::cout &lt;&lt; <span style=color:#ff0;font-weight:700>3.4</span>;           <span style=color:#007f7f>// 3.4 is a double literal
</span></span></span></code></pre></div><p>å¦‚å¯¹è±¡æœ‰ç±»å‹ä¸€æ ·ï¼Œæ‰€æœ‰æ–‡å­—éƒ½æœ‰ç±»å‹ã€‚æ–‡å­—çš„ç±»å‹æ˜¯ä»æ–‡å­—çš„å€¼æ¨å¯¼å‡ºæ¥çš„</p><h2 id=åè¿›åˆ¶äºŒè¿›åˆ¶åå…­è¿›åˆ¶å’Œå…«è¿›åˆ¶>åè¿›åˆ¶ã€äºŒè¿›åˆ¶ã€åå…­è¿›åˆ¶å’Œå…«è¿›åˆ¶<a hidden class=anchor aria-hidden=true href=#åè¿›åˆ¶äºŒè¿›åˆ¶åå…­è¿›åˆ¶å’Œå…«è¿›åˆ¶>#</a></h2><h3 id=äºŒè¿›åˆ¶æ–‡å­—å’Œæ•°å­—åˆ†éš”ç¬¦>äºŒè¿›åˆ¶æ–‡å­—å’Œæ•°å­—åˆ†éš”ç¬¦<a hidden class=anchor aria-hidden=true href=#äºŒè¿›åˆ¶æ–‡å­—å’Œæ•°å­—åˆ†éš”ç¬¦>#</a></h3><p>åœ¨ C++14 ä¹‹å‰ï¼Œä¸æ”¯æŒäºŒè¿›åˆ¶æ–‡å­—ã€‚ç„¶è€Œï¼Œåå…­è¿›åˆ¶æ–‡å­—ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæœ‰ç”¨çš„è§£å†³æ–¹æ³•ï¼ˆæ‚¨å¯èƒ½ä»ä¼šåœ¨ç°æœ‰ä»£ç åº“ä¸­çœ‹åˆ°ï¼‰ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>int</span> bin{};    <span style=color:#007f7f>// assume 16-bit ints
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    bin = <span style=color:#ff0;font-weight:700>0x0001</span>; <span style=color:#007f7f>// assign binary 0000 0000 0000 0001 to the variable
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    bin = <span style=color:#ff0;font-weight:700>0x0002</span>; <span style=color:#007f7f>// assign binary 0000 0000 0000 0010 to the variable
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    bin = <span style=color:#ff0;font-weight:700>0x0004</span>; <span style=color:#007f7f>// assign binary 0000 0000 0000 0100 to the variable
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    bin = <span style=color:#ff0;font-weight:700>0x0008</span>; <span style=color:#007f7f>// assign binary 0000 0000 0000 1000 to the variable
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    bin = <span style=color:#ff0;font-weight:700>0x0010</span>; <span style=color:#007f7f>// assign binary 0000 0000 0001 0000 to the variable
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    bin = <span style=color:#ff0;font-weight:700>0x0020</span>; <span style=color:#007f7f>// assign binary 0000 0000 0010 0000 to the variable
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    bin = <span style=color:#ff0;font-weight:700>0x0040</span>; <span style=color:#007f7f>// assign binary 0000 0000 0100 0000 to the variable
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    bin = <span style=color:#ff0;font-weight:700>0x0080</span>; <span style=color:#007f7f>// assign binary 0000 0000 1000 0000 to the variable
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    bin = <span style=color:#ff0;font-weight:700>0x00FF</span>; <span style=color:#007f7f>// assign binary 0000 0000 1111 1111 to the variable
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    bin = <span style=color:#ff0;font-weight:700>0x00B3</span>; <span style=color:#007f7f>// assign binary 0000 0000 1011 0011 to the variable
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    bin = <span style=color:#ff0;font-weight:700>0xF770</span>; <span style=color:#007f7f>// assign binary 1111 0111 0111 0000 to the variable
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>åœ¨ C++14 ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ 0b å‰ç¼€æ¥ä½¿ç”¨äºŒè¿›åˆ¶æ–‡å­—ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>int</span> bin{};        <span style=color:#007f7f>// assume 16-bit ints
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    bin = <span style=color:#ff0;font-weight:700>0b1</span>;        <span style=color:#007f7f>// assign binary 0000 0000 0000 0001 to the variable
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    bin = <span style=color:#ff0;font-weight:700>0b11</span>;       <span style=color:#007f7f>// assign binary 0000 0000 0000 0011 to the variable
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    bin = <span style=color:#ff0;font-weight:700>0b1010</span>;     <span style=color:#007f7f>// assign binary 0000 0000 0000 1010 to the variable
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    bin = <span style=color:#ff0;font-weight:700>0b11110000</span>; <span style=color:#007f7f>// assign binary 0000 0000 1111 0000 to the variable
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ç”±äºé•¿æ–‡æœ¬å¯èƒ½éš¾ä»¥é˜…è¯»ï¼ŒC++14 è¿˜æ·»åŠ äº†ä½¿ç”¨å¼•å· (â€˜) ä½œä¸ºæ•°å­—åˆ†éš”ç¬¦çš„åŠŸèƒ½ï¼ˆåˆ†éš”ç¬¦ä¸èƒ½å‡ºç°åœ¨å€¼çš„ç¬¬ä¸€ä½æ•°å­—ä¹‹å‰ï¼‰ï¼ˆæ•°å­—åˆ†éš”ç¬¦çº¯ç²¹æ˜¯è§†è§‰ä¸Šçš„ï¼Œä¸ä¼šä»¥ä»»ä½•æ–¹å¼å½±å“å­—é¢å€¼ï¼‰</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>int</span> bin { <span style=color:#ff0;font-weight:700>0b1011&#39;0010</span> };  <span style=color:#007f7f>// assign binary 1011 0010 to the variable
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>long</span> value { <span style=color:#ff0;font-weight:700>2&#39;132&#39;673&#39;462</span> }; <span style=color:#007f7f>// much easier to read than 2132673462
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=ä»¥åè¿›åˆ¶å…«è¿›åˆ¶æˆ–åå…­è¿›åˆ¶è¾“å‡ºå€¼>ä»¥åè¿›åˆ¶ã€å…«è¿›åˆ¶æˆ–åå…­è¿›åˆ¶è¾“å‡ºå€¼<a hidden class=anchor aria-hidden=true href=#ä»¥åè¿›åˆ¶å…«è¿›åˆ¶æˆ–åå…­è¿›åˆ¶è¾“å‡ºå€¼>#</a></h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒC++ ä»¥åè¿›åˆ¶å½¢å¼è¾“å‡ºå€¼ã€‚ä½†æ˜¯ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨ std::decã€std::oct å’Œ std::hex I/O æ“çºµå™¨æ›´æ”¹è¾“å‡ºæ ¼å¼ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>int</span> x { <span style=color:#ff0;font-weight:700>12</span> };
</span></span><span style=display:flex><span>    std::cout &lt;&lt; x &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>; <span style=color:#007f7f>// decimal (by default)
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    std::cout &lt;&lt; std::hex &lt;&lt; x &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>; <span style=color:#007f7f>// hexadecimal
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    std::cout &lt;&lt; x &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>; <span style=color:#007f7f>// now hexadecimal
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    std::cout &lt;&lt; std::oct &lt;&lt; x &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>; <span style=color:#007f7f>// octal
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    std::cout &lt;&lt; std::dec &lt;&lt; x &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>; <span style=color:#007f7f>// return to decimal
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    std::cout &lt;&lt; x &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>; <span style=color:#007f7f>// decimal
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=ä»¥äºŒè¿›åˆ¶è¾“å‡ºå€¼>ä»¥äºŒè¿›åˆ¶è¾“å‡ºå€¼<a hidden class=anchor aria-hidden=true href=#ä»¥äºŒè¿›åˆ¶è¾“å‡ºå€¼>#</a></h3><p>ä»¥äºŒè¿›åˆ¶å½¢å¼è¾“å‡ºå€¼æœ‰ç‚¹å›°éš¾ï¼Œå› ä¸º std::cout æ²¡æœ‰å†…ç½®æ­¤åŠŸèƒ½ã€‚å¹¸è¿çš„æ˜¯ï¼ŒC++ æ ‡å‡†åº“åŒ…å«ä¸€ä¸ªåä¸º std::bitset çš„ç±»å‹ï¼Œå®ƒå°†ä¸ºæˆ‘ä»¬å®Œæˆæ­¤æ“ä½œï¼ˆåœ¨ <code>&lt;bitset></code> æ ‡å¤´ä¸­ï¼‰ã€‚è¦ä½¿ç”¨ std::bitsetï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ª std::bitset å˜é‡å¹¶å‘Šè¯‰ std::bitset æˆ‘ä»¬è¦å­˜å‚¨å¤šå°‘ä½ã€‚ä½æ•°å¿…é¡»æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ã€‚ std::bitset å¯ä»¥ç”¨æ— ç¬¦å·æ•´æ•°å€¼ï¼ˆä»»ä½•æ ¼å¼ï¼ŒåŒ…æ‹¬åè¿›åˆ¶ã€å…«è¿›åˆ¶ã€åå…­è¿›åˆ¶æˆ–äºŒè¿›åˆ¶ï¼‰åˆå§‹åŒ–</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;bitset&gt; // for std::bitset</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#007f7f>// std::bitset&lt;8&gt; means we want to store 8 bits
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	std::bitset&lt;<span style=color:#ff0;font-weight:700>8</span>&gt; bin1{ <span style=color:#ff0;font-weight:700>0b1100&#39;0101</span> }; <span style=color:#007f7f>// binary literal for binary 1100 0101
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	std::bitset&lt;<span style=color:#ff0;font-weight:700>8</span>&gt; bin2{ <span style=color:#ff0;font-weight:700>0xC5</span> }; <span style=color:#007f7f>// hexadecimal literal for binary 1100 0101
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>	std::cout &lt;&lt; bin1 &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span> &lt;&lt; bin2 &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>	std::cout &lt;&lt; std::bitset&lt;<span style=color:#ff0;font-weight:700>4</span>&gt;{ <span style=color:#ff0;font-weight:700>0b1010</span> } &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>; <span style=color:#007f7f>// create a temporary std::bitset and print it
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=stdstring>std::string<a hidden class=anchor aria-hidden=true href=#stdstring>#</a></h2><h3 id=ä½¿ç”¨-stdgetline-è¾“å…¥æ–‡æœ¬>ä½¿ç”¨ std::getline() è¾“å…¥æ–‡æœ¬<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨-stdgetline-è¾“å…¥æ–‡æœ¬>#</a></h3><p>äº‹å®è¯æ˜ï¼Œå½“ä½¿ç”¨ operator&#187; ä» std::cin ä¸­æå–å­—ç¬¦ä¸²æ—¶ï¼Œoperator&#187; åªè¿”å›å®ƒé‡åˆ°çš„ç¬¬ä¸€ä¸ªç©ºæ ¼ä¹‹å‰çš„å­—ç¬¦ã€‚ä»»ä½•å…¶ä»–å­—ç¬¦éƒ½ç•™åœ¨ std::cin ä¸­ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡æå–</p><p>è¦å°†æ•´è¡Œè¾“å…¥è¯»å…¥å­—ç¬¦ä¸²ï¼Œæœ€å¥½æ”¹ç”¨ <code>std::getline()</code> å‡½æ•°ã€‚ std::getline() éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼šç¬¬ä¸€ä¸ªæ˜¯ std::cinï¼Œç¬¬äºŒä¸ªæ˜¯æ‚¨çš„å­—ç¬¦ä¸²å˜é‡</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;string&gt; // For std::string and std::getline</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;Enter your full name: &#34;</span>;
</span></span><span style=display:flex><span>    std::string name{};
</span></span><span style=display:flex><span>    std::getline(std::cin &gt;&gt; std::ws, name); <span style=color:#007f7f>// read a full line of text into name
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;Enter your age: &#34;</span>;
</span></span><span style=display:flex><span>    std::string age{};
</span></span><span style=display:flex><span>    std::getline(std::cin &gt;&gt; std::ws, age); <span style=color:#007f7f>// read a full line of text into age
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;Your name is &#34;</span> &lt;&lt; name &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; and your age is &#34;</span> &lt;&lt; age &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><code>std::ws</code> è¾“å…¥æ“çºµå™¨å‘Šè¯‰ std::cin åœ¨æå–ä¹‹å‰<strong>å¿½ç•¥ä»»ä½•å‰å¯¼ç©ºæ ¼</strong>ã€‚å‰å¯¼ç©ºç™½æ˜¯å‡ºç°åœ¨å­—ç¬¦ä¸²å¼€å¤´çš„ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ï¼‰</p><p>å¦‚æœä½¿ç”¨ <code>std::getline()</code> è¯»å–å­—ç¬¦ä¸²ï¼Œè¯·ä½¿ç”¨ <code>std::cin >> std::ws</code> è¾“å…¥æ“çºµå™¨å¿½ç•¥å‰å¯¼ç©ºæ ¼</p><p>å°†æå–è¿ç®—ç¬¦ (&#187;) ä¸ std::cin ä¸€èµ·ä½¿ç”¨ä¼šå¿½ç•¥å‰å¯¼ç©ºæ ¼</p><p>std::getline() ä¸ä¼šå¿½ç•¥å‰å¯¼ç©ºæ ¼ï¼Œé™¤éæ‚¨ä½¿ç”¨è¾“å…¥æ“çºµå™¨ std::ws</p><h3 id=å­—ç¬¦ä¸²é•¿åº¦>å­—ç¬¦ä¸²é•¿åº¦<a hidden class=anchor aria-hidden=true href=#å­—ç¬¦ä¸²é•¿åº¦>#</a></h3><p>å¦‚æœæˆ‘ä»¬æƒ³çŸ¥é“ std::string ä¸­æœ‰å¤šå°‘ä¸ªå­—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥å‘ std::string å¯¹è±¡è¯¢é—®å®ƒçš„é•¿åº¦ã€‚æ³¨æ„ std::string::length() è¿”å›ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°å€¼ï¼ˆå¾ˆå¯èƒ½æ˜¯ size_t ç±»å‹ï¼‰ã€‚å¦‚æœä½ æƒ³å°†é•¿åº¦åˆ†é…ç»™ä¸€ä¸ª int å˜é‡ï¼Œä½ åº”è¯¥å¯¹å…¶è¿›è¡Œ static_cast ä»¥é¿å…ç¼–è¯‘å™¨å…³äºæœ‰ç¬¦å·/æ— ç¬¦å·è½¬æ¢çš„è­¦å‘Šï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> length { <span style=color:#fff;font-weight:700>static_cast</span>&lt;<span style=color:#fff;font-weight:700>int</span>&gt;(name.length()) };
</span></span></code></pre></div><h3 id=stdstring-çš„åˆå§‹åŒ–å’Œå¤åˆ¶å¼€é”€å¾ˆå¤§>std::string çš„åˆå§‹åŒ–å’Œå¤åˆ¶å¼€é”€å¾ˆå¤§<a hidden class=anchor aria-hidden=true href=#stdstring-çš„åˆå§‹åŒ–å’Œå¤åˆ¶å¼€é”€å¾ˆå¤§>#</a></h3><p>æ¯å½“åˆå§‹åŒ– std::string æ—¶ï¼Œéƒ½ä¼šç”Ÿæˆç”¨äºåˆå§‹åŒ–å®ƒçš„å­—ç¬¦ä¸²çš„å‰¯æœ¬ã€‚æ¯å½“ std::string æŒ‰å€¼ä¼ é€’ç»™ std::string å‚æ•°æ—¶ï¼Œéƒ½ä¼šç”Ÿæˆå¦ä¸€ä¸ªå‰¯æœ¬ã€‚ä¸è¦æŒ‰å€¼ä¼ é€’ std::stringï¼Œå› ä¸ºç”Ÿæˆ std::string çš„å‰¯æœ¬å¼€é”€å¾ˆå¤§ã€‚æ›´å–œæ¬¢ std::string_view å‚æ•°</p><h3 id=literals-forstdstring--stdstring_view>Literals forÂ <code>std::string</code> & <code>std::string_view</code><a hidden class=anchor aria-hidden=true href=#literals-forstdstring--stdstring_view>#</a></h3><p>åŒå¼•å·å­—ç¬¦ä¸²æ–‡å­—ï¼ˆæ¯”å¦‚â€œHello, world!â€ï¼‰é»˜è®¤æ˜¯ C é£æ ¼çš„å­—ç¬¦ä¸²</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨åŒå¼•å·å­—ç¬¦ä¸²æ–‡å­—åä½¿ç”¨ s åç¼€æ¥åˆ›å»ºç±»å‹ä¸º std::string çš„å­—ç¬¦ä¸²æ–‡å­—</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;string&gt;      // for std::string</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;string_view&gt; // for std::string_view</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>using</span> <span style=color:#fff;font-weight:700>namespace</span> std::literals; <span style=color:#007f7f>// easiest way to access the s and sv suffixes
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;foo</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>;   <span style=color:#007f7f>// no suffix is a C-style string literal
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;goo</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>s;  <span style=color:#007f7f>// s suffix is a std::string literal
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;moo</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>sv; <span style=color:#007f7f>// sv suffix is a std::string_view literal
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>â€œsâ€åç¼€ä½äºå‘½åç©ºé—´ std::literals::string_literals ä¸­ã€‚â€œsvâ€åç¼€ä½äºå‘½åç©ºé—´ std::literals::string_view_literals ä¸­ã€‚è®¿é—®æ–‡å­—åç¼€çš„æœ€ç®€å•æ–¹æ³•æ˜¯é€šè¿‡ä½¿ç”¨æŒ‡ä»¤ä½¿ç”¨å‘½åç©ºé—´ std::literalsã€‚è¿™æ˜¯å¯ä»¥ä½¿ç”¨æ•´ä¸ªå‘½åç©ºé—´çš„ä¾‹å¤–æƒ…å†µä¹‹ä¸€ï¼Œå› ä¸ºå…¶ä¸­å®šä¹‰çš„åç¼€ä¸å¤ªå¯èƒ½ä¸æ‚¨çš„ä»»ä½•ä»£ç å†²çª</p><p>ä½ å¯èƒ½ä¸éœ€è¦ç»å¸¸ä½¿ç”¨ std::string æ–‡å­—ï¼ˆå› ä¸ºç”¨ C é£æ ¼çš„å­—ç¬¦ä¸²æ–‡å­—åˆå§‹åŒ– std::string å¯¹è±¡å¾ˆå¥½ï¼‰ï¼Œä½†æˆ‘ä»¬ä¼šåœ¨ä»¥åçš„è¯¾ç¨‹ä¸­çœ‹åˆ°ä¸€äº›ä½¿ç”¨ std çš„æƒ…å†µ::string literals è€Œä¸æ˜¯ C é£æ ¼çš„ string literals ä½¿äº‹æƒ…å˜å¾—æ›´å®¹æ˜“</p><h3 id=constexpr-å­—ç¬¦ä¸²>Constexpr å­—ç¬¦ä¸²<a hidden class=anchor aria-hidden=true href=#constexpr-å­—ç¬¦ä¸²>#</a></h3><p>å¦‚æœæ‚¨å°è¯•å®šä¹‰ä¸€ä¸ª constexpr std::stringï¼Œæ‚¨çš„ç¼–è¯‘å™¨å¯èƒ½ä¼šäº§ç”Ÿä¸€ä¸ªé”™è¯¯</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;string&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>using</span> <span style=color:#fff;font-weight:700>namespace</span> std::literals;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>constexpr</span> std::string name{ <span style=color:#0ff;font-weight:700>&#34;Alex&#34;</span>s }; <span style=color:#007f7f>// compile error
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;My name is: &#34;</span> &lt;&lt; name;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>å‘ç”Ÿè¿™ç§æƒ…å†µæ˜¯å› ä¸º constexpr std::string åœ¨ C++17 æˆ–æ›´æ—©ç‰ˆæœ¬ä¸­ä¸å—æ”¯æŒï¼Œå¹¶ä¸”åœ¨ C++20 ä¸­ä»…æä¾›æœ€ä½é™åº¦çš„æ”¯æŒã€‚å¦‚æœæ‚¨éœ€è¦ constexpr å­—ç¬¦ä¸²ï¼Œè¯·æ”¹ç”¨ std::string_view</p><h2 id=stdstring_view>std::string_view<a hidden class=anchor aria-hidden=true href=#stdstring_view>#</a></h2><h3 id=stdstring_view-c17>std::string_view C++17<a hidden class=anchor aria-hidden=true href=#stdstring_view-c17>#</a></h3><p>ä¸ºäº†è§£å†³ std::string åˆå§‹åŒ–ï¼ˆæˆ–å¤åˆ¶ï¼‰æˆæœ¬é«˜æ˜‚çš„é—®é¢˜ï¼ŒC++17 å¼•å…¥äº† std::string_viewï¼ˆä½äº &lt;string_view> æ ‡å¤´ä¸­ï¼‰ã€‚ std::string_view æä¾›å¯¹ç°æœ‰å­—ç¬¦ä¸²ï¼ˆC é£æ ¼å­—ç¬¦ä¸²æ–‡å­—ã€std::string æˆ– char æ•°ç»„ï¼‰çš„åªè¯»è®¿é—®ï¼Œè€Œæ— éœ€åˆ¶ä½œå‰¯æœ¬</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;string_view&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>void</span> printSV(std::string_view str) <span style=color:#007f7f>// now a std::string_view
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>{
</span></span><span style=display:flex><span>    std::cout &lt;&lt; str &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    std::string_view s{ <span style=color:#0ff;font-weight:700>&#34;Hello, world!&#34;</span> }; <span style=color:#007f7f>// now a std::string_view
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    printSV(s);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>å½“æˆ‘ä»¬ç”¨ C é£æ ¼çš„å­—ç¬¦ä¸²æ–‡å­—â€œHello, world!â€åˆå§‹åŒ– std::string_view s æ—¶ï¼Œs æä¾›å¯¹â€œHello, world!â€çš„åªè¯»è®¿é—®ã€‚æ— éœ€å¤åˆ¶å­—ç¬¦ä¸²ã€‚å½“æˆ‘ä»¬å°† s ä¼ é€’ç»™ printSV() æ—¶ï¼Œå‚æ•° str ä» s åˆå§‹åŒ–ã€‚è¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡ str è®¿é—®â€œHello, world!â€ï¼Œä¸ç”¨å†æ¬¡å¤åˆ¶å­—ç¬¦ä¸²</p><p>å½“æ‚¨éœ€è¦åªè¯»å­—ç¬¦ä¸²æ—¶ï¼Œå°¤å…¶æ˜¯å¯¹äºå‡½æ•°å‚æ•°ï¼Œä¼˜å…ˆä½¿ç”¨ std::string_view è€Œä¸æ˜¯ std::string</p><h3 id=constexpr-stdstring_view>constexpr std::string_view<a hidden class=anchor aria-hidden=true href=#constexpr-stdstring_view>#</a></h3><p>std::string_view å®Œå…¨æ”¯æŒ constexprï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;string_view&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>constexpr</span> std::string_view s{ <span style=color:#0ff;font-weight:700>&#34;Hello, world!&#34;</span> };
</span></span><span style=display:flex><span>    std::cout &lt;&lt; s &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>; <span style=color:#007f7f>// s will be replaced with &#34;Hello, world!&#34; at compile-time
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=stdstring--stdstring_view>std::string & std::string_view<a hidden class=anchor aria-hidden=true href=#stdstring--stdstring_view>#</a></h3><p>å¯ä»¥ä½¿ç”¨ std::string åˆå§‹å€¼è®¾å®šé¡¹åˆ›å»º std::string_viewï¼Œå¹¶ä¸” std::string å°†éšå¼è½¬æ¢ä¸º std::string_viewï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;string&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;string_view&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>void</span> printSV(std::string_view str)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    std::cout &lt;&lt; str &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    std::string s{ <span style=color:#0ff;font-weight:700>&#34;Hello, world&#34;</span> };
</span></span><span style=display:flex><span>    std::string_view sv{ s }; <span style=color:#007f7f>// Initialize a std::string_view from a std::string
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    std::cout &lt;&lt; sv &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    printSV(s); <span style=color:#007f7f>// implicitly convert a std::string to std::string_view
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>å› ä¸º std::string å¤åˆ¶äº†å®ƒçš„åˆå§‹åŒ–å™¨ï¼ˆè¿™å¼€é”€å¾ˆå¤§ï¼‰ï¼ŒC++ ä¸å…è®¸å°† std::string_view éšå¼è½¬æ¢ä¸º std::stringã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ std::string_view åˆå§‹å€¼è®¾å®šé¡¹æ˜¾å¼åˆ›å»º std::stringï¼Œæˆ–è€…æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ static_cast å°†ç°æœ‰çš„ std::string_view è½¬æ¢ä¸º std::string</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;string&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;string_view&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>void</span> printString(std::string str)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    std::cout &lt;&lt; str &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  std::string_view sv{ <span style=color:#0ff;font-weight:700>&#34;balloon&#34;</span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  std::string str{ sv }; <span style=color:#007f7f>// okay, we can create std::string using std::string_view initializer
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>  <span style=color:#007f7f>// printString(sv);   // compile error: won&#39;t implicitly convert std::string_view to a std::string
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>  printString(<span style=color:#fff;font-weight:700>static_cast</span>&lt;std::string&gt;(sv)); <span style=color:#007f7f>// okay, we can explicitly cast a std::string_view to a std::string
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>  <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h1 id=operatorsæ“ä½œç¬¦>Operatorsï¼ˆæ“ä½œç¬¦ï¼‰<a hidden class=anchor aria-hidden=true href=#operatorsæ“ä½œç¬¦>#</a></h1><h2 id=----è¿ç®—ç¬¦><code>,</code> & <code>? :</code> è¿ç®—ç¬¦<a hidden class=anchor aria-hidden=true href=#----è¿ç®—ç¬¦>#</a></h2><p>C++ æ²¡æœ‰å®šä¹‰å‡½æ•°å‚æ•°æˆ–è¿ç®—ç¬¦æ“ä½œæ•°çš„è®¡ç®—é¡ºåº</p><p>ä¸è¦åœ¨ç»™å®šè¯­å¥ä¸­å¤šæ¬¡ä½¿ç”¨å…·æœ‰å‰¯ä½œç”¨çš„å˜é‡ã€‚å¦‚æœè¿™æ ·åšï¼Œç»“æœå¯èƒ½æ˜¯æœªå®šä¹‰çš„</p><p>é€—å·åœ¨æ‰€æœ‰è¿ç®—ç¬¦ä¸­çš„ä¼˜å…ˆçº§æœ€ä½ï¼Œç”šè‡³ä½äºèµ‹å€¼</p><p>è¯·æ³¨æ„ï¼Œ <code>? :</code> è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§éå¸¸ä½ã€‚å¦‚æœé™¤äº†å°†ç»“æœåˆ†é…ç»™å˜é‡ä¹‹å¤–åšä»»ä½•äº‹æƒ…ï¼Œæ•´ä¸ª <code>? :</code> è¿ç®—ç¬¦ä¹Ÿéœ€è¦ç”¨æ‹¬å·æ‹¬èµ·æ¥</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span>std::cout &lt;&lt; ((x &gt; y) ? x : y) &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span></code></pre></div><p>å¦‚æœåœ¨ä¸Šè¿°æƒ…å†µä¸‹æˆ‘ä»¬ä¸å°†æ•´ä¸ªæ¡ä»¶è¿ç®—ç¬¦æ‹¬èµ·æ¥ä¼šå‘ç”Ÿä»€ä¹ˆã€‚å› ä¸º &#171; è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§é«˜äº ?: è¿ç®—ç¬¦ï¼Œæ‰€ä»¥è¯­å¥ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span>std::cout &lt;&lt; (x &gt; y) ? x : y &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span></code></pre></div><p>å°†è¯„ä¼°ä¸ºï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span>(std::cout &lt;&lt; (x &gt; y)) ? x : y &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span></code></pre></div><h2 id=æ¯”è¾ƒæµ®ç‚¹æ•°å¤§å°>æ¯”è¾ƒæµ®ç‚¹æ•°å¤§å°<a hidden class=anchor aria-hidden=true href=#æ¯”è¾ƒæµ®ç‚¹æ•°å¤§å°>#</a></h2><p>è¿›è¡Œæµ®ç‚¹ç›¸ç­‰çš„æœ€å¸¸è§æ–¹æ³•æ¶‰åŠä½¿ç”¨ä¸€ä¸ªå‡½æ•°æ¥æŸ¥çœ‹ä¸¤ä¸ªæ•°å­—æ˜¯å¦å‡ ä¹ç›¸åŒã€‚å¦‚æœå®ƒä»¬â€œè¶³å¤Ÿæ¥è¿‘â€ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°å®ƒä»¬ç›¸ç­‰ã€‚ç”¨äºè¡¨ç¤ºâ€œè¶³å¤Ÿæ¥è¿‘â€çš„å€¼ä¼ ç»Ÿä¸Šç§°ä¸º epsilonã€‚ Epsilon é€šå¸¸è¢«å®šä¹‰ä¸ºä¸€ä¸ªå°çš„æ­£æ•°ï¼ˆä¾‹å¦‚ 0.00000001ï¼Œæœ‰æ—¶å†™ä½œ 1e-8ï¼‰</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;cmath&gt; // for std::abs()</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#007f7f>// epsilon is an absolute value
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>bool</span> approximatelyEqualAbs(<span style=color:#fff;font-weight:700>double</span> a, <span style=color:#fff;font-weight:700>double</span> b, <span style=color:#fff;font-weight:700>double</span> absEpsilon)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#007f7f>// if the distance between a and b is less than absEpsilon, then a and b are &#34;close enough&#34;
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>return</span> std::abs(a - b) &lt;= absEpsilon;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>è™½ç„¶è¿™ä¸ªåŠŸèƒ½å¯ä»¥å·¥ä½œï¼Œä½†ä¸æ˜¯å¾ˆå¥½ã€‚ 0.00001 çš„ epsilon é€‚ç”¨äº 1.0 å·¦å³çš„è¾“å…¥ï¼Œå¯¹äº 0.0000001 å·¦å³çš„è¾“å…¥å¤ªå¤§ï¼Œå¯¹äº 10,000 è¿™æ ·çš„è¾“å…¥å¤ªå°</p><p>è‘—åè®¡ç®—æœºç§‘å­¦å®¶å”çº³å¾·Â·é«˜å¾·çº³ (Donald Knuth) åœ¨ä»–çš„è‘—ä½œâ€œè®¡ç®—æœºç¼–ç¨‹çš„è‰ºæœ¯ï¼Œç¬¬äºŒå·ï¼šåŠæ•°å€¼ç®—æ³• (Addison-Wesley, 1969)â€ä¸€ä¹¦ä¸­æå‡ºäº†ä»¥ä¸‹æ–¹æ³•ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;algorithm&gt; // std::max</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;cmath&gt; // std::abs</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#007f7f>// return true if the difference between a and b is within epsilon percent of the larger of a and b
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>bool</span> approximatelyEqualRel(<span style=color:#fff;font-weight:700>double</span> a, <span style=color:#fff;font-weight:700>double</span> b, <span style=color:#fff;font-weight:700>double</span> relEpsilon)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> (std::abs(a - b) &lt;= (std::max(std::abs(a), std::abs(b)) * relEpsilon));
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œepsilon ä¸æ˜¯ç»å¯¹æ•°å­—ï¼Œè€Œæ˜¯ç›¸å¯¹äº a æˆ– b çš„å¤§å°ã€‚åœ¨ &lt;= è¿ç®—ç¬¦çš„å·¦ä¾§ï¼Œstd::abs(a - b) å‘Šè¯‰æˆ‘ä»¬ a å’Œ b ä¹‹é—´çš„è·ç¦»ä¸ºæ­£æ•°ã€‚åœ¨ &lt;= è¿ç®—ç¬¦çš„å³ä¾§ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—æˆ‘ä»¬æ„¿æ„æ¥å—çš„â€œè¶³å¤Ÿæ¥è¿‘â€çš„æœ€å¤§å€¼ã€‚ä¸ºæ­¤ï¼Œè¯¥ç®—æ³•é€‰æ‹© a å’Œ b ä¸­è¾ƒå¤§çš„ä¸€ä¸ªï¼ˆä½œä¸ºæ•°å­—æ€»ä½“å¤§å°çš„ç²—ç•¥æŒ‡æ ‡ï¼‰ï¼Œç„¶åå°†å…¶ä¹˜ä»¥ relEpsilonã€‚åœ¨æ­¤å‡½æ•°ä¸­ï¼ŒrelEpsilon è¡¨ç¤ºç™¾åˆ†æ¯”ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¯´â€œè¶³å¤Ÿæ¥è¿‘â€æ„å‘³ç€ a å’Œ b åœ¨ a å’Œ b ä¸­è¾ƒå¤§è€…çš„ 1% ä»¥å†…ï¼Œæˆ‘ä»¬ä¼ å…¥ 0.01 (1% = 1/100 = 0.01) çš„ relEpsilonã€‚ relEpsilon çš„å€¼å¯ä»¥æ ¹æ®æƒ…å†µè°ƒæ•´ä¸ºæœ€åˆé€‚çš„å€¼ï¼ˆä¾‹å¦‚ï¼Œ0.002 çš„ epsilon è¡¨ç¤ºåœ¨ 0.2% ä»¥å†…ï¼‰</p><p>è¦æ‰§è¡Œä¸ç­‰å¼ (!=) è€Œä¸æ˜¯ç›¸ç­‰ï¼Œåªéœ€è°ƒç”¨æ­¤å‡½æ•°å¹¶ä½¿ç”¨é€»è¾‘ NOT è¿ç®—ç¬¦ (!) ç¿»è½¬ç»“æœï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#fff;font-weight:700>if</span> (!approximatelyEqualRel(a, b, <span style=color:#ff0;font-weight:700>0.001</span>))
</span></span><span style=display:flex><span>    std::cout &lt;&lt; a &lt;&lt; <span style=color:#0ff;font-weight:700>&#34; is not equal to &#34;</span> &lt;&lt; b &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span></code></pre></div><p>è™½ç„¶ approximatelyEqualRel() å‡½æ•°é€‚ç”¨äºå¤§å¤šæ•°æƒ…å†µï¼Œä½†å®ƒå¹¶ä¸å®Œç¾ï¼Œå°¤å…¶æ˜¯å½“æ•°å­—æ¥è¿‘é›¶æ—¶ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;algorithm&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;cmath&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#007f7f>// return true if the difference between a and b is within epsilon percent of the larger of a and b
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>bool</span> approximatelyEqualRel(<span style=color:#fff;font-weight:700>double</span> a, <span style=color:#fff;font-weight:700>double</span> b, <span style=color:#fff;font-weight:700>double</span> relEpsilon)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> (std::abs(a - b) &lt;= (std::max(std::abs(a), std::abs(b)) * relEpsilon));
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#007f7f>// a is really close to 1.0, but has rounding errors, so it&#39;s slightly smaller than 1.0
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	<span style=color:#fff;font-weight:700>double</span> a{ <span style=color:#ff0;font-weight:700>0.1</span> + <span style=color:#ff0;font-weight:700>0.1</span> + <span style=color:#ff0;font-weight:700>0.1</span> + <span style=color:#ff0;font-weight:700>0.1</span> + <span style=color:#ff0;font-weight:700>0.1</span> + <span style=color:#ff0;font-weight:700>0.1</span> + <span style=color:#ff0;font-weight:700>0.1</span> + <span style=color:#ff0;font-weight:700>0.1</span> + <span style=color:#ff0;font-weight:700>0.1</span> + <span style=color:#ff0;font-weight:700>0.1</span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#007f7f>// First, let&#39;s compare a (almost 1.0) to 1.0.
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	std::cout &lt;&lt; approximatelyEqualRel(a, <span style=color:#ff0;font-weight:700>1.0</span>, <span style=color:#ff0;font-weight:700>1e-8</span>) &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#007f7f>// Second, let&#39;s compare a-1.0 (almost 0.0) to 0.0
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	std::cout &lt;&lt; approximatelyEqualRel(a-<span style=color:#ff0;font-weight:700>1.0</span>, <span style=color:#ff0;font-weight:700>0.0</span>, <span style=color:#ff0;font-weight:700>1e-8</span>) &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>è¿™ä¼šè¿”å›ï¼š</p><pre tabindex=0><code>1
0
</code></pre><p>é¿å…è¿™ç§æƒ…å†µçš„ä¸€ç§æ–¹æ³•æ˜¯åŒæ—¶ä½¿ç”¨ç»å¯¹ epsilonï¼ˆå¦‚æˆ‘ä»¬åœ¨ç¬¬ä¸€ç§æ–¹æ³•ä¸­æ‰€åšçš„ï¼‰å’Œç›¸å¯¹ epsilonï¼ˆå¦‚æˆ‘ä»¬åœ¨ Knuth çš„æ–¹æ³•ä¸­æ‰€åšçš„ï¼‰ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#007f7f>// return true if the difference between a and b is less than absEpsilon, or within relEpsilon percent of the larger of a and b
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>bool</span> approximatelyEqualAbsRel(<span style=color:#fff;font-weight:700>double</span> a, <span style=color:#fff;font-weight:700>double</span> b, <span style=color:#fff;font-weight:700>double</span> absEpsilon, <span style=color:#fff;font-weight:700>double</span> relEpsilon)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#007f7f>// Check if the numbers are really close -- needed when comparing numbers near zero.
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>double</span> diff{ std::abs(a - b) };
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>if</span> (diff &lt;= absEpsilon)
</span></span><span style=display:flex><span>        <span style=color:#fff;font-weight:700>return</span> <span style=color:#fff;font-weight:700>true</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#007f7f>// Otherwise fall back to Knuth&#39;s algorithm
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>return</span> (diff &lt;= (std::max(std::abs(a), std::abs(b)) * relEpsilon));
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>åœ¨è¿™ä¸ªç®—æ³•ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆæ£€æŸ¥ a å’Œ b åœ¨ç»å¯¹å€¼ä¸Šæ˜¯å¦æ¥è¿‘ï¼Œè¿™å¤„ç†äº† a å’Œ b éƒ½æ¥è¿‘äºé›¶çš„æƒ…å†µã€‚ absEpsilon å‚æ•°åº”è®¾ç½®ä¸ºéå¸¸å°çš„å€¼ï¼ˆä¾‹å¦‚ 1e-12ï¼‰ã€‚å¦‚æœå¤±è´¥ï¼Œåˆ™æˆ‘ä»¬ä½¿ç”¨ç›¸å¯¹ epsilon å›é€€åˆ° Knuth çš„ç®—æ³•</p><p>æµ®ç‚¹æ•°çš„æ¯”è¾ƒæ˜¯ä¸€ä¸ªå›°éš¾çš„è¯é¢˜ï¼Œå¹¶ä¸”æ²¡æœ‰é€‚ç”¨äºæ‰€æœ‰æƒ…å†µçš„â€œä¸€åˆ€åˆ‡â€ç®—æ³•ã€‚ä½†æ˜¯ï¼ŒabsEpsilon ä¸º 1e-12 å’Œ relEpsilon ä¸º 1e-8 çš„ approximatesEqualAbsRel() åº”è¯¥è¶³ä»¥å¤„ç†æ‚¨å°†é‡åˆ°çš„å¤§å¤šæ•°æƒ…å†µ</p><h2 id=é€»è¾‘-xor-è¿ç®—ç¬¦>é€»è¾‘ XOR è¿ç®—ç¬¦<a hidden class=anchor aria-hidden=true href=#é€»è¾‘-xor-è¿ç®—ç¬¦>#</a></h2><p>C++ ä¸æä¾›é€»è¾‘ XOR è¿ç®—ç¬¦ã€‚ä¸é€»è¾‘æˆ–æˆ–é€»è¾‘ä¸ä¸åŒï¼Œé€»è¾‘å¼‚æˆ–ä¸èƒ½è¿›è¡ŒçŸ­è·¯è¯„ä¼°ã€‚å› æ­¤ï¼Œä»é€»è¾‘ OR å’Œé€»è¾‘ AND è¿ç®—ç¬¦ä¸­åˆ›å»ºé€»è¾‘ XOR è¿ç®—ç¬¦å…·æœ‰æŒ‘æˆ˜æ€§ã€‚ä½†æ˜¯ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸ç­‰è¿ç®—ç¬¦ (!=) è½»æ¾æ¨¡æ‹Ÿé€»è¾‘ XORï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#fff;font-weight:700>if</span> (a != b) ... <span style=color:#007f7f>// a XOR b, assuming a and b are Booleans
</span></span></span></code></pre></div><p>è¿™å¯ä»¥æ‰©å±•åˆ°å¤šä¸ªæ“ä½œæ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#fff;font-weight:700>if</span> (a != b != c != d) ... <span style=color:#007f7f>// a XOR b XOR c XOR d, assuming a, b, c, and d are Booleans
</span></span></span></code></pre></div><p>è¯·æ³¨æ„ï¼Œä¸Šè¿° XOR æ¨¡å¼ä»…åœ¨æ“ä½œæ•°ä¸ºå¸ƒå°”å€¼ï¼ˆè€Œéæ•´æ•°ï¼‰æ—¶æ‰æœ‰æ•ˆã€‚å¦‚æœæ‚¨éœ€è¦ä¸€ç§é€‚ç”¨äºéå¸ƒå°”æ“ä½œæ•°çš„é€»è¾‘ XOR å½¢å¼ï¼Œæ‚¨å¯ä»¥å°†å®ƒä»¬é™æ€è½¬æ¢ä¸ºå¸ƒå°”å€¼ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#fff;font-weight:700>if</span> (<span style=color:#fff;font-weight:700>static_cast</span>&lt;<span style=color:#fff;font-weight:700>bool</span>&gt;(a) != <span style=color:#fff;font-weight:700>static_cast</span>&lt;<span style=color:#fff;font-weight:700>bool</span>&gt;(b) != <span style=color:#fff;font-weight:700>static_cast</span>&lt;<span style=color:#fff;font-weight:700>bool</span>&gt;(c) != <span style=color:#fff;font-weight:700>static_cast</span>&lt;<span style=color:#fff;font-weight:700>bool</span>&gt;(d)) ... <span style=color:#007f7f>// a XOR b XOR c XOR d, for any type that can be converted to bool
</span></span></span></code></pre></div><h1 id=ä½æ“ä½œ>ä½æ“ä½œ<a hidden class=anchor aria-hidden=true href=#ä½æ“ä½œ>#</a></h1><h2 id=ä½æ ‡å¿—-and-ä½æ“ä½œ-via-stdbitset>ä½æ ‡å¿— and ä½æ“ä½œ via std::bitset<a hidden class=anchor aria-hidden=true href=#ä½æ ‡å¿—-and-ä½æ“ä½œ-via-stdbitset>#</a></h2><p>è¦å®šä¹‰ä¸€ç»„ä½æ ‡å¿—ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨é€‚å½“å¤§å°çš„æ— ç¬¦å·æ•´æ•°ï¼ˆ8 ä½ã€16 ä½ã€32 ä½ç­‰â€¦â€¦å–å†³äºæˆ‘ä»¬æœ‰å¤šå°‘æ ‡å¿—ï¼‰ï¼Œæˆ– std::bitset</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;bitset&gt; // for std::bitset</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span>std::bitset&lt;<span style=color:#ff0;font-weight:700>8</span>&gt; mybitset {}; <span style=color:#007f7f>// 8 bits in size means room for 8 flags
</span></span></span></code></pre></div><p>ä½æ“ä½œæ˜¯æ‚¨åº”è¯¥æ˜ç¡®ä½¿ç”¨æ— ç¬¦å·æ•´æ•°ï¼ˆæˆ– std::bitsetï¼‰çš„å°‘æ•°æƒ…å†µä¹‹ä¸€</p><p>std::bitset æä¾›äº† 4 ä¸ªå¯ç”¨äºä½æ“ä½œçš„å…³é”®å‡½æ•°ï¼š</p><ul><li>test() å…è®¸æˆ‘ä»¬æŸ¥è¯¢æŸä¸ªä½æ˜¯ 0 è¿˜æ˜¯ 1</li><li>set() å…è®¸æˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªä½ï¼ˆå¦‚æœä½å·²ç»æ‰“å¼€ï¼Œè¿™å°†ä¸æ‰§è¡Œä»»ä½•æ“ä½œï¼‰</li><li>reset() å…è®¸æˆ‘ä»¬å…³é—­ä¸€ä¸ªä½ï¼ˆå¦‚æœè¯¥ä½å·²ç»å…³é—­ï¼Œè¿™å°†ä¸æ‰§è¡Œä»»ä½•æ“ä½œï¼‰</li><li>flip() å…è®¸æˆ‘ä»¬å°†ä½å€¼ä» 0 ç¿»è½¬ä¸º 1ï¼Œåä¹‹äº¦ç„¶</li></ul><p>è¿™äº›å‡½æ•°ä¸­çš„æ¯ä¸€ä¸ªéƒ½å°†æˆ‘ä»¬è¦æ“ä½œçš„ä½çš„ä½ç½®ä½œä¸ºå®ƒä»¬å”¯ä¸€çš„å‚æ•°</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;bitset&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    std::bitset&lt;<span style=color:#ff0;font-weight:700>8</span>&gt; bits{ <span style=color:#ff0;font-weight:700>0b0000&#39;0101</span> }; <span style=color:#007f7f>// we need 8 bits, start with bit pattern 0000 0101
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    bits.set(<span style=color:#ff0;font-weight:700>3</span>); <span style=color:#007f7f>// set bit position 3 to 1 (now we have 0000 1101)
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    bits.flip(<span style=color:#ff0;font-weight:700>4</span>); <span style=color:#007f7f>// flip bit 4 (now we have 0001 1101)
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    bits.reset(<span style=color:#ff0;font-weight:700>4</span>); <span style=color:#007f7f>// set bit 4 back to 0 (now we have 0000 1101)
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;All the bits: &#34;</span> &lt;&lt; bits &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;Bit 3 has value: &#34;</span> &lt;&lt; bits.test(<span style=color:#ff0;font-weight:700>3</span>) &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;Bit 4 has value: &#34;</span> &lt;&lt; bits.test(<span style=color:#ff0;font-weight:700>4</span>) &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;\n&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=æŒ‰ä½è¿ç®—ç¬¦>æŒ‰ä½è¿ç®—ç¬¦<a hidden class=anchor aria-hidden=true href=#æŒ‰ä½è¿ç®—ç¬¦>#</a></h2><p><div class=post-img-view><a data-fancybox=gallery href=https://bu.dusays.com/2022/11/27/638344de90243.png><img src=https://bu.dusays.com/2022/11/27/638344de90243.png alt></a></div>ä¸ºé¿å…æ„å¤–ï¼Œè¯·ä½¿ç”¨æ— ç¬¦å·æ“ä½œæ•°æˆ– std::bitset çš„æŒ‰ä½è¿ç®—ç¬¦</p><p>åœ¨è®¡ç®—æŒ‰ä½ XOR æ—¶ï¼Œå¦‚æœä¸€åˆ—ä¸­æœ‰å¥‡æ•°ä¸ª 1 ä½ï¼Œåˆ™è¯¥åˆ—çš„ç»“æœä¸º 1</p><h2 id=ä½æ©ç >ä½æ©ç <a hidden class=anchor aria-hidden=true href=#ä½æ©ç >#</a></h2><p>ä½æ©ç æ˜¯ä¸€ç»„é¢„å®šä¹‰çš„ä½ï¼Œç”¨äºé€‰æ‹©å“ªäº›ç‰¹å®šä½å°†è¢«åç»­æ“ä½œä¿®æ”¹ã€‚ä½æ©ç é˜»æ­¢æŒ‰ä½è¿ç®—ç¬¦æ¥è§¦æˆ‘ä»¬ä¸æƒ³ä¿®æ”¹çš„ä½ï¼Œå¹¶å…è®¸è®¿é—®æˆ‘ä»¬ç¡®å®æƒ³è¦ä¿®æ”¹çš„ä½</p><p>æœ€ç®€å•çš„ä¸€ç»„ä½æ©ç æ˜¯ä¸ºæ¯ä¸ªä½ä½ç½®å®šä¹‰ä¸€ä¸ªä½æ©ç ã€‚æˆ‘ä»¬ç”¨ 0 æ¥å±è”½æˆ‘ä»¬ä¸å…³å¿ƒçš„ä½ï¼Œç”¨ 1 æ¥è¡¨ç¤ºæˆ‘ä»¬æƒ³è¦ä¿®æ”¹çš„ä½</p><p>å°½ç®¡ä½æ©ç å¯ä»¥æ˜¯æ–‡å­—ï¼Œä½†å®ƒä»¬é€šå¸¸è¢«å®šä¹‰ä¸ºç¬¦å·å¸¸é‡ï¼Œå› æ­¤å¯ä»¥ä¸ºå®ƒä»¬æŒ‡å®šä¸€ä¸ªæœ‰æ„ä¹‰çš„åç§°å¹¶æ˜“äºé‡ç”¨</p><h3 id=åœ¨-c14-ä¸­å®šä¹‰ä½æ©ç >åœ¨ C++14 ä¸­å®šä¹‰ä½æ©ç <a hidden class=anchor aria-hidden=true href=#åœ¨-c14-ä¸­å®šä¹‰ä½æ©ç >#</a></h3><p>å› ä¸º C++14 æ”¯æŒäºŒè¿›åˆ¶æ–‡å­—ï¼Œæ‰€ä»¥å®šä¹‰è¿™äº›ä½æ©ç å¾ˆå®¹æ˜“ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;cstdint&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask0{ <span style=color:#ff0;font-weight:700>0b0000&#39;0001</span> }; <span style=color:#007f7f>// represents bit 0
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask1{ <span style=color:#ff0;font-weight:700>0b0000&#39;0010</span> }; <span style=color:#007f7f>// represents bit 1
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask2{ <span style=color:#ff0;font-weight:700>0b0000&#39;0100</span> }; <span style=color:#007f7f>// represents bit 2
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask3{ <span style=color:#ff0;font-weight:700>0b0000&#39;1000</span> }; <span style=color:#007f7f>// represents bit 3
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask4{ <span style=color:#ff0;font-weight:700>0b0001&#39;0000</span> }; <span style=color:#007f7f>// represents bit 4
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask5{ <span style=color:#ff0;font-weight:700>0b0010&#39;0000</span> }; <span style=color:#007f7f>// represents bit 5
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask6{ <span style=color:#ff0;font-weight:700>0b0100&#39;0000</span> }; <span style=color:#007f7f>// represents bit 6
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask7{ <span style=color:#ff0;font-weight:700>0b1000&#39;0000</span> }; <span style=color:#007f7f>// represents bit 7
</span></span></span></code></pre></div><h3 id=åœ¨-c11-æˆ–æ›´æ—©ç‰ˆæœ¬ä¸­å®šä¹‰ä½æ©ç >åœ¨ C++11 æˆ–æ›´æ—©ç‰ˆæœ¬ä¸­å®šä¹‰ä½æ©ç <a hidden class=anchor aria-hidden=true href=#åœ¨-c11-æˆ–æ›´æ—©ç‰ˆæœ¬ä¸­å®šä¹‰ä½æ©ç >#</a></h3><p>ç”±äº C++11 ä¸æ”¯æŒäºŒè¿›åˆ¶æ–‡å­—ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨å…¶ä»–æ–¹æ³•æ¥è®¾ç½®ç¬¦å·å¸¸é‡</p><p>ç¬¬ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨åå…­è¿›åˆ¶æ–‡å­—ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask0{ <span style=color:#ff0;font-weight:700>0x01</span> }; <span style=color:#007f7f>// hex for 0000 0001
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask1{ <span style=color:#ff0;font-weight:700>0x02</span> }; <span style=color:#007f7f>// hex for 0000 0010
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask2{ <span style=color:#ff0;font-weight:700>0x04</span> }; <span style=color:#007f7f>// hex for 0000 0100
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask3{ <span style=color:#ff0;font-weight:700>0x08</span> }; <span style=color:#007f7f>// hex for 0000 1000
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask4{ <span style=color:#ff0;font-weight:700>0x10</span> }; <span style=color:#007f7f>// hex for 0001 0000
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask5{ <span style=color:#ff0;font-weight:700>0x20</span> }; <span style=color:#007f7f>// hex for 0010 0000
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask6{ <span style=color:#ff0;font-weight:700>0x40</span> }; <span style=color:#007f7f>// hex for 0100 0000
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask7{ <span style=color:#ff0;font-weight:700>0x80</span> }; <span style=color:#007f7f>// hex for 1000 0000
</span></span></span></code></pre></div><p>å¦ä¸€ç§æ›´ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨å·¦ç§»è¿ç®—ç¬¦å°†ä¸€ä½ç§»åŠ¨åˆ°æ­£ç¡®çš„ä½ç½®ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask0{ <span style=color:#ff0;font-weight:700>1</span> &lt;&lt; <span style=color:#ff0;font-weight:700>0</span> }; <span style=color:#007f7f>// 0000 0001
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask1{ <span style=color:#ff0;font-weight:700>1</span> &lt;&lt; <span style=color:#ff0;font-weight:700>1</span> }; <span style=color:#007f7f>// 0000 0010
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask2{ <span style=color:#ff0;font-weight:700>1</span> &lt;&lt; <span style=color:#ff0;font-weight:700>2</span> }; <span style=color:#007f7f>// 0000 0100
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask3{ <span style=color:#ff0;font-weight:700>1</span> &lt;&lt; <span style=color:#ff0;font-weight:700>3</span> }; <span style=color:#007f7f>// 0000 1000
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask4{ <span style=color:#ff0;font-weight:700>1</span> &lt;&lt; <span style=color:#ff0;font-weight:700>4</span> }; <span style=color:#007f7f>// 0001 0000
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask5{ <span style=color:#ff0;font-weight:700>1</span> &lt;&lt; <span style=color:#ff0;font-weight:700>5</span> }; <span style=color:#007f7f>// 0010 0000
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask6{ <span style=color:#ff0;font-weight:700>1</span> &lt;&lt; <span style=color:#ff0;font-weight:700>6</span> }; <span style=color:#007f7f>// 0100 0000
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask7{ <span style=color:#ff0;font-weight:700>1</span> &lt;&lt; <span style=color:#ff0;font-weight:700>7</span> }; <span style=color:#007f7f>// 1000 0000
</span></span></span></code></pre></div><h3 id=testing-a-bit>Testing a bit<a hidden class=anchor aria-hidden=true href=#testing-a-bit>#</a></h3><p>è¦ç¡®å®šæŸä¸ªä½æ˜¯å¼€è¿˜æ˜¯å…³ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>&</code> ç»“åˆç›¸åº”ä½çš„ä½æ©ç ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;cstdint&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask0{ <span style=color:#ff0;font-weight:700>0b0000&#39;0001</span> }; <span style=color:#007f7f>// represents bit 0
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	<span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask1{ <span style=color:#ff0;font-weight:700>0b0000&#39;0010</span> }; <span style=color:#007f7f>// represents bit 1
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	<span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask2{ <span style=color:#ff0;font-weight:700>0b0000&#39;0100</span> }; <span style=color:#007f7f>// represents bit 2
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	<span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask3{ <span style=color:#ff0;font-weight:700>0b0000&#39;1000</span> }; <span style=color:#007f7f>// represents bit 3
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	<span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask4{ <span style=color:#ff0;font-weight:700>0b0001&#39;0000</span> }; <span style=color:#007f7f>// represents bit 4
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	<span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask5{ <span style=color:#ff0;font-weight:700>0b0010&#39;0000</span> }; <span style=color:#007f7f>// represents bit 5
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	<span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask6{ <span style=color:#ff0;font-weight:700>0b0100&#39;0000</span> }; <span style=color:#007f7f>// represents bit 6
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	<span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask7{ <span style=color:#ff0;font-weight:700>0b1000&#39;0000</span> }; <span style=color:#007f7f>// represents bit 7
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>	std::<span style=color:#fff;font-weight:700>uint8_t</span> flags{ <span style=color:#ff0;font-weight:700>0b0000&#39;0101</span> }; <span style=color:#007f7f>// 8 bits in size means room for 8 flags
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;bit 0 is &#34;</span> &lt;&lt; ((flags &amp; mask0) ? <span style=color:#0ff;font-weight:700>&#34;on</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span> : <span style=color:#0ff;font-weight:700>&#34;off</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>);
</span></span><span style=display:flex><span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;bit 1 is &#34;</span> &lt;&lt; ((flags &amp; mask1) ? <span style=color:#0ff;font-weight:700>&#34;on</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span> : <span style=color:#0ff;font-weight:700>&#34;off</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=setting-a-bit>Setting a bit<a hidden class=anchor aria-hidden=true href=#setting-a-bit>#</a></h3><p>è¦è®¾ç½®ï¼ˆæ‰“å¼€ï¼‰ä½ï¼Œæˆ‘ä»¬å°†æŒ‰ä½æˆ–ç­‰äºï¼ˆè¿ç®—ç¬¦ <code>|=</code>ï¼‰ä¸ç›¸åº”ä½çš„ä½æ©ç ç»“åˆä½¿ç”¨ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;cstdint&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask0{ <span style=color:#ff0;font-weight:700>0b0000&#39;0001</span> }; <span style=color:#007f7f>// represents bit 0
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask1{ <span style=color:#ff0;font-weight:700>0b0000&#39;0010</span> }; <span style=color:#007f7f>// represents bit 1
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask2{ <span style=color:#ff0;font-weight:700>0b0000&#39;0100</span> }; <span style=color:#007f7f>// represents bit 2
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask3{ <span style=color:#ff0;font-weight:700>0b0000&#39;1000</span> }; <span style=color:#007f7f>// represents bit 3
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask4{ <span style=color:#ff0;font-weight:700>0b0001&#39;0000</span> }; <span style=color:#007f7f>// represents bit 4
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask5{ <span style=color:#ff0;font-weight:700>0b0010&#39;0000</span> }; <span style=color:#007f7f>// represents bit 5
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask6{ <span style=color:#ff0;font-weight:700>0b0100&#39;0000</span> }; <span style=color:#007f7f>// represents bit 6
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask7{ <span style=color:#ff0;font-weight:700>0b1000&#39;0000</span> }; <span style=color:#007f7f>// represents bit 7
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    std::<span style=color:#fff;font-weight:700>uint8_t</span> flags{ <span style=color:#ff0;font-weight:700>0b0000&#39;0101</span> }; <span style=color:#007f7f>// 8 bits in size means room for 8 flags
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;bit 1 is &#34;</span> &lt;&lt; ((flags &amp; mask1) ? <span style=color:#0ff;font-weight:700>&#34;on</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span> : <span style=color:#0ff;font-weight:700>&#34;off</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    flags |= mask1; <span style=color:#007f7f>// turn on bit 1
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;bit 1 is &#34;</span> &lt;&lt; ((flags &amp; mask1) ? <span style=color:#0ff;font-weight:700>&#34;on</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span> : <span style=color:#0ff;font-weight:700>&#34;off</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨æŒ‰ä½æˆ–åŒæ—¶æ‰“å¼€å¤šä¸ªä½ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span>flags |= (mask4 | mask5); <span style=color:#007f7f>// turn bits 4 and 5 on at the same time
</span></span></span></code></pre></div><h3 id=resetting-a-bit>Resetting a bit<a hidden class=anchor aria-hidden=true href=#resetting-a-bit>#</a></h3><p>è¦æ¸…é™¤ä½ï¼ˆå…³é—­ï¼‰ï¼Œæˆ‘ä»¬åŒæ—¶ä½¿ç”¨ <code>&=</code> å’Œ <code>~</code> ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;cstdint&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask0{ <span style=color:#ff0;font-weight:700>0b0000&#39;0001</span> }; <span style=color:#007f7f>// represents bit 0
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask1{ <span style=color:#ff0;font-weight:700>0b0000&#39;0010</span> }; <span style=color:#007f7f>// represents bit 1
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask2{ <span style=color:#ff0;font-weight:700>0b0000&#39;0100</span> }; <span style=color:#007f7f>// represents bit 2
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask3{ <span style=color:#ff0;font-weight:700>0b0000&#39;1000</span> }; <span style=color:#007f7f>// represents bit 3
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask4{ <span style=color:#ff0;font-weight:700>0b0001&#39;0000</span> }; <span style=color:#007f7f>// represents bit 4
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask5{ <span style=color:#ff0;font-weight:700>0b0010&#39;0000</span> }; <span style=color:#007f7f>// represents bit 5
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask6{ <span style=color:#ff0;font-weight:700>0b0100&#39;0000</span> }; <span style=color:#007f7f>// represents bit 6
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask7{ <span style=color:#ff0;font-weight:700>0b1000&#39;0000</span> }; <span style=color:#007f7f>// represents bit 7
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    std::<span style=color:#fff;font-weight:700>uint8_t</span> flags{ <span style=color:#ff0;font-weight:700>0b0000&#39;0101</span> }; <span style=color:#007f7f>// 8 bits in size means room for 8 flags
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;bit 2 is &#34;</span> &lt;&lt; ((flags &amp; mask2) ? <span style=color:#0ff;font-weight:700>&#34;on</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span> : <span style=color:#0ff;font-weight:700>&#34;off</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    flags &amp;= ~mask2; <span style=color:#007f7f>// turn off bit 2
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;bit 2 is &#34;</span> &lt;&lt; ((flags &amp; mask2) ? <span style=color:#0ff;font-weight:700>&#34;on</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span> : <span style=color:#0ff;font-weight:700>&#34;off</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>æˆ‘ä»¬å¯ä»¥åŒæ—¶å…³é—­å¤šä¸ªä½ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span>flags &amp;= ~(mask4 | mask5); <span style=color:#007f7f>// turn bits 4 and 5 off at the same time
</span></span></span></code></pre></div><h3 id=flipping-a-bit>Flipping a bit<a hidden class=anchor aria-hidden=true href=#flipping-a-bit>#</a></h3><p>è¦åˆ‡æ¢ä½çŠ¶æ€ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>^=</code>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;cstdint&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask0{ <span style=color:#ff0;font-weight:700>0b0000&#39;0001</span> }; <span style=color:#007f7f>// represents bit 0
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask1{ <span style=color:#ff0;font-weight:700>0b0000&#39;0010</span> }; <span style=color:#007f7f>// represents bit 1
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask2{ <span style=color:#ff0;font-weight:700>0b0000&#39;0100</span> }; <span style=color:#007f7f>// represents bit 2
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask3{ <span style=color:#ff0;font-weight:700>0b0000&#39;1000</span> }; <span style=color:#007f7f>// represents bit 3
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask4{ <span style=color:#ff0;font-weight:700>0b0001&#39;0000</span> }; <span style=color:#007f7f>// represents bit 4
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask5{ <span style=color:#ff0;font-weight:700>0b0010&#39;0000</span> }; <span style=color:#007f7f>// represents bit 5
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask6{ <span style=color:#ff0;font-weight:700>0b0100&#39;0000</span> }; <span style=color:#007f7f>// represents bit 6
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    <span style=color:#fff;font-weight:700>constexpr</span> std::<span style=color:#fff;font-weight:700>uint8_t</span> mask7{ <span style=color:#ff0;font-weight:700>0b1000&#39;0000</span> }; <span style=color:#007f7f>// represents bit 7
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    std::<span style=color:#fff;font-weight:700>uint8_t</span> flags{ <span style=color:#ff0;font-weight:700>0b0000&#39;0101</span> }; <span style=color:#007f7f>// 8 bits in size means room for 8 flags
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;bit 2 is &#34;</span> &lt;&lt; ((flags &amp; mask2) ? <span style=color:#0ff;font-weight:700>&#34;on</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span> : <span style=color:#0ff;font-weight:700>&#34;off</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>);
</span></span><span style=display:flex><span>    flags ^= mask2; <span style=color:#007f7f>// flip bit 2
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;bit 2 is &#34;</span> &lt;&lt; ((flags &amp; mask2) ? <span style=color:#0ff;font-weight:700>&#34;on</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span> : <span style=color:#0ff;font-weight:700>&#34;off</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>);
</span></span><span style=display:flex><span>    flags ^= mask2; <span style=color:#007f7f>// flip bit 2
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;bit 2 is &#34;</span> &lt;&lt; ((flags &amp; mask2) ? <span style=color:#0ff;font-weight:700>&#34;on</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span> : <span style=color:#0ff;font-weight:700>&#34;off</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>æˆ‘ä»¬å¯ä»¥åŒæ—¶ç¿»è½¬å¤šä¸ªä½ï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span>flags ^= (mask4 | mask5); <span style=color:#007f7f>// flip bits 4 and 5 at the same time
</span></span></span></code></pre></div><h2 id=ä½æ©ç å’Œ-stdbitset>ä½æ©ç å’Œ std::bitset<a hidden class=anchor aria-hidden=true href=#ä½æ©ç å’Œ-stdbitset>#</a></h2><p>std::bitset æ”¯æŒå…¨å¥—ä½è¿ç®—ç¬¦ã€‚å› æ­¤ï¼Œå°½ç®¡ä½¿ç”¨å‡½æ•°ï¼ˆæµ‹è¯•ã€è®¾ç½®ã€é‡ç½®å’Œç¿»è½¬ï¼‰ä¿®æ”¹å•ä¸ªä½æ›´å®¹æ˜“ï¼Œä½†å¦‚æœéœ€è¦ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æŒ‰ä½è¿ç®—ç¬¦å’Œä½æ©ç </p><p>å‡½æ•°åªå…è®¸æ‚¨ä¸€æ¬¡ä¿®æ”¹å•ä¸ªä½ã€‚æŒ‰ä½è¿ç®—ç¬¦å…è®¸æ‚¨ä¸€æ¬¡ä¿®æ”¹å¤šä¸ªä½</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;cstdint&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;bitset&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>int</span> main()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>constexpr</span> std::bitset&lt;<span style=color:#ff0;font-weight:700>8</span>&gt; mask0{ <span style=color:#ff0;font-weight:700>0b0000&#39;0001</span> }; <span style=color:#007f7f>// represents bit 0
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	<span style=color:#fff;font-weight:700>constexpr</span> std::bitset&lt;<span style=color:#ff0;font-weight:700>8</span>&gt; mask1{ <span style=color:#ff0;font-weight:700>0b0000&#39;0010</span> }; <span style=color:#007f7f>// represents bit 1
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	<span style=color:#fff;font-weight:700>constexpr</span> std::bitset&lt;<span style=color:#ff0;font-weight:700>8</span>&gt; mask2{ <span style=color:#ff0;font-weight:700>0b0000&#39;0100</span> }; <span style=color:#007f7f>// represents bit 2
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	<span style=color:#fff;font-weight:700>constexpr</span> std::bitset&lt;<span style=color:#ff0;font-weight:700>8</span>&gt; mask3{ <span style=color:#ff0;font-weight:700>0b0000&#39;1000</span> }; <span style=color:#007f7f>// represents bit 3
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	<span style=color:#fff;font-weight:700>constexpr</span> std::bitset&lt;<span style=color:#ff0;font-weight:700>8</span>&gt; mask4{ <span style=color:#ff0;font-weight:700>0b0001&#39;0000</span> }; <span style=color:#007f7f>// represents bit 4
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	<span style=color:#fff;font-weight:700>constexpr</span> std::bitset&lt;<span style=color:#ff0;font-weight:700>8</span>&gt; mask5{ <span style=color:#ff0;font-weight:700>0b0010&#39;0000</span> }; <span style=color:#007f7f>// represents bit 5
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	<span style=color:#fff;font-weight:700>constexpr</span> std::bitset&lt;<span style=color:#ff0;font-weight:700>8</span>&gt; mask6{ <span style=color:#ff0;font-weight:700>0b0100&#39;0000</span> }; <span style=color:#007f7f>// represents bit 6
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	<span style=color:#fff;font-weight:700>constexpr</span> std::bitset&lt;<span style=color:#ff0;font-weight:700>8</span>&gt; mask7{ <span style=color:#ff0;font-weight:700>0b1000&#39;0000</span> }; <span style=color:#007f7f>// represents bit 7
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span>	std::bitset&lt;<span style=color:#ff0;font-weight:700>8</span>&gt; flags{ <span style=color:#ff0;font-weight:700>0b0000&#39;0101</span> }; <span style=color:#007f7f>// 8 bits in size means room for 8 flags
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;bit 1 is &#34;</span> &lt;&lt; (flags.test(<span style=color:#ff0;font-weight:700>1</span>) ? <span style=color:#0ff;font-weight:700>&#34;on</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span> : <span style=color:#0ff;font-weight:700>&#34;off</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>);
</span></span><span style=display:flex><span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;bit 2 is &#34;</span> &lt;&lt; (flags.test(<span style=color:#ff0;font-weight:700>2</span>) ? <span style=color:#0ff;font-weight:700>&#34;on</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span> : <span style=color:#0ff;font-weight:700>&#34;off</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	flags ^= (mask1 | mask2); <span style=color:#007f7f>// flip bits 1 and 2
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;bit 1 is &#34;</span> &lt;&lt; (flags.test(<span style=color:#ff0;font-weight:700>1</span>) ? <span style=color:#0ff;font-weight:700>&#34;on</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span> : <span style=color:#0ff;font-weight:700>&#34;off</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>);
</span></span><span style=display:flex><span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;bit 2 is &#34;</span> &lt;&lt; (flags.test(<span style=color:#ff0;font-weight:700>2</span>) ? <span style=color:#0ff;font-weight:700>&#34;on</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span> : <span style=color:#0ff;font-weight:700>&#34;off</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	flags |= (mask1 | mask2); <span style=color:#007f7f>// turn bits 1 and 2 on
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;bit 1 is &#34;</span> &lt;&lt; (flags.test(<span style=color:#ff0;font-weight:700>1</span>) ? <span style=color:#0ff;font-weight:700>&#34;on</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span> : <span style=color:#0ff;font-weight:700>&#34;off</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>);
</span></span><span style=display:flex><span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;bit 2 is &#34;</span> &lt;&lt; (flags.test(<span style=color:#ff0;font-weight:700>2</span>) ? <span style=color:#0ff;font-weight:700>&#34;on</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span> : <span style=color:#0ff;font-weight:700>&#34;off</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	flags &amp;= ~(mask1 | mask2); <span style=color:#007f7f>// turn bits 1 and 2 off
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;bit 1 is &#34;</span> &lt;&lt; (flags.test(<span style=color:#ff0;font-weight:700>1</span>) ? <span style=color:#0ff;font-weight:700>&#34;on</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span> : <span style=color:#0ff;font-weight:700>&#34;off</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>);
</span></span><span style=display:flex><span>	std::cout &lt;&lt; <span style=color:#0ff;font-weight:700>&#34;bit 2 is &#34;</span> &lt;&lt; (flags.test(<span style=color:#ff0;font-weight:700>2</span>) ? <span style=color:#0ff;font-weight:700>&#34;on</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span> : <span style=color:#0ff;font-weight:700>&#34;off</span><span style=color:#0ff;font-weight:700>\n</span><span style=color:#0ff;font-weight:700>&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=summary-1>Summary<a hidden class=anchor aria-hidden=true href=#summary-1>#</a></h2><ol><li>query bit states</li></ol><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#fff;font-weight:700>if</span> (flags &amp; option4) ... <span style=color:#007f7f>// if option4 is set, do something
</span></span></span></code></pre></div><ol start=2><li>set bits (turn on)</li></ol><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span>flags |= option4; <span style=color:#007f7f>// turn option 4 on.
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>flags |= (option4 | option5); <span style=color:#007f7f>// turn options 4 and 5 on.
</span></span></span></code></pre></div><ol start=3><li>clear bits (turn off)</li></ol><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span>flags &amp;= ~option4; <span style=color:#007f7f>// turn option 4 off
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>flags &amp;= ~(option4 | option5); <span style=color:#007f7f>// turn options 4 and 5 off
</span></span></span></code></pre></div><ol start=4><li>flip bit states</li></ol><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span>flags ^= option4; <span style=color:#007f7f>// flip option4 from on to off, or vice versa
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>flags ^= (option4 | option5); <span style=color:#007f7f>// flip options 4 and 5
</span></span></span></code></pre></div><h1 id=è¿ç®—ç¬¦é‡è½½>è¿ç®—ç¬¦é‡è½½<a hidden class=anchor aria-hidden=true href=#è¿ç®—ç¬¦é‡è½½>#</a></h1><h2 id=ä½•æ—¶ä½¿ç”¨æ™®é€šå‡½æ•°å‹å…ƒå‡½æ•°æˆ–æˆå‘˜å‡½æ•°é‡è½½è¿ç®—ç¬¦>ä½•æ—¶ä½¿ç”¨æ™®é€šå‡½æ•°ã€å‹å…ƒå‡½æ•°æˆ–æˆå‘˜å‡½æ•°é‡è½½è¿ç®—ç¬¦<a hidden class=anchor aria-hidden=true href=#ä½•æ—¶ä½¿ç”¨æ™®é€šå‡½æ•°å‹å…ƒå‡½æ•°æˆ–æˆå‘˜å‡½æ•°é‡è½½è¿ç®—ç¬¦>#</a></h2><ol><li>åœ¨å¤„ç†ä¸ä¿®æ”¹å·¦æ“ä½œæ•°çš„äºŒå…ƒè¿ç®—ç¬¦ï¼ˆä¾‹å¦‚ operator+ï¼‰æ—¶ï¼Œé€šå¸¸é¦–é€‰æ™®é€šæˆ–å‹å…ƒå‡½æ•°ç‰ˆæœ¬ï¼Œå› ä¸ºå®ƒé€‚ç”¨äºæ‰€æœ‰å‚æ•°ç±»å‹ï¼ˆå³ä½¿å·¦æ“ä½œæ•°ä¸æ˜¯ç±»å¯¹è±¡ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªä¸å¯ä¿®æ”¹çš„ç±»ï¼‰ã€‚æ™®é€šæˆ–å‹å…ƒå‡½æ•°ç‰ˆæœ¬å…·æœ‰â€œå¯¹ç§°â€çš„é¢å¤–å¥½å¤„ï¼Œå› ä¸ºæ‰€æœ‰æ“ä½œæ•°éƒ½æˆä¸ºæ˜¾å¼å‚æ•°ï¼ˆè€Œä¸æ˜¯å·¦æ“ä½œæ•°æˆä¸º <code>*this</code> è€Œå³æ“ä½œæ•°æˆä¸ºæ˜¾å¼å‚æ•°ï¼‰</li><li>åœ¨å¤„ç†ç¡®å®ä¿®æ”¹å·¦æ“ä½œæ•°çš„äºŒå…ƒè¿ç®—ç¬¦æ—¶ï¼ˆä¾‹å¦‚ operator+=ï¼‰ï¼Œé€šå¸¸é¦–é€‰æˆå‘˜å‡½æ•°ç‰ˆæœ¬ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œæœ€å·¦è¾¹çš„æ“ä½œæ•°å°†å§‹ç»ˆæ˜¯ç±»ç±»å‹ï¼Œå¹¶ä¸”è®©è¢«ä¿®æ”¹çš„å¯¹è±¡æˆä¸º <code>*this</code> æŒ‡å‘çš„å¯¹è±¡æ˜¯å¾ˆè‡ªç„¶çš„ã€‚å› ä¸ºæœ€å³è¾¹çš„æ“ä½œæ•°æˆä¸ºä¸€ä¸ªæ˜¾å¼å‚æ•°ï¼Œæ‰€ä»¥ä¸ä¼šæ··æ·†è°æ­£åœ¨ä¿®æ”¹å’Œè°æ­£åœ¨è¯„ä¼°</li><li>ä¸€å…ƒè¿ç®—ç¬¦é€šå¸¸ä¹Ÿä½œä¸ºæˆå‘˜å‡½æ•°é‡è½½ï¼Œå› ä¸ºæˆå‘˜å‡½æ•°ç‰ˆæœ¬æ²¡æœ‰å‚æ•°</li><li>ä»¥ä¸‹ç»éªŒæ³•åˆ™å¯ä»¥å¸®åŠ©æ‚¨ç¡®å®šå“ªç§å½¢å¼æœ€é€‚åˆç»™å®šæƒ…å†µï¼š<ol><li>å¦‚æœè¦é‡è½½èµ‹å€¼ (=)ã€ä¸‹æ ‡ ([])ã€å‡½æ•°è°ƒç”¨ (()) æˆ–æˆå‘˜é€‰æ‹© (->)ï¼Œè¯·å°†å…¶ä½œä¸ºæˆå‘˜å‡½æ•°è¿›è¡Œé‡è½½</li><li>å¦‚æœè¦é‡è½½ä¸€å…ƒè¿ç®—ç¬¦ï¼Œè¯·å°†å…¶ä½œä¸ºæˆå‘˜å‡½æ•°</li><li>å¦‚æœè¦é‡è½½ä¸ä¿®æ”¹å…¶å·¦æ“ä½œæ•°çš„äºŒå…ƒè¿ç®—ç¬¦ï¼ˆä¾‹å¦‚ operator+ï¼‰ï¼Œè¯·å°†å…¶ä½œä¸ºæ™®é€šå‡½æ•°ï¼ˆé¦–é€‰ï¼‰æˆ–å‹å…ƒå‡½æ•°</li><li>å¦‚æœæ‚¨æ­£åœ¨é‡è½½ä¿®æ”¹å…¶å·¦æ“ä½œæ•°çš„äºŒå…ƒè¿ç®—ç¬¦ï¼Œä½†æ‚¨ä¸èƒ½å°†æˆå‘˜æ·»åŠ åˆ°å·¦æ“ä½œæ•°çš„ç±»å®šä¹‰ä¸­ï¼ˆä¾‹å¦‚ï¼Œoperator&#171;ï¼Œå®ƒæœ‰ä¸€ä¸ª ostream ç±»å‹çš„å·¦æ“ä½œæ•°ï¼‰ï¼Œè¯·åƒå¾€å¸¸ä¸€æ ·è¿™æ ·åšå‡½æ•°ï¼ˆé¦–é€‰ï¼‰æˆ–å‹å…ƒå‡½æ•°</li><li>å¦‚æœæ‚¨æ­£åœ¨é‡è½½ä¿®æ”¹å…¶å·¦æ“ä½œæ•°çš„äºŒå…ƒè¿ç®—ç¬¦ï¼ˆä¾‹å¦‚ operator+=ï¼‰ï¼Œå¹¶ä¸”æ‚¨å¯ä»¥ä¿®æ”¹å·¦æ“ä½œæ•°çš„å®šä¹‰ï¼Œè¯·å°†å…¶ä½œä¸ºæˆå‘˜å‡½æ•°è¿›è¡Œ</li></ol></li></ol><h2 id=æœ€å°åŒ–æ¯”è¾ƒå†—ä½™>æœ€å°åŒ–æ¯”è¾ƒå†—ä½™<a hidden class=anchor aria-hidden=true href=#æœ€å°åŒ–æ¯”è¾ƒå†—ä½™>#</a></h2><p>ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬åªéœ€è¦å®ç°<code>operator==</code>å’Œ<code>operator&lt;</code>çš„é€»è¾‘ï¼Œå…¶ä»–å››ä¸ªæ¯”è¾ƒè¿ç®—ç¬¦å°±å¯ä»¥æ ¹æ®è¿™ä¸¤ä¸ªæ¥å®šä¹‰äº†ï¼è¿™æ˜¯ä¸€ä¸ªæ›´æ–°çš„ <code>Cents</code> ç¤ºä¾‹ï¼Œè¯´æ˜äº†è¿™ä¸€ç‚¹ï¼š</p><pre tabindex=0><code>#include &lt;iostream&gt;

class Cents
{
private:
    int m_cents;

public:
    Cents(int cents)
        : m_cents{ cents }
    {}

    friend bool operator== (const Cents&amp; c1, const Cents&amp; c2) { return c1.m_cents == c2.m_cents; };
    friend bool operator!= (const Cents&amp; c1, const Cents&amp; c2) { return !(operator==(c1, c2)); };

    friend bool operator&lt; (const Cents&amp; c1, const Cents&amp; c2) { return c1.m_cents &lt; c2.m_cents; };
    friend bool operator&gt; (const Cents&amp; c1, const Cents&amp; c2) { return operator&lt;(c2, c1); };

    friend bool operator&lt;= (const Cents&amp; c1, const Cents&amp; c2) { return !(operator&gt;(c1, c2)); };
    friend bool operator&gt;= (const Cents&amp; c1, const Cents&amp; c2) { return !(operator&lt;(c1, c2)); };

};

int main()
{
    Cents dime{ 10 };
    Cents nickel{ 5 };

    if (nickel &gt; dime)
        std::cout &lt;&lt; &#34;a nickel is greater than a dime.\n&#34;;
    if (nickel &gt;= dime)
        std::cout &lt;&lt; &#34;a nickel is greater than or equal to a dime.\n&#34;;
    if (nickel &lt; dime)
        std::cout &lt;&lt; &#34;a dime is greater than a nickel.\n&#34;;
    if (nickel &lt;= dime)
        std::cout &lt;&lt; &#34;a dime is greater than or equal to a nickel.\n&#34;;
    if (nickel == dime)
        std::cout &lt;&lt; &#34;a dime is equal to a nickel.\n&#34;;
    if (nickel != dime)
        std::cout &lt;&lt; &#34;a dime is not equal to a nickel.\n&#34;;

    return 0;
}
</code></pre><p>è¿™æ ·ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æ›´æ”¹æŸäº›å†…å®¹ï¼Œæˆ‘ä»¬åªéœ€è¦æ›´æ–° operator== å’Œ operator&lt; è€Œä¸æ˜¯æ‰€æœ‰å…­ä¸ªæ¯”è¾ƒè¿ç®—ç¬¦ï¼</p><h2 id=æµ…æ‹·è´ä¸æ·±æ‹·è´>æµ…æ‹·è´ä¸æ·±æ‹·è´<a hidden class=anchor aria-hidden=true href=#æµ…æ‹·è´ä¸æ·±æ‹·è´>#</a></h2><p>ç¼–è¯‘å™¨æä¾›çš„é»˜è®¤å¤åˆ¶æ„é€ å‡½æ•°å’Œé»˜è®¤èµ‹å€¼è¿ç®—ç¬¦å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;cassert&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700>#include</span> <span style=color:#0f0;font-weight:700>&lt;iostream&gt;</span><span style=color:#0f0;font-weight:700>
</span></span></span><span style=display:flex><span><span style=color:#0f0;font-weight:700></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>class</span> Fraction
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>private</span>:
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>int</span> m_numerator { <span style=color:#ff0;font-weight:700>0</span> };
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>int</span> m_denominator { <span style=color:#ff0;font-weight:700>1</span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>public</span>:
</span></span><span style=display:flex><span>    <span style=color:#007f7f>// Default constructor
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    Fraction(<span style=color:#fff;font-weight:700>int</span> numerator = <span style=color:#ff0;font-weight:700>0</span>, <span style=color:#fff;font-weight:700>int</span> denominator = <span style=color:#ff0;font-weight:700>1</span>)
</span></span><span style=display:flex><span>        : m_numerator{ numerator }
</span></span><span style=display:flex><span>        , m_denominator{ denominator }
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        assert(denominator != <span style=color:#ff0;font-weight:700>0</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#007f7f>// Possible implementation of implicit copy constructor
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    Fraction(<span style=color:#fff;font-weight:700>const</span> Fraction&amp; f)
</span></span><span style=display:flex><span>        : m_numerator{ f.m_numerator }
</span></span><span style=display:flex><span>        , m_denominator{ f.m_denominator }
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#007f7f>// Possible implementation of implicit assignment operator
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>    Fraction&amp; <span style=color:#fff;font-weight:700>operator</span>= (<span style=color:#fff;font-weight:700>const</span> Fraction&amp; fraction)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#007f7f>// self-assignment guard
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>        <span style=color:#fff;font-weight:700>if</span> (<span style=color:#fff;font-weight:700>this</span> == &amp;fraction)
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>return</span> *<span style=color:#fff;font-weight:700>this</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#007f7f>// do the copy
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>        m_numerator = fraction.m_numerator;
</span></span><span style=display:flex><span>        m_denominator = fraction.m_denominator;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#007f7f>// return the existing object so we can chain this operator
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>        <span style=color:#fff;font-weight:700>return</span> *<span style=color:#fff;font-weight:700>this</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>friend</span> std::ostream&amp; <span style=color:#fff;font-weight:700>operator</span>&lt;&lt;(std::ostream&amp; out, <span style=color:#fff;font-weight:700>const</span> Fraction&amp; f1)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>	out &lt;&lt; f1.m_numerator &lt;&lt; <span style=color:#0ff;font-weight:700>&#39;/&#39;</span> &lt;&lt; f1.m_denominator;
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> out;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>è¯·æ³¨æ„ï¼Œå› ä¸ºè¿™äº›é»˜è®¤ç‰ˆæœ¬å¯ä»¥å¾ˆå¥½åœ°å¤åˆ¶æ­¤ç±»ï¼Œæ‰€ä»¥åœ¨è¿™ç§æƒ…å†µä¸‹çœŸçš„æ²¡æœ‰ç†ç”±ç¼–å†™æˆ‘ä»¬è‡ªå·±çš„è¿™äº›å‡½æ•°ç‰ˆæœ¬</p><p>ç„¶è€Œï¼Œåœ¨è®¾è®¡å¤„ç†åŠ¨æ€åˆ†é…å†…å­˜çš„ç±»æ—¶ï¼Œæˆå‘˜ï¼ˆæµ…ï¼‰å¤åˆ¶ä¼šç»™æˆ‘ä»¬å¸¦æ¥å¾ˆå¤šéº»çƒ¦ï¼è¿™æ˜¯å› ä¸ºæŒ‡é’ˆçš„æµ…æ‹·è´åªæ˜¯å¤åˆ¶æŒ‡é’ˆçš„åœ°å€â€”â€”å®ƒä¸åˆ†é…ä»»ä½•å†…å­˜æˆ–å¤åˆ¶æŒ‡å‘çš„å†…å®¹ï¼</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>è¾“å‡ºä¸æ˜¯ç›´æ¥å†™å…¥çš„ï¼Œå®ƒå­˜å‚¨åœ¨ç¼“å†²åŒºä¸­ï¼Œç›´åˆ°ç¼“å†²åŒºè¢«åˆ·æ–°ã€‚è¾“å‡ºåˆ°æ–‡ä»¶æˆ–ç»ˆç«¯å†æ¥å¾ˆæ…¢ï¼ˆç»ˆç«¯æˆ–æ§åˆ¶å°ä»ç„¶å¾ˆæ…¢ï¼‰ï¼Œé€ä¸ªå­—ç¬¦åœ°å†™å…¥æ˜¯ä½æ•ˆç‡çš„ï¼Œå†™å…¥ä¸€å¤§å—å­—èŠ‚è¦æœ‰æ•ˆå¾—å¤šã€‚è‹¥ cerr è¢«ç¼“å†²ï¼Œé‚£ä¹ˆå¦‚æœç¨‹åºä»¥éæ­£å¸¸æ–¹å¼å´©æºƒï¼Œæ‚¨å¯èƒ½ä¼šå°†æœ‰ç”¨çš„è°ƒè¯•ä¿¡æ¯å¡åœ¨ç¼“å†²åŒºä¸­ï¼Œè€Œä¸æ˜¯æ‰“å°åˆ° stderrã€‚stdout æ˜¯è¡Œç¼“å†²çš„ï¼Œå³åœ¨æ‚¨ç¼–å†™æ¢è¡Œç¬¦æˆ–æ˜¾å¼åˆ·æ–°ç¼“å†²åŒºä¹‹å‰ï¼Œè¾“å‡ºä¸ä¼šå‘é€åˆ°æ“ä½œç³»ç»Ÿã€‚é€šå¸¸ï¼Œstd::endl å‡½æ•°é€šè¿‡æ’å…¥æ¢è¡Œç¬¦å¹¶åˆ·æ–°æµæ¥å·¥ä½œã€‚è¯»å– stdcin ä¼šåˆ·æ–° stdcout&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://xancoding.cn/tags/tech/>Tech</a></li><li><a href=https://xancoding.cn/tags/c++/>C++</a></li><li><a href=https://xancoding.cn/tags/%E6%96%B0%E6%8A%80%E8%83%BD/>æ–°æŠ€èƒ½</a></li></ul><nav class=paginav><a class=prev href=https://xancoding.cn/posts/assembly-language/><span class=title>Â« Prev</span><br><span>æ±‡ç¼–è¯­è¨€</span></a>
<a class=next href=https://xancoding.cn/posts/linux-network-programming/><span class=title>Next Â»</span><br><span>Linux ç½‘ç»œç¼–ç¨‹</span></a></nav></footer><div><div class=pagination__title><span class=pagination__title-h style=font-size:20px>ğŸ’¬è¯„è®º</span><hr></div><div id=tcomment></div><script src=https://cdn.staticfile.org/twikoo/1.6.7/twikoo.all.min.js></script>
<script>twikoo.init({envId:"https://twikoo.xancoding.cn/",el:"#tcomment",lang:"zh-CN",region:"ap-beijing",path:window.TWIKOO_MAGIC_PATH||window.location.pathname})</script></div></article></main><footer class=footer><span>&copy; 2023 <a href=https://xancoding.cn>Xan's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>