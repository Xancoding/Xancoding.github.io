<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Posts on Xan&#39;s Blog</title>
    <link>https://xancoding.cn/posts/</link>
    <description>Recent content in Posts on Xan&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Tue, 01 Aug 2023 18:42:11 +0800</lastBuildDate><atom:link href="https://xancoding.cn/posts/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Usful Website</title>
      <link>https://xancoding.cn/posts/2023-08-01-18-42-11/</link>
      <pubDate>Tue, 01 Aug 2023 18:42:11 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-08-01-18-42-11/</guid>
      <description>&lt;h1 id=&#34;program&#34;&gt;Program&lt;/h1&gt;
&lt;h2 id=&#34;httpsdevdocsio&#34;&gt;&lt;a href=&#34;https://devdocs.io/&#34;&gt;https://devdocs.io/&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;各种文档&lt;/p&gt;
&lt;h2 id=&#34;new-bing--chatgpt--claude2&#34;&gt;New bing &amp;amp; ChatGPT &amp;amp; Claude2&lt;/h2&gt;
&lt;p&gt;大预言模型&lt;/p&gt;
&lt;h1 id=&#34;slidevhttpscnslidev&#34;&gt;&lt;a href=&#34;https://cn.sli.dev/&#34;&gt;Slidev&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;为&lt;strong&gt;开发者&lt;/strong&gt;打造的&lt;strong&gt;演示文稿&lt;/strong&gt;工具 &lt;/p&gt;
</description>
      <content:encoded><![CDATA[<h1 id="program">Program</h1>
<h2 id="httpsdevdocsio"><a href="https://devdocs.io/">https://devdocs.io/</a></h2>
<p>各种文档</p>
<h2 id="new-bing--chatgpt--claude2">New bing &amp; ChatGPT &amp; Claude2</h2>
<p>大预言模型</p>
<h1 id="slidevhttpscnslidev"><a href="https://cn.sli.dev/">Slidev</a></h1>
<p>为<strong>开发者</strong>打造的<strong>演示文稿</strong>工具 </p>
]]></content:encoded>
    </item>
    
    <item>
      <title>AcademicGPT</title>
      <link>https://xancoding.cn/posts/2023-08-01-15-23-39/</link>
      <pubDate>Tue, 01 Aug 2023 15:23:40 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-08-01-15-23-39/</guid>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.meiguodizhi.com/&#34;&gt;美国地址生成器&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.krseo.com/zixun/1262.html&#34;&gt;# 开通 OpenAI-ChatGPT Plus 会员绑卡付费教程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://mp.weixin.qq.com/s/ZzkhyxiH2lfOCNr_oEqY_Q&#34;&gt;# 学术科研专用ChatGPT来了！&lt;/a&gt;i&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/binary-husky/gpt_academic&#34;&gt;GPT 学术优化 (GPT Academic)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1 id=&#34;如何运行academicgpt&#34;&gt;如何运行AcademicGPT？&lt;/h1&gt;
&lt;p&gt;先下载 Dupay，申请一张虚拟银行卡。又因为虚拟银行卡需要使用数字货币充值，所以还要下载 欧易。&lt;/p&gt;
&lt;p&gt;下载完毕上述两个 app后，我们就可以用支付宝或微信购买数字货币，再用数字货币充值虚拟银行卡。充值完毕后，虚拟银行卡被激活，即可绑定 ChatGPT 账号，就可以使用 API 啦😆&lt;/p&gt;
&lt;p&gt;上述步骤完成后，我们再按照 &lt;a href=&#34;https://github.com/binary-husky/gpt_academic#installation&#34;&gt;# Installation&lt;/a&gt; 的操作，下载项目，配置 &lt;code&gt;API_KEY&lt;/code&gt;，安装依赖，即可运行 &lt;code&gt;GPT_Academic&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&#34;如何配置开机自启动&#34;&gt;如何配置开机自启动？&lt;/h1&gt;
&lt;p&gt;创建一个批处理脚本 (start_python.bat)，并在其中添加以下内容：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;@echo off
cd /d &amp;#34;path_to_script_directory&amp;#34;
start /min cmd /c &amp;#34;python main.py&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;其中 &lt;code&gt;path_to_script_directory&lt;/code&gt; 处填写你要运行的 Python 程序所在位置&lt;/p&gt;
&lt;p&gt;然后，将该批处理脚本移动到开机启动文件夹，按下 &lt;code&gt;Win + R&lt;/code&gt; 组合键打开运行窗口，输入 &lt;code&gt;shell:startup&lt;/code&gt;，即可打开开机启动文件夹。将批处理脚本拖放到打开的文件夹中即可。&lt;/p&gt;
&lt;p&gt;完成上述操作后，即可实现开机自启动&lt;/p&gt;
&lt;p&gt;除此之外，还可以把 &lt;code&gt;config.py&lt;/code&gt; 中的 &lt;code&gt;WEB_PORT&lt;/code&gt; 配置成 &lt;code&gt;1024~65535&lt;/code&gt; 中的任意一个数字，方便将浏览器中将其收藏为书签，方便访问。&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<ul>
<li><a href="https://www.meiguodizhi.com/">美国地址生成器</a></li>
<li><a href="https://www.krseo.com/zixun/1262.html"># 开通 OpenAI-ChatGPT Plus 会员绑卡付费教程</a></li>
<li><a href="https://mp.weixin.qq.com/s/ZzkhyxiH2lfOCNr_oEqY_Q"># 学术科研专用ChatGPT来了！</a>i</li>
<li><a href="https://github.com/binary-husky/gpt_academic">GPT 学术优化 (GPT Academic)</a></li>
</ul>
<hr>
<h1 id="如何运行academicgpt">如何运行AcademicGPT？</h1>
<p>先下载 Dupay，申请一张虚拟银行卡。又因为虚拟银行卡需要使用数字货币充值，所以还要下载 欧易。</p>
<p>下载完毕上述两个 app后，我们就可以用支付宝或微信购买数字货币，再用数字货币充值虚拟银行卡。充值完毕后，虚拟银行卡被激活，即可绑定 ChatGPT 账号，就可以使用 API 啦😆</p>
<p>上述步骤完成后，我们再按照 <a href="https://github.com/binary-husky/gpt_academic#installation"># Installation</a> 的操作，下载项目，配置 <code>API_KEY</code>，安装依赖，即可运行 <code>GPT_Academic</code></p>
<h1 id="如何配置开机自启动">如何配置开机自启动？</h1>
<p>创建一个批处理脚本 (start_python.bat)，并在其中添加以下内容：</p>
<pre tabindex="0"><code>@echo off
cd /d &#34;path_to_script_directory&#34;
start /min cmd /c &#34;python main.py&#34;
</code></pre><p>其中 <code>path_to_script_directory</code> 处填写你要运行的 Python 程序所在位置</p>
<p>然后，将该批处理脚本移动到开机启动文件夹，按下 <code>Win + R</code> 组合键打开运行窗口，输入 <code>shell:startup</code>，即可打开开机启动文件夹。将批处理脚本拖放到打开的文件夹中即可。</p>
<p>完成上述操作后，即可实现开机自启动</p>
<p>除此之外，还可以把 <code>config.py</code> 中的 <code>WEB_PORT</code> 配置成 <code>1024~65535</code> 中的任意一个数字，方便将浏览器中将其收藏为书签，方便访问。</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>7 月总结</title>
      <link>https://xancoding.cn/posts/2023-07-31-09-47-50/</link>
      <pubDate>Mon, 31 Jul 2023 09:47:51 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-07-31-09-47-50/</guid>
      <description>&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;学习：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ICS-PA PA1 表达式求值&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;前 10 天，大部分时间花在 Linux Tools 的学习上，最后两天是花在写 ICS-PA 上&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;开始使用 NeoVim &amp;amp; LazyVim，但无奈快捷键太多，用不惯&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;最后还得是 VSCode + VSCodeVim 比较适合&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;收获：习惯了使用 Vim 模式写代码&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;学习 正则表达式&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A Gentle Introduction to Graph Neural Networks&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Finished 0728 英语语法学习&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Research&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Finished 0724 《神经网络与深度学习》先大致过一遍，看不懂的地方没必要死磕&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;绪论和机器学习概述，没有实际内容，可以简单过一遍&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;线性模型+前馈神经网络+卷积神经网络&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Finished 5天 PyTorch深度学习快速入门教程&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;看论文入门 GNN&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Adaptive Graph Encoder for Attributed Graph Embedding 这篇Github上有具体的代码，去用起来&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Attributed Graph Clustering via Adaptive Graph Convolution 这篇准确来说不能叫图卷积神经网络，应该是叫图卷积，AGE那篇可以说是GCN，你可以看一下他们两个的区别。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Finished 0722 统计分析&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;numpy是科学计算库&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;pandas是处理表格数据的&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;matplotlib是画图的 只是下面这些图用来做什么还是不太了解&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Regression Plots 回归图&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Box Plots 箱线图&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Distribution Plots 分布图&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Pairplots 对角线图&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Correlation Plots 相关性图&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Lineplots 线图&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;玩 预计游玩五天半，实际游玩三天半&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;0714&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;午饭 肯德基 下午 颐和园&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;晚饭 铜锅涮肉 晚上 奥林匹克公园&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;0715&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;早饭 尹三豆汁 上午 天安门 毛主席纪念馆&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;下午 国家博物馆 晚饭 全聚德北京烤鸭&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;0716&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;原定故宫，但是走太累了，休息一天&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;0717&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;原定圆明园，0716那天崴脚，休息一天&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;0718&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;白天 环球影城&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;午饭 云吞面&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;晚饭 狼大爷烧烤&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;0719&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;原定早上天坛，结果想多休息睡会觉，就直接早上睡到九点，吃完饭，在旅馆再休息休息，中午直接回学校了，他俩也是坐飞机回浙江&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;试水 Valorant (无畏契约) 0729 0730&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
      <content:encoded><![CDATA[<ol>
<li>
<p>学习：</p>
<ol>
<li>
<p>ICS-PA PA1 表达式求值</p>
</li>
<li>
<p>前 10 天，大部分时间花在 Linux Tools 的学习上，最后两天是花在写 ICS-PA 上</p>
<ol>
<li>
<p>开始使用 NeoVim &amp; LazyVim，但无奈快捷键太多，用不惯</p>
</li>
<li>
<p>最后还得是 VSCode + VSCodeVim 比较适合</p>
</li>
<li>
<p>收获：习惯了使用 Vim 模式写代码</p>
</li>
<li>
<p>学习 正则表达式</p>
</li>
</ol>
</li>
<li>
<p>A Gentle Introduction to Graph Neural Networks</p>
</li>
<li>
<p>Finished 0728 英语语法学习</p>
</li>
<li>
<p>Research</p>
<ol>
<li>
<p>Finished 0724 《神经网络与深度学习》先大致过一遍，看不懂的地方没必要死磕</p>
<ol>
<li>
<p>绪论和机器学习概述，没有实际内容，可以简单过一遍</p>
</li>
<li>
<p>线性模型+前馈神经网络+卷积神经网络</p>
</li>
</ol>
</li>
<li>
<p>Finished 5天 PyTorch深度学习快速入门教程</p>
</li>
<li>
<p>看论文入门 GNN</p>
<ol>
<li>
<p>Adaptive Graph Encoder for Attributed Graph Embedding 这篇Github上有具体的代码，去用起来</p>
</li>
<li>
<p>Attributed Graph Clustering via Adaptive Graph Convolution 这篇准确来说不能叫图卷积神经网络，应该是叫图卷积，AGE那篇可以说是GCN，你可以看一下他们两个的区别。</p>
</li>
</ol>
</li>
<li>
<p>Finished 0722 统计分析</p>
<ol>
<li>
<p>numpy是科学计算库</p>
</li>
<li>
<p>pandas是处理表格数据的</p>
</li>
<li>
<p>matplotlib是画图的 只是下面这些图用来做什么还是不太了解</p>
<ol>
<li>
<p>Regression Plots 回归图</p>
</li>
<li>
<p>Box Plots 箱线图</p>
</li>
<li>
<p>Distribution Plots 分布图</p>
</li>
<li>
<p>Pairplots 对角线图</p>
</li>
<li>
<p>Correlation Plots 相关性图</p>
</li>
<li>
<p>Lineplots 线图</p>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>
<p>玩 预计游玩五天半，实际游玩三天半</p>
<ol>
<li>
<p>0714</p>
<ol>
<li>
<p>午饭 肯德基 下午 颐和园</p>
</li>
<li>
<p>晚饭 铜锅涮肉 晚上 奥林匹克公园</p>
</li>
</ol>
</li>
<li>
<p>0715</p>
<ol>
<li>
<p>早饭 尹三豆汁 上午 天安门 毛主席纪念馆</p>
</li>
<li>
<p>下午 国家博物馆 晚饭 全聚德北京烤鸭</p>
</li>
</ol>
</li>
<li>
<p>0716</p>
<ol>
<li>原定故宫，但是走太累了，休息一天</li>
</ol>
</li>
<li>
<p>0717</p>
<ol>
<li>原定圆明园，0716那天崴脚，休息一天</li>
</ol>
</li>
<li>
<p>0718</p>
<ol>
<li>
<p>白天 环球影城</p>
</li>
<li>
<p>午饭 云吞面</p>
</li>
<li>
<p>晚饭 狼大爷烧烤</p>
</li>
</ol>
</li>
<li>
<p>0719</p>
<ol>
<li>原定早上天坛，结果想多休息睡会觉，就直接早上睡到九点，吃完饭，在旅馆再休息休息，中午直接回学校了，他俩也是坐飞机回浙江</li>
</ol>
</li>
</ol>
</li>
<li>
<p>试水 Valorant (无畏契约) 0729 0730</p>
</li>
</ol>
]]></content:encoded>
    </item>
    
    <item>
      <title>Android apps</title>
      <link>https://xancoding.cn/posts/2023-07-29-13-46-38/</link>
      <pubDate>Sat, 29 Jul 2023 13:46:38 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-07-29-13-46-38/</guid>
      <description>&lt;h1 id=&#34;reading&#34;&gt;Reading&lt;/h1&gt;
&lt;h2 id=&#34;z-lib&#34;&gt;Z-Lib&lt;/h2&gt;
&lt;p&gt;免费下载书籍📕&lt;/p&gt;
&lt;h2 id=&#34;微信读书&#34;&gt;微信读书&lt;/h2&gt;
&lt;p&gt;阅读书籍&lt;/p&gt;
&lt;h2 id=&#34;人民日报--学习强国&#34;&gt;人民日报 &amp;amp; 学习强国&lt;/h2&gt;
&lt;p&gt;了解时事，积累写作素材&lt;/p&gt;
&lt;h2 id=&#34;即刻--bilibili--小红书--知乎--百度贴吧&#34;&gt;即刻 &amp;amp; Bilibili &amp;amp; 小红书 &amp;amp; 知乎 &amp;amp; 百度贴吧&lt;/h2&gt;
&lt;p&gt;了解感兴趣的东西&lt;/p&gt;
&lt;h1 id=&#34;listening&#34;&gt;Listening&lt;/h1&gt;
&lt;h2 id=&#34;小宇宙&#34;&gt;小宇宙&lt;/h2&gt;
&lt;p&gt;播客&lt;/p&gt;
&lt;h2 id=&#34;网易云音乐&#34;&gt;网易云音乐&lt;/h2&gt;
&lt;p&gt;听音乐&lt;/p&gt;
&lt;h2 id=&#34;可可英语&#34;&gt;可可英语&lt;/h2&gt;
&lt;p&gt;英语学习&lt;/p&gt;
&lt;h1 id=&#34;sports&#34;&gt;Sports&lt;/h1&gt;
&lt;h2 id=&#34;coros&#34;&gt;COROS&lt;/h2&gt;
&lt;p&gt;COROS 手表自带app，运动记录&lt;/p&gt;
&lt;h2 id=&#34;华为运动健康&#34;&gt;华为运动健康&lt;/h2&gt;
&lt;p&gt;配合华为手环使用&lt;/p&gt;
&lt;h2 id=&#34;两步路--六只脚&#34;&gt;两步路 &amp;amp; 六只脚&lt;/h2&gt;
&lt;p&gt;户外登山，路网轨迹&lt;/p&gt;
&lt;h1 id=&#34;working&#34;&gt;Working&lt;/h1&gt;
&lt;h2 id=&#34;粉笔--腰果公考--公考雷达&#34;&gt;粉笔 &amp;amp; 腰果公考 &amp;amp; 公考雷达&lt;/h2&gt;
&lt;p&gt;备战公考&lt;/p&gt;
&lt;h2 id=&#34;牛客--leetcode&#34;&gt;牛客 &amp;amp; LeetCode&lt;/h2&gt;
&lt;p&gt;互联网秋招刷题&lt;/p&gt;
&lt;h1 id=&#34;planning&#34;&gt;Planning&lt;/h1&gt;
&lt;h2 id=&#34;todo-清单&#34;&gt;Todo 清单&lt;/h2&gt;
&lt;p&gt;每日计划 &amp;amp; 番茄钟&lt;/p&gt;
&lt;h2 id=&#34;flomo-浮墨笔记&#34;&gt;flomo 浮墨笔记&lt;/h2&gt;
&lt;p&gt;记录闪念&lt;/p&gt;
&lt;h1 id=&#34;outside&#34;&gt;Outside&lt;/h1&gt;
&lt;h2 id=&#34;clash-for-android&#34;&gt;Clash for Android&lt;/h2&gt;
&lt;p&gt;VPN&lt;/p&gt;
&lt;h2 id=&#34;chrome&#34;&gt;Chrome&lt;/h2&gt;
&lt;p&gt;Google search&lt;/p&gt;
&lt;h2 id=&#34;telegram&#34;&gt;Telegram&lt;/h2&gt;
&lt;p&gt;私密聊天&lt;/p&gt;
&lt;p&gt;多设备文件互传&lt;/p&gt;
&lt;h2 id=&#34;dupay--欧易&#34;&gt;Dupay &amp;amp; 欧易&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.krseo.com/zixun/1262.html&#34;&gt;# 开通 OpenAI-ChatGPT Plus 会员绑卡付费教程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://mp.weixin.qq.com/s/ZzkhyxiH2lfOCNr_oEqY_Q&#34;&gt;# 学术科研专用ChatGPT来了！&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;虚拟银行卡 &amp;amp; 数字货币&lt;/p&gt;
&lt;h1 id=&#34;others&#34;&gt;Others&lt;/h1&gt;
&lt;h2 id=&#34;钱迹&#34;&gt;钱迹&lt;/h2&gt;
&lt;p&gt;记账&lt;/p&gt;
&lt;h2 id=&#34;wakeup-课程表&#34;&gt;WakeUp 课程表&lt;/h2&gt;
&lt;p&gt;大学生课表&lt;/p&gt;
&lt;h2 id=&#34;microsoft-office&#34;&gt;Microsoft Office&lt;/h2&gt;
&lt;p&gt;pdf、word 等文件的查看器&lt;/p&gt;
&lt;h2 id=&#34;onedrive&#34;&gt;OneDrive&lt;/h2&gt;
&lt;p&gt;云空间&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<h1 id="reading">Reading</h1>
<h2 id="z-lib">Z-Lib</h2>
<p>免费下载书籍📕</p>
<h2 id="微信读书">微信读书</h2>
<p>阅读书籍</p>
<h2 id="人民日报--学习强国">人民日报 &amp; 学习强国</h2>
<p>了解时事，积累写作素材</p>
<h2 id="即刻--bilibili--小红书--知乎--百度贴吧">即刻 &amp; Bilibili &amp; 小红书 &amp; 知乎 &amp; 百度贴吧</h2>
<p>了解感兴趣的东西</p>
<h1 id="listening">Listening</h1>
<h2 id="小宇宙">小宇宙</h2>
<p>播客</p>
<h2 id="网易云音乐">网易云音乐</h2>
<p>听音乐</p>
<h2 id="可可英语">可可英语</h2>
<p>英语学习</p>
<h1 id="sports">Sports</h1>
<h2 id="coros">COROS</h2>
<p>COROS 手表自带app，运动记录</p>
<h2 id="华为运动健康">华为运动健康</h2>
<p>配合华为手环使用</p>
<h2 id="两步路--六只脚">两步路 &amp; 六只脚</h2>
<p>户外登山，路网轨迹</p>
<h1 id="working">Working</h1>
<h2 id="粉笔--腰果公考--公考雷达">粉笔 &amp; 腰果公考 &amp; 公考雷达</h2>
<p>备战公考</p>
<h2 id="牛客--leetcode">牛客 &amp; LeetCode</h2>
<p>互联网秋招刷题</p>
<h1 id="planning">Planning</h1>
<h2 id="todo-清单">Todo 清单</h2>
<p>每日计划 &amp; 番茄钟</p>
<h2 id="flomo-浮墨笔记">flomo 浮墨笔记</h2>
<p>记录闪念</p>
<h1 id="outside">Outside</h1>
<h2 id="clash-for-android">Clash for Android</h2>
<p>VPN</p>
<h2 id="chrome">Chrome</h2>
<p>Google search</p>
<h2 id="telegram">Telegram</h2>
<p>私密聊天</p>
<p>多设备文件互传</p>
<h2 id="dupay--欧易">Dupay &amp; 欧易</h2>
<ul>
<li><a href="https://www.krseo.com/zixun/1262.html"># 开通 OpenAI-ChatGPT Plus 会员绑卡付费教程</a></li>
<li><a href="https://mp.weixin.qq.com/s/ZzkhyxiH2lfOCNr_oEqY_Q"># 学术科研专用ChatGPT来了！</a></li>
</ul>
<p>虚拟银行卡 &amp; 数字货币</p>
<h1 id="others">Others</h1>
<h2 id="钱迹">钱迹</h2>
<p>记账</p>
<h2 id="wakeup-课程表">WakeUp 课程表</h2>
<p>大学生课表</p>
<h2 id="microsoft-office">Microsoft Office</h2>
<p>pdf、word 等文件的查看器</p>
<h2 id="onedrive">OneDrive</h2>
<p>云空间</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>认识自我</title>
      <link>https://xancoding.cn/posts/2023-07-29-13-31-24/</link>
      <pubDate>Sat, 29 Jul 2023 13:31:24 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-07-29-13-31-24/</guid>
      <description>&lt;center&gt; 
	&lt;img style=&#34;border-radius: 0.3125em; box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; src=&#34;https://bu.dusays.com/2023/07/29/64c4a47c8f332.png&#34;&gt;
	&lt;br&gt;
	&lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9; 
	display: inline-block; 
	color: #999; 
	padding: 2px;&#34;&gt;即刻：杨昌&lt;/div&gt; 
 &lt;/center&gt;
&lt;h1 id=&#34;心智模式1&#34;&gt;心智模式&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/h1&gt;
&lt;center&gt; 
	&lt;img style=&#34;border-radius: 0.3125em; box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; src=&#34;https://bu.dusays.com/2023/07/29/64c4c0fe21f41.png&#34;&gt;
	&lt;br&gt;
	&lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9; 
	display: inline-block; 
	color: #999; 
	padding: 2px;&#34;&gt;动态的心智模式&lt;/div&gt; 
 &lt;/center&gt;
&lt;h2 id=&#34;好的归因方式2&#34;&gt;好的归因方式&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/h2&gt;
&lt;p&gt;失败时，归因于能力，且认为能力是不稳定的，可控的&lt;/p&gt;
&lt;p&gt;成功时，归因于努力，且认为努力是不稳定的，可控的&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;归因会对个体以后的成就和行为产生影响。不同的归因倾向会导致不同的情感体验和情感反应，并由此影响个体对未来结果的预期和努力&lt;/strong&gt;。所以，咱们要有意识地调整自己看待成败的观点，以利于个人（在心智层面）更好地成长。&lt;/p&gt;
&lt;h2 id=&#34;如何面对逆境3&#34;&gt;如何面对逆境&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;斯托克代尔悖论：你不能把信念和原则搞混。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;信念是：你一定能获得成功——这个信念千万不可失去。&lt;br&gt;
原则是：你一定要面对最残忍的现实——无论它们是什么。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;“斯托克代尔悖论”是一种面对困境和逆境时，很有效的心智模式。具有这种心智模式的人，更加有可能（或者说，有更大的概率）战胜困境并坚持到最后。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;战略上乐观，战术上悲观&lt;/strong&gt;。也就是说，你既【不能】是纯粹的乐观主义者，也【不能】是纯粹的悲观主义者。&lt;/p&gt;
&lt;p&gt;打一个不太恰当的比方：战略好比掌舵，战术犹如划桨。战略上乐观意味着掌舵者不迷失方向；战术上悲观意味着划桨者不松懈&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://program-think.blogspot.com/2010/02/about-mental-model.html&#34;&gt;“心智模式”系列：认识你自己——心智模式扫盲介绍&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://program-think.blogspot.com/2010/04/how-to-attribute-success-failure.html&#34;&gt;“心智模式”系列：你是如何看待【成败】的？——兼谈【有效归因】&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://program-think.blogspot.com/2012/01/stockdale-paradox.html&#34;&gt;“心智模式”系列：如何面对【逆境】？——兼谈“斯托克代尔悖论”&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
      <content:encoded><![CDATA[<center> 
	<img style="border-radius: 0.3125em; box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" src="https://bu.dusays.com/2023/07/29/64c4a47c8f332.png">
	<br>
	<div style="color:orange; border-bottom: 1px solid #d9d9d9; 
	display: inline-block; 
	color: #999; 
	padding: 2px;">即刻：杨昌</div> 
 </center>
<h1 id="心智模式1">心智模式<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></h1>
<center> 
	<img style="border-radius: 0.3125em; box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" src="https://bu.dusays.com/2023/07/29/64c4c0fe21f41.png">
	<br>
	<div style="color:orange; border-bottom: 1px solid #d9d9d9; 
	display: inline-block; 
	color: #999; 
	padding: 2px;">动态的心智模式</div> 
 </center>
<h2 id="好的归因方式2">好的归因方式<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup></h2>
<p>失败时，归因于能力，且认为能力是不稳定的，可控的</p>
<p>成功时，归因于努力，且认为努力是不稳定的，可控的</p>
<p><strong>归因会对个体以后的成就和行为产生影响。不同的归因倾向会导致不同的情感体验和情感反应，并由此影响个体对未来结果的预期和努力</strong>。所以，咱们要有意识地调整自己看待成败的观点，以利于个人（在心智层面）更好地成长。</p>
<h2 id="如何面对逆境3">如何面对逆境<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup></h2>
<p><strong>斯托克代尔悖论：你不能把信念和原则搞混。</strong></p>
<p><strong>信念是：你一定能获得成功——这个信念千万不可失去。<br>
原则是：你一定要面对最残忍的现实——无论它们是什么。</strong></p>
<p>“斯托克代尔悖论”是一种面对困境和逆境时，很有效的心智模式。具有这种心智模式的人，更加有可能（或者说，有更大的概率）战胜困境并坚持到最后。</p>
<p><strong>战略上乐观，战术上悲观</strong>。也就是说，你既【不能】是纯粹的乐观主义者，也【不能】是纯粹的悲观主义者。</p>
<p>打一个不太恰当的比方：战略好比掌舵，战术犹如划桨。战略上乐观意味着掌舵者不迷失方向；战术上悲观意味着划桨者不松懈</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p><a href="https://program-think.blogspot.com/2010/02/about-mental-model.html">“心智模式”系列：认识你自己——心智模式扫盲介绍</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p><a href="https://program-think.blogspot.com/2010/04/how-to-attribute-success-failure.html">“心智模式”系列：你是如何看待【成败】的？——兼谈【有效归因】</a>&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p><a href="https://program-think.blogspot.com/2012/01/stockdale-paradox.html">“心智模式”系列：如何面对【逆境】？——兼谈“斯托克代尔悖论”</a>&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
]]></content:encoded>
    </item>
    
    <item>
      <title>Research Tools</title>
      <link>https://xancoding.cn/posts/2023-07-29-10-50-54/</link>
      <pubDate>Sat, 29 Jul 2023 10:50:55 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-07-29-10-50-54/</guid>
      <description>&lt;h1 id=&#34;zotero&#34;&gt;Zotero&lt;/h1&gt;
&lt;p&gt;一款自由及开放源代码的文献管理软件，用以管理书目信息（如作者、标题、出版社、摘要、阅读笔记等）及相关材料（如PDF文件）&lt;/p&gt;
&lt;p&gt;以下是我使用的一些插件👇&lt;/p&gt;
&lt;h2 id=&#34;zotero-style-266&#34;&gt;Zotero Style 2.6.6&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.notion.so/Zotero-Style-bc2aebbbb6df4b7baa858e376e4fc5be&#34;&gt;zotero-style&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Zotero Style 2.6.6 版本适配 &lt;code&gt;Zotero 6&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;zotero-pdf-translate&#34;&gt;Zotero PDF Translate&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://zotero.yuque.com/staff-gkhviy/pdf-trans?&#34;&gt;Zotero PDF Translate&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;PDF translation for  Zotero&lt;/p&gt;
&lt;h2 id=&#34;zotero-rerference&#34;&gt;Zotero Rerference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/MuiseDestiny/zotero-reference#zotero-reference&#34;&gt;# Zotero Reference&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;侧边栏展示阅读文献的所有参考文献&lt;/p&gt;
&lt;h1 id=&#34;texstudio&#34;&gt;TeXstudio&lt;/h1&gt;
&lt;p&gt;一款开源的跨平台LaTeX编辑软件&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<h1 id="zotero">Zotero</h1>
<p>一款自由及开放源代码的文献管理软件，用以管理书目信息（如作者、标题、出版社、摘要、阅读笔记等）及相关材料（如PDF文件）</p>
<p>以下是我使用的一些插件👇</p>
<h2 id="zotero-style-266">Zotero Style 2.6.6</h2>
<ul>
<li><a href="https://www.notion.so/Zotero-Style-bc2aebbbb6df4b7baa858e376e4fc5be">zotero-style</a></li>
</ul>
<p>Zotero Style 2.6.6 版本适配 <code>Zotero 6</code></p>
<h2 id="zotero-pdf-translate">Zotero PDF Translate</h2>
<ul>
<li><a href="https://zotero.yuque.com/staff-gkhviy/pdf-trans?">Zotero PDF Translate</a></li>
</ul>
<p>PDF translation for  Zotero</p>
<h2 id="zotero-rerference">Zotero Rerference</h2>
<ul>
<li><a href="https://github.com/MuiseDestiny/zotero-reference#zotero-reference"># Zotero Reference</a></li>
</ul>
<p>侧边栏展示阅读文献的所有参考文献</p>
<h1 id="texstudio">TeXstudio</h1>
<p>一款开源的跨平台LaTeX编辑软件</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>暑假&amp;大三上</title>
      <link>https://xancoding.cn/posts/2023-07-23-09-27-00/</link>
      <pubDate>Sun, 23 Jul 2023 09:27:00 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-07-23-09-27-00/</guid>
      <description>&lt;p&gt;现在是 2023 年 7 月 12 日 22 时 53 分，明确以后走选调生的目标，暑假主要花时间搞科研，为以后保研做准备。另外，看看英语语法，其他的都可以放一放。毕竟，一个人是不可能同时做好这么多事情的。&lt;/p&gt;
&lt;p&gt;现在是2023 年 7 月 23 日 09 时 34 分，科研基础知识正在逐步补充。暑假打算开始健身的尝试，maybe 8 月份开始，办一张半年卡。算法等科研的基础知识初步补充完毕后，可以跟上，毕竟还想去打几次算法比赛拿一拿奖的。最后就是，田静英语语法，找时间去过一遍。&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<p>现在是 2023 年 7 月 12 日 22 时 53 分，明确以后走选调生的目标，暑假主要花时间搞科研，为以后保研做准备。另外，看看英语语法，其他的都可以放一放。毕竟，一个人是不可能同时做好这么多事情的。</p>
<p>现在是2023 年 7 月 23 日 09 时 34 分，科研基础知识正在逐步补充。暑假打算开始健身的尝试，maybe 8 月份开始，办一张半年卡。算法等科研的基础知识初步补充完毕后，可以跟上，毕竟还想去打几次算法比赛拿一拿奖的。最后就是，田静英语语法，找时间去过一遍。</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>寒假&amp;大二下</title>
      <link>https://xancoding.cn/posts/2023-07-23-09-23-15/</link>
      <pubDate>Sun, 23 Jul 2023 09:23:15 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-07-23-09-23-15/</guid>
      <description>&lt;p&gt;2023 年 2 月 &amp;ndash; 3 月（寒假），还是花时间在啃书，这部分时间啃的主要是 操作系统 的书，还有就是写博客，把自己之前的 &lt;code&gt;Linux 基础课 &amp;amp; Django 框架课 &amp;amp; Web 应用课&lt;/code&gt; 做了整理，写成博客。还有的就是，浏览别人博客的一些共鸣，以及感悟，也做了一些浅薄的记录。（从 2022 年 9 月 开始，阅读别人博客的时间也是花了很多，只是到 2023 年 4 月左右，已经是把想看的博主的内容都看完了，开始比较少的输入新的博客信息）。整个寒假，也是花了比较多的时间🏃‍，是按 每天 6 km 来跑的（在 2023 年 1 月的时候，想着每天跑 6 km，结果也是 &lt;strong&gt;理想很丰满，现实很骨感&lt;/strong&gt;，在开学后，繁重的课业加上受伤的脚踝也是让我开摆，放弃这个想法🤧）（ 1 月 159 km，2 月 120 km，3月 48 km..看来也就坚持一个多月，不过也没办法，力量不够，我 2 月 后半时间 伤了，再加上 🐏了，实在是跑不了&amp;hellip;）&lt;/p&gt;
&lt;p&gt;！！！终于，在我接触 ICS-PA 和 OS 和 SICP（好吧，这个接触的比较早，只不过认真开始学习是近期的时候），我深刻的意识到 实践！！！ 的重要意义，看和做，做是更重要的。想想自己之前为什么总是收不到正反馈，很简单呀，光看不练怎么会有很大的提升呢。虽说走了挺多弯路，但前面的学习，也是给我现在打下了不错的基础，相信只要我花时间思考，不断实践 RTFM、RTFSC、RTFW，独立完成这几个项目，可以让我的 计算机能力有不错的提升，让我可以对自己更为满意💪。还有就是，培养自己阅读英文资料的习惯，毕竟外国的 技术资料和技术社区讨论氛围，还是国内所比不上的。再者，学习英语也是蛮有意思的嘛。&lt;/p&gt;
&lt;p&gt;关于英语，再补充一点，2023 年 3 月往前 大概有 7 &amp;ndash; 8 个月的时间，我坚持着每天背单词，不过到了后面也是放弃了，没有足够的正反馈，效果也不是很好，也是 操之过急 带来的不好的影响。不过，背单词带着我在大二上把 大一下延期考试的 六级 给过了（虽然也不高，&lt;code&gt;471&lt;/code&gt;，准备大三上再去刷一刷，如果能刷到 &lt;code&gt;520 及以上&lt;/code&gt;，我就很满意啦🥰）也还是不错的。&lt;/p&gt;
&lt;p&gt;现在看看，也是因为自己的目标没有足够明确，前面大一上没想这么多，课内学习也没有足够上心，专业课也没有自己去摸索着学习，使得大一上花了比较多在社团上（其实也不错，收获了开心😊）&lt;/p&gt;
&lt;p&gt;大一下的话，只埋头去 &lt;code&gt;all in&lt;/code&gt; 算法了，同时学习方法没到位，也并没有到达自己希望的水平，从而陷入了自我内耗，再加上疫情只能在学校，整个人还是一个比较 &lt;code&gt;emo&lt;/code&gt; 的状态的。现在想想还是有点可惜，当时应该硬着头皮参加 ACM 社团的，只是当时总对自己过分的不自信，其实有句话讲的挺好 &lt;code&gt;不要把别人看的很好，也不要把别人看的很差&lt;/code&gt;，我当时就是犯了错（不过也是因为大一不知道我们学校还有 ACM 社团啦🥴在大一下暑假的时候知道，又因为怂了，同时觉得没时间搞（还是因为太内耗啦🤧）没去参加大二上的选拔（基本去考了都让你进，除去根本一点都不会的，不过也是因为去考的人也不多啦🤣）&lt;/p&gt;
&lt;p&gt;大二上，开始去读一些经典的书籍，算是步入正轨了，但也还是缺乏实践，同时缺少整体的一个规划，应该不只是读 计网 的书的，最佳的做法是 多一点涉猎，多一点实践，不过也不该苛责太多。那时候的我，也是做的不错的啦😁。&lt;/p&gt;
&lt;p&gt;大二下，课很多&amp;hellip;可能花在真正我觉得有意义上的事上的时间不多，更多的是 电路 和 模电 这两门 我认为日后对自己没什么帮助的课上。不过，既来之则安之，至少，我在学习自己想学的东西都时候，收获了快乐，我是在进步的！！况且，我对那两门课也没有很反感，这不就也很好嘛。只能说，慢慢来吧，&lt;u&gt;&lt;strong&gt;勿在浮沙筑高台&lt;/strong&gt;&lt;/u&gt;💪。&lt;/p&gt;
&lt;p&gt;这个学期剩下的时间就还是先准备准备期末考试，再穿插着去重拾一下算法好了🤗&lt;/p&gt;
&lt;p&gt;对下个学期的课还是蛮期待的，都是专业课，喜欢🥰，总算不用上一些搭不上什么边的课啦😴&lt;/p&gt;
&lt;p&gt;至此，2022 年 2 月 &amp;ndash; 2023 年 5 月 Over。&lt;/p&gt;
&lt;p&gt;最后，写一写自己的职业规划好了，以后大的方向还是有两个选择，一是 考个 985，走定向选调生；二是 本科 考公，考虑 在职研究生这一条路（不过还没有充分了解，我了解了解，再做打算（尽快尽快😴（决定了，继续读研，走定向选调😋&lt;/p&gt;
&lt;p&gt;等了解完之后，我再写篇博客具体讲讲各自的优劣好了（确信，尽快🤗（不写了，确信😋懒。。&lt;/p&gt;
&lt;p&gt;写于 2023 年 5 月 29 日&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;现在是 2023 年 6 月 29 日 7 时 50 分，等会的 10 点要去考这个学期最后一门考试 电路分析基础（终于要结束辣😅。但是现在无心复习，那就把大二的总结再完善一下好了。关于上面的👆两个选择，还是决定继续读研了。整个大二，学分绩也是刷的比较高，有 94.904（现在成绩还没出完）。如果是算两个学年的话，有 &lt;code&gt;90.382 5 &lt;/code&gt;，看起来还不错。接下来的打算就是，暑假里重点花时间&lt;strong&gt;搞科研&lt;/strong&gt;，每隔半个月至一个月跟老师交流学习进度。以及每周参加 &lt;code&gt;Leetcode周赛&lt;/code&gt; 和 &lt;code&gt;AcWing周赛&lt;/code&gt;（上周第一次 AcWing Ak，Leetcode周赛 4 题 A 3 题，还是蛮开心的🤧。 再看看&lt;strong&gt;田静老师的语法课&lt;/strong&gt;，补一补我稀烂的英语语法，形成体系；&lt;strong&gt;背一背红宝书&lt;/strong&gt;，扩充单词储备（为考研做准备，还有下个学期报个六级。最后的话，还可以再看看 &lt;strong&gt;ICS-PA&lt;/strong&gt;，配合着B站的习题课视频，继续把 lab 做做🦾 （算法学习那一栏再加上 &lt;code&gt;codeforces周赛&lt;/code&gt;🥴尝试尝试&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<p>2023 年 2 月 &ndash; 3 月（寒假），还是花时间在啃书，这部分时间啃的主要是 操作系统 的书，还有就是写博客，把自己之前的 <code>Linux 基础课 &amp; Django 框架课 &amp; Web 应用课</code> 做了整理，写成博客。还有的就是，浏览别人博客的一些共鸣，以及感悟，也做了一些浅薄的记录。（从 2022 年 9 月 开始，阅读别人博客的时间也是花了很多，只是到 2023 年 4 月左右，已经是把想看的博主的内容都看完了，开始比较少的输入新的博客信息）。整个寒假，也是花了比较多的时间🏃‍，是按 每天 6 km 来跑的（在 2023 年 1 月的时候，想着每天跑 6 km，结果也是 <strong>理想很丰满，现实很骨感</strong>，在开学后，繁重的课业加上受伤的脚踝也是让我开摆，放弃这个想法🤧）（ 1 月 159 km，2 月 120 km，3月 48 km..看来也就坚持一个多月，不过也没办法，力量不够，我 2 月 后半时间 伤了，再加上 🐏了，实在是跑不了&hellip;）</p>
<p>！！！终于，在我接触 ICS-PA 和 OS 和 SICP（好吧，这个接触的比较早，只不过认真开始学习是近期的时候），我深刻的意识到 实践！！！ 的重要意义，看和做，做是更重要的。想想自己之前为什么总是收不到正反馈，很简单呀，光看不练怎么会有很大的提升呢。虽说走了挺多弯路，但前面的学习，也是给我现在打下了不错的基础，相信只要我花时间思考，不断实践 RTFM、RTFSC、RTFW，独立完成这几个项目，可以让我的 计算机能力有不错的提升，让我可以对自己更为满意💪。还有就是，培养自己阅读英文资料的习惯，毕竟外国的 技术资料和技术社区讨论氛围，还是国内所比不上的。再者，学习英语也是蛮有意思的嘛。</p>
<p>关于英语，再补充一点，2023 年 3 月往前 大概有 7 &ndash; 8 个月的时间，我坚持着每天背单词，不过到了后面也是放弃了，没有足够的正反馈，效果也不是很好，也是 操之过急 带来的不好的影响。不过，背单词带着我在大二上把 大一下延期考试的 六级 给过了（虽然也不高，<code>471</code>，准备大三上再去刷一刷，如果能刷到 <code>520 及以上</code>，我就很满意啦🥰）也还是不错的。</p>
<p>现在看看，也是因为自己的目标没有足够明确，前面大一上没想这么多，课内学习也没有足够上心，专业课也没有自己去摸索着学习，使得大一上花了比较多在社团上（其实也不错，收获了开心😊）</p>
<p>大一下的话，只埋头去 <code>all in</code> 算法了，同时学习方法没到位，也并没有到达自己希望的水平，从而陷入了自我内耗，再加上疫情只能在学校，整个人还是一个比较 <code>emo</code> 的状态的。现在想想还是有点可惜，当时应该硬着头皮参加 ACM 社团的，只是当时总对自己过分的不自信，其实有句话讲的挺好 <code>不要把别人看的很好，也不要把别人看的很差</code>，我当时就是犯了错（不过也是因为大一不知道我们学校还有 ACM 社团啦🥴在大一下暑假的时候知道，又因为怂了，同时觉得没时间搞（还是因为太内耗啦🤧）没去参加大二上的选拔（基本去考了都让你进，除去根本一点都不会的，不过也是因为去考的人也不多啦🤣）</p>
<p>大二上，开始去读一些经典的书籍，算是步入正轨了，但也还是缺乏实践，同时缺少整体的一个规划，应该不只是读 计网 的书的，最佳的做法是 多一点涉猎，多一点实践，不过也不该苛责太多。那时候的我，也是做的不错的啦😁。</p>
<p>大二下，课很多&hellip;可能花在真正我觉得有意义上的事上的时间不多，更多的是 电路 和 模电 这两门 我认为日后对自己没什么帮助的课上。不过，既来之则安之，至少，我在学习自己想学的东西都时候，收获了快乐，我是在进步的！！况且，我对那两门课也没有很反感，这不就也很好嘛。只能说，慢慢来吧，<u><strong>勿在浮沙筑高台</strong></u>💪。</p>
<p>这个学期剩下的时间就还是先准备准备期末考试，再穿插着去重拾一下算法好了🤗</p>
<p>对下个学期的课还是蛮期待的，都是专业课，喜欢🥰，总算不用上一些搭不上什么边的课啦😴</p>
<p>至此，2022 年 2 月 &ndash; 2023 年 5 月 Over。</p>
<p>最后，写一写自己的职业规划好了，以后大的方向还是有两个选择，一是 考个 985，走定向选调生；二是 本科 考公，考虑 在职研究生这一条路（不过还没有充分了解，我了解了解，再做打算（尽快尽快😴（决定了，继续读研，走定向选调😋</p>
<p>等了解完之后，我再写篇博客具体讲讲各自的优劣好了（确信，尽快🤗（不写了，确信😋懒。。</p>
<p>写于 2023 年 5 月 29 日</p>
<hr>
<p>现在是 2023 年 6 月 29 日 7 时 50 分，等会的 10 点要去考这个学期最后一门考试 电路分析基础（终于要结束辣😅。但是现在无心复习，那就把大二的总结再完善一下好了。关于上面的👆两个选择，还是决定继续读研了。整个大二，学分绩也是刷的比较高，有 94.904（现在成绩还没出完）。如果是算两个学年的话，有 <code>90.382 5 </code>，看起来还不错。接下来的打算就是，暑假里重点花时间<strong>搞科研</strong>，每隔半个月至一个月跟老师交流学习进度。以及每周参加 <code>Leetcode周赛</code> 和 <code>AcWing周赛</code>（上周第一次 AcWing Ak，Leetcode周赛 4 题 A 3 题，还是蛮开心的🤧。 再看看<strong>田静老师的语法课</strong>，补一补我稀烂的英语语法，形成体系；<strong>背一背红宝书</strong>，扩充单词储备（为考研做准备，还有下个学期报个六级。最后的话，还可以再看看 <strong>ICS-PA</strong>，配合着B站的习题课视频，继续把 lab 做做🦾 （算法学习那一栏再加上 <code>codeforces周赛</code>🥴尝试尝试</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>暑假&amp;大二上</title>
      <link>https://xancoding.cn/posts/2023-07-23-09-22-03/</link>
      <pubDate>Sun, 23 Jul 2023 09:22:03 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-07-23-09-22-03/</guid>
      <description>&lt;p&gt;2022 年 8 月 &amp;ndash; 9 月（大一至大二的暑假），又在力扣上刷了大概一个半月的题，是因为报了 &lt;a href=&#34;https://www.acwing.com/activity/content/activity_person/content/431826/1/&#34;&gt;暑假每日一题2022&lt;/a&gt;，在这之前，算法基础课已经刷完（4 月 &amp;ndash; 7月），我又开始了 算法提高课 的 刷课刷视频（这个我并没有购买，而是跟另一个人作了交换，他上我的号看 Web 应用课，我上他的号看 算法提高课）。&lt;strong&gt;&lt;u&gt;前前后后刷了 5 个月 算法后，开始疲惫，就不再看了&lt;/u&gt;&lt;/strong&gt;。不看算法后，开始看 Django 框架课 和 Web 应用课，并写出对应的项目（还是过于急，并没有吃透，也没有花时间去Debug，碰到错误想的是对着源码去找哪里没有抄对🤣这样能学好才怪嘞）。还花了时间把 数据结构的课设 搞定，也是没什么技术含量，没什么系统性的长进&lt;/p&gt;
&lt;p&gt;这个期间的生活费，大部分花在 买户外装备 上了&amp;hellip;（虽然因为疫情封校没怎么出去过😭&lt;/p&gt;
&lt;p&gt;2022年 9 月 &amp;ndash; 2023 年 1月（大二上），开始觉得看视频的学习效果不够好（现在想想是因为自己在看视频的时候没有花足够的时间去思考），开始回归书本，买了不少 计算机相关的 经典书籍，开始啃书。这个学期学的是专业课是 &lt;strong&gt;计算机网络&lt;/strong&gt; 和 &lt;strong&gt;Java&lt;/strong&gt;，两门都考了 &lt;code&gt;95&lt;/code&gt;，还算满意。其余的必修课，最差的也是考到了 &lt;code&gt;88&lt;/code&gt;，是 &lt;strong&gt;马克思主义基本原理&lt;/strong&gt;，个人感觉还是很好的了。这段时间也是花了大把大把的时间去啃书，并于 &lt;code&gt;2022-10-12&lt;/code&gt; 搭建了自己的博客，并逐渐进行完善，以及对使用的笔记软件 &lt;code&gt;Obsidian&lt;/code&gt; 不断打磨，使之可以完美符合我的使用习惯，时至今日，经过多次&lt;code&gt;&amp;quot;迭代升级&amp;quot;&lt;/code&gt;，已经是我的形状了😋。除此之外，也看了很多人文社科相关的书籍，读了很多很多书，感觉还是有所长进的（但是！！还是缺乏对代码的实践，这是唯一美中不足的地方）&lt;/p&gt;
&lt;p&gt;2022 年全年 跑步量 &lt;code&gt;781&lt;/code&gt; km&lt;/p&gt;
&lt;p&gt;至此，2022 年 8 月 &amp;ndash; 2023 年 1 月 Over。&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<p>2022 年 8 月 &ndash; 9 月（大一至大二的暑假），又在力扣上刷了大概一个半月的题，是因为报了 <a href="https://www.acwing.com/activity/content/activity_person/content/431826/1/">暑假每日一题2022</a>，在这之前，算法基础课已经刷完（4 月 &ndash; 7月），我又开始了 算法提高课 的 刷课刷视频（这个我并没有购买，而是跟另一个人作了交换，他上我的号看 Web 应用课，我上他的号看 算法提高课）。<strong><u>前前后后刷了 5 个月 算法后，开始疲惫，就不再看了</u></strong>。不看算法后，开始看 Django 框架课 和 Web 应用课，并写出对应的项目（还是过于急，并没有吃透，也没有花时间去Debug，碰到错误想的是对着源码去找哪里没有抄对🤣这样能学好才怪嘞）。还花了时间把 数据结构的课设 搞定，也是没什么技术含量，没什么系统性的长进</p>
<p>这个期间的生活费，大部分花在 买户外装备 上了&hellip;（虽然因为疫情封校没怎么出去过😭</p>
<p>2022年 9 月 &ndash; 2023 年 1月（大二上），开始觉得看视频的学习效果不够好（现在想想是因为自己在看视频的时候没有花足够的时间去思考），开始回归书本，买了不少 计算机相关的 经典书籍，开始啃书。这个学期学的是专业课是 <strong>计算机网络</strong> 和 <strong>Java</strong>，两门都考了 <code>95</code>，还算满意。其余的必修课，最差的也是考到了 <code>88</code>，是 <strong>马克思主义基本原理</strong>，个人感觉还是很好的了。这段时间也是花了大把大把的时间去啃书，并于 <code>2022-10-12</code> 搭建了自己的博客，并逐渐进行完善，以及对使用的笔记软件 <code>Obsidian</code> 不断打磨，使之可以完美符合我的使用习惯，时至今日，经过多次<code>&quot;迭代升级&quot;</code>，已经是我的形状了😋。除此之外，也看了很多人文社科相关的书籍，读了很多很多书，感觉还是有所长进的（但是！！还是缺乏对代码的实践，这是唯一美中不足的地方）</p>
<p>2022 年全年 跑步量 <code>781</code> km</p>
<p>至此，2022 年 8 月 &ndash; 2023 年 1 月 Over。</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>寒假&amp;大一下</title>
      <link>https://xancoding.cn/posts/2023-07-23-09-20-44/</link>
      <pubDate>Sun, 23 Jul 2023 09:20:45 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-07-23-09-20-44/</guid>
      <description>&lt;p&gt;从 2022 年 1 月 &amp;ndash; 3月时间（1 月 &amp;ndash; 2 月 寒假）主要花在了 &lt;a href=&#34;https://www.programmercarl.com/&#34;&gt;代码随想录&lt;/a&gt; 上(还付费进入知识星球一年)，对应着在&lt;strong&gt;力扣&lt;/strong&gt;上刷题，对算法算是稍稍入了门，期间花时间把 黑马程序员 C++ 的 B 站视频刷了（当时只是硬着头皮刷，没想过要针对性的学习，其实后面刷算法题其实这里面语法特性是用不上的，比如：模板、虚函数&amp;hellip;导致学了忘得也很快，而在算法中需要掌握使用的 &lt;code&gt;STL&lt;/code&gt;，却还是没怎么熟悉）（现在看来，还是走了挺多弯路的吧🤔）。发两个月时间刷完后，又转战 &lt;a href=&#34;https://www.acwing.com/user/myspace/activity/182463/&#34;&gt;AcWing&lt;/a&gt;，先后购入 算法基础课（2022-03-28）、Linux基础课（2022-03-31）、Django框架课（2022-04-30）、Web 应用课（2022-05-06）。之后整个学期，也是因为疫情封校，平时周末无法外出，只能是在学校里，我也就把大部分的时间花在这些东西的学习上，刷这些视频课，并对应着进行一些实践。（现在反思反思，当时的实践还是少了，有点太过急了，视频刷的很快，能自己吸收消化的却不算多，还是有点可惜）。&lt;/p&gt;
&lt;p&gt;这个期间的生活费，大部分花在 买课 上了&amp;hellip;&lt;/p&gt;
&lt;p&gt;2022 年 4 月 &amp;ndash; 7月，这段时间也是停了力扣的刷题，时间着重花在 AcWing 上的算法题，以及 AcWing 工程课 的学习。这个学期 学了 &lt;strong&gt;数据结构&lt;/strong&gt; 一门专业课，因为有了算法学习的底子，学的还是比较轻松，还做了一下&lt;a href=&#34;https://github.com/Xancoding/Data-Structures-and-Algorithms&#34;&gt;知识点的整理&lt;/a&gt;，最后的期末考了个 &lt;code&gt;92&lt;/code&gt;，不满意，狠奇怪😅。再说说考的不算好的几门好了，大学物理(1) 考了 &lt;code&gt;78&lt;/code&gt;（确实不怎么会，认了），还有就是 学术英语，&lt;code&gt;78&lt;/code&gt;，（不行，我要好好学英语！！！）这段时间主要还是花在 算法基础课 上，在 算法基础课 差不多学完的时候，插入了 Linux 基础课 的学习。&lt;/p&gt;
&lt;p&gt;至此，2022 年 2 月 &amp;ndash; 2022 年 7 月 Over。&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<p>从 2022 年 1 月 &ndash; 3月时间（1 月 &ndash; 2 月 寒假）主要花在了 <a href="https://www.programmercarl.com/">代码随想录</a> 上(还付费进入知识星球一年)，对应着在<strong>力扣</strong>上刷题，对算法算是稍稍入了门，期间花时间把 黑马程序员 C++ 的 B 站视频刷了（当时只是硬着头皮刷，没想过要针对性的学习，其实后面刷算法题其实这里面语法特性是用不上的，比如：模板、虚函数&hellip;导致学了忘得也很快，而在算法中需要掌握使用的 <code>STL</code>，却还是没怎么熟悉）（现在看来，还是走了挺多弯路的吧🤔）。发两个月时间刷完后，又转战 <a href="https://www.acwing.com/user/myspace/activity/182463/">AcWing</a>，先后购入 算法基础课（2022-03-28）、Linux基础课（2022-03-31）、Django框架课（2022-04-30）、Web 应用课（2022-05-06）。之后整个学期，也是因为疫情封校，平时周末无法外出，只能是在学校里，我也就把大部分的时间花在这些东西的学习上，刷这些视频课，并对应着进行一些实践。（现在反思反思，当时的实践还是少了，有点太过急了，视频刷的很快，能自己吸收消化的却不算多，还是有点可惜）。</p>
<p>这个期间的生活费，大部分花在 买课 上了&hellip;</p>
<p>2022 年 4 月 &ndash; 7月，这段时间也是停了力扣的刷题，时间着重花在 AcWing 上的算法题，以及 AcWing 工程课 的学习。这个学期 学了 <strong>数据结构</strong> 一门专业课，因为有了算法学习的底子，学的还是比较轻松，还做了一下<a href="https://github.com/Xancoding/Data-Structures-and-Algorithms">知识点的整理</a>，最后的期末考了个 <code>92</code>，不满意，狠奇怪😅。再说说考的不算好的几门好了，大学物理(1) 考了 <code>78</code>（确实不怎么会，认了），还有就是 学术英语，<code>78</code>，（不行，我要好好学英语！！！）这段时间主要还是花在 算法基础课 上，在 算法基础课 差不多学完的时候，插入了 Linux 基础课 的学习。</p>
<p>至此，2022 年 2 月 &ndash; 2022 年 7 月 Over。</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>北京环球影城</title>
      <link>https://xancoding.cn/posts/2023-07-19-14-15-53/</link>
      <pubDate>Wed, 19 Jul 2023 14:15:54 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-07-19-14-15-53/</guid>
      <description>&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;
&lt;head&gt;
    &lt;meta name=&#34;viewport&#34; content=&#34;user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js&#34;&gt;&lt;/script&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js&#34;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div data-nanogallery2=&#39;{
	 &#34;thumbnailDisplayTransition&#34;:          &#34;none&#34;,
     &#34;thumbnailDisplayTransitionDuration&#34;:  500,
     &#34;thumbnailDisplayInterval&#34;:            30,
     &#34;galleryDisplayTransition&#34;:            &#34;none&#34;,
     &#34;galleryDisplayTransitionDuration&#34;:    500,
     &#34;galleryDisplayMode&#34;: &#34;rows&#34;,
     &#34;thumbnailDisplayOutsideScreen&#34;: &#34;false&#34;,
     &#34;eventsDebounceDelay&#34;: 10,
     &#34;thumbnailL1BorderHorizontal&#34;: 0,
     &#34;thumbnailL1BorderVertical&#34;: 0,
     &#34;thumbnailLabel&#34;: {
        &#34;titleFontSize&#34;: &#34;0.6em&#34;
     },
     &#34;thumbnailHoverEffect2&#34;: &#34;image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)&#34;,
     &#34;galleryTheme&#34;: {
        &#34;thumbnail&#34;: {
            &#34;borderRadius&#34;: &#34;8px&#34;
        }
     },
     &#34;thumbnailToolbarImage&#34;: {
        &#34;topLeft&#34;: &#34;&#34;,
        &#34;topRight&#34;: &#34;&#34;,
        &#34;bottomLeft&#34;: &#34;&#34;,
        &#34;bottomRight&#34;: &#34;&#34;
     },
     &#34;viewerToolbar&#34;:   {
        &#34;display&#34;: true,
        &#34;standard&#34;: &#34;label&#34;
     },
     &#34;viewerTools&#34;:     {
        &#34;topLeft&#34;:    &#34;pageCounter, playPauseButton&#34;,
        &#34;topRight&#34;:   &#34;downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton&#34;
     },
     &#34;viewerGalleryTWidth&#34;: 40,
     &#34;viewerGalleryTHeight&#34;: 40
}&#39;&gt;
    
&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780506fa75.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780506fa75.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780576b44e.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780576b44e.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b7805a0cbc2.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b7805a0cbc2.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b78080a3074.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b78080a3074.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b78085ad67a.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b78085ad67a.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b7808b0707b.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b7808b0707b.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b7808b05fba.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b7808b05fba.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780903e61c.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780903e61c.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780a3c16db.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780a3c16db.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780a737a68.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780a737a68.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780aa6a1d6.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780aa6a1d6.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780ace52d5.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780ace52d5.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780b9e8887.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780b9e8887.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780bc4f910.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780bc4f910.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780bf9a38c.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780bf9a38c.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780d4e7784.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780d4e7784.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780da6d382.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780da6d382.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780df81cb4.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780df81cb4.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780e02d527.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780e02d527.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780e3869c7.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780e3869c7.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780e701e6d.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780e701e6d.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780e7463f9.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780e7463f9.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780e9c56bc.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780e9c56bc.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780ef9d132.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780ef9d132.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780ff57c45.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780ff57c45.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780ff55e64.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780ff55e64.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b780ffd1847.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b780ffd1847.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b78101e80d3.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b78101e80d3.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b781024d1d3.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b781024d1d3.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b78102c63c2.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b78102c63c2.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b781275ef3b.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b781275ef3b.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b781279b911.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b781279b911.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b7812c3b772.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b7812c3b772.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b7812d51d2b.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b7812d51d2b.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b7812d6f436.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b7812d6f436.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b7812d6770a.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b7812d6770a.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/19/64b7813599533.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/19/64b7813599533.jpg&#34;&gt;&lt;/a&gt;


&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

</description>
      <content:encoded><![CDATA[<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js"></script>
</head>
<body>

<div data-nanogallery2='{
	 "thumbnailDisplayTransition":          "none",
     "thumbnailDisplayTransitionDuration":  500,
     "thumbnailDisplayInterval":            30,
     "galleryDisplayTransition":            "none",
     "galleryDisplayTransitionDuration":    500,
     "galleryDisplayMode": "rows",
     "thumbnailDisplayOutsideScreen": "false",
     "eventsDebounceDelay": 10,
     "thumbnailL1BorderHorizontal": 0,
     "thumbnailL1BorderVertical": 0,
     "thumbnailLabel": {
        "titleFontSize": "0.6em"
     },
     "thumbnailHoverEffect2": "image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)",
     "galleryTheme": {
        "thumbnail": {
            "borderRadius": "8px"
        }
     },
     "thumbnailToolbarImage": {
        "topLeft": "",
        "topRight": "",
        "bottomLeft": "",
        "bottomRight": ""
     },
     "viewerToolbar":   {
        "display": true,
        "standard": "label"
     },
     "viewerTools":     {
        "topLeft":    "pageCounter, playPauseButton",
        "topRight":   "downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton"
     },
     "viewerGalleryTWidth": 40,
     "viewerGalleryTHeight": 40
}'>
    
<a href="https://bu.dusays.com/2023/07/19/64b780506fa75.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780506fa75.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b780576b44e.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780576b44e.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b7805a0cbc2.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b7805a0cbc2.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b78080a3074.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b78080a3074.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b78085ad67a.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b78085ad67a.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b7808b0707b.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b7808b0707b.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b7808b05fba.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b7808b05fba.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b780903e61c.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780903e61c.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b780a3c16db.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780a3c16db.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b780a737a68.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780a737a68.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b780aa6a1d6.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780aa6a1d6.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b780ace52d5.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780ace52d5.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b780b9e8887.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780b9e8887.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b780bc4f910.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780bc4f910.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b780bf9a38c.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780bf9a38c.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b780d4e7784.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780d4e7784.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b780da6d382.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780da6d382.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b780df81cb4.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780df81cb4.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b780e02d527.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780e02d527.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b780e3869c7.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780e3869c7.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b780e701e6d.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780e701e6d.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b780e7463f9.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780e7463f9.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b780e9c56bc.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780e9c56bc.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b780ef9d132.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780ef9d132.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b780ff57c45.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780ff57c45.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b780ff55e64.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780ff55e64.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b780ffd1847.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b780ffd1847.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b78101e80d3.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b78101e80d3.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b781024d1d3.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b781024d1d3.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b78102c63c2.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b78102c63c2.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b781275ef3b.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b781275ef3b.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b781279b911.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b781279b911.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b7812c3b772.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b7812c3b772.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b7812d51d2b.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b7812d51d2b.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b7812d6f436.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b7812d6f436.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b7812d6770a.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b7812d6770a.jpg"></a>

<a href="https://bu.dusays.com/2023/07/19/64b7813599533.jpg" data-ngThumb="https://bu.dusays.com/2023/07/19/64b7813599533.jpg"></a>


</div>
</body>
</html>

]]></content:encoded>
    </item>
    
    <item>
      <title>圆明园</title>
      <link>https://xancoding.cn/posts/2023-07-17-15-49-41/</link>
      <pubDate>Mon, 17 Jul 2023 15:49:42 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-07-17-15-49-41/</guid>
      <description>&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;
&lt;head&gt;
    &lt;meta name=&#34;viewport&#34; content=&#34;user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js&#34;&gt;&lt;/script&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js&#34;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div data-nanogallery2=&#39;{
	 &#34;thumbnailDisplayTransition&#34;:          &#34;none&#34;,
     &#34;thumbnailDisplayTransitionDuration&#34;:  500,
     &#34;thumbnailDisplayInterval&#34;:            30,
     &#34;galleryDisplayTransition&#34;:            &#34;none&#34;,
     &#34;galleryDisplayTransitionDuration&#34;:    500,
     &#34;galleryDisplayMode&#34;: &#34;rows&#34;,
     &#34;thumbnailDisplayOutsideScreen&#34;: &#34;false&#34;,
     &#34;eventsDebounceDelay&#34;: 10,
     &#34;thumbnailL1BorderHorizontal&#34;: 0,
     &#34;thumbnailL1BorderVertical&#34;: 0,
     &#34;thumbnailLabel&#34;: {
        &#34;titleFontSize&#34;: &#34;0.6em&#34;
     },
     &#34;thumbnailHoverEffect2&#34;: &#34;image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)&#34;,
     &#34;galleryTheme&#34;: {
        &#34;thumbnail&#34;: {
            &#34;borderRadius&#34;: &#34;8px&#34;
        }
     },
     &#34;thumbnailToolbarImage&#34;: {
        &#34;topLeft&#34;: &#34;&#34;,
        &#34;topRight&#34;: &#34;&#34;,
        &#34;bottomLeft&#34;: &#34;&#34;,
        &#34;bottomRight&#34;: &#34;&#34;
     },
     &#34;viewerToolbar&#34;:   {
        &#34;display&#34;: true,
        &#34;standard&#34;: &#34;label&#34;
     },
     &#34;viewerTools&#34;:     {
        &#34;topLeft&#34;:    &#34;pageCounter, playPauseButton&#34;,
        &#34;topRight&#34;:   &#34;downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton&#34;
     },
     &#34;viewerGalleryTWidth&#34;: 40,
     &#34;viewerGalleryTHeight&#34;: 40
}&#39;&gt;
    
&lt;a href=&#34;https://bu.dusays.com/2023/07/17/64b4f40952a68.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/17/64b4f40952a68.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/17/64b4f41bd7ff0.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/17/64b4f41bd7ff0.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/17/64b4f46b97622.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/17/64b4f46b97622.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/17/64b4f47416426.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/17/64b4f47416426.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/17/64b4f48017fd6.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/17/64b4f48017fd6.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/17/64b4f483dfd5f.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/17/64b4f483dfd5f.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/17/64b4f48330c42.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/17/64b4f48330c42.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/17/64b4f4884dd82.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/17/64b4f4884dd82.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/17/64b4f47c7c696.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/17/64b4f47c7c696.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/17/64b5191eef0e6.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/17/64b5191eef0e6.jpg&#34;&gt;&lt;/a&gt;


&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

</description>
      <content:encoded><![CDATA[<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js"></script>
</head>
<body>

<div data-nanogallery2='{
	 "thumbnailDisplayTransition":          "none",
     "thumbnailDisplayTransitionDuration":  500,
     "thumbnailDisplayInterval":            30,
     "galleryDisplayTransition":            "none",
     "galleryDisplayTransitionDuration":    500,
     "galleryDisplayMode": "rows",
     "thumbnailDisplayOutsideScreen": "false",
     "eventsDebounceDelay": 10,
     "thumbnailL1BorderHorizontal": 0,
     "thumbnailL1BorderVertical": 0,
     "thumbnailLabel": {
        "titleFontSize": "0.6em"
     },
     "thumbnailHoverEffect2": "image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)",
     "galleryTheme": {
        "thumbnail": {
            "borderRadius": "8px"
        }
     },
     "thumbnailToolbarImage": {
        "topLeft": "",
        "topRight": "",
        "bottomLeft": "",
        "bottomRight": ""
     },
     "viewerToolbar":   {
        "display": true,
        "standard": "label"
     },
     "viewerTools":     {
        "topLeft":    "pageCounter, playPauseButton",
        "topRight":   "downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton"
     },
     "viewerGalleryTWidth": 40,
     "viewerGalleryTHeight": 40
}'>
    
<a href="https://bu.dusays.com/2023/07/17/64b4f40952a68.jpg" data-ngThumb="https://bu.dusays.com/2023/07/17/64b4f40952a68.jpg"></a>

<a href="https://bu.dusays.com/2023/07/17/64b4f41bd7ff0.jpg" data-ngThumb="https://bu.dusays.com/2023/07/17/64b4f41bd7ff0.jpg"></a>

<a href="https://bu.dusays.com/2023/07/17/64b4f46b97622.jpg" data-ngThumb="https://bu.dusays.com/2023/07/17/64b4f46b97622.jpg"></a>

<a href="https://bu.dusays.com/2023/07/17/64b4f47416426.jpg" data-ngThumb="https://bu.dusays.com/2023/07/17/64b4f47416426.jpg"></a>

<a href="https://bu.dusays.com/2023/07/17/64b4f48017fd6.jpg" data-ngThumb="https://bu.dusays.com/2023/07/17/64b4f48017fd6.jpg"></a>

<a href="https://bu.dusays.com/2023/07/17/64b4f483dfd5f.jpg" data-ngThumb="https://bu.dusays.com/2023/07/17/64b4f483dfd5f.jpg"></a>

<a href="https://bu.dusays.com/2023/07/17/64b4f48330c42.jpg" data-ngThumb="https://bu.dusays.com/2023/07/17/64b4f48330c42.jpg"></a>

<a href="https://bu.dusays.com/2023/07/17/64b4f4884dd82.jpg" data-ngThumb="https://bu.dusays.com/2023/07/17/64b4f4884dd82.jpg"></a>

<a href="https://bu.dusays.com/2023/07/17/64b4f47c7c696.jpg" data-ngThumb="https://bu.dusays.com/2023/07/17/64b4f47c7c696.jpg"></a>

<a href="https://bu.dusays.com/2023/07/17/64b5191eef0e6.jpg" data-ngThumb="https://bu.dusays.com/2023/07/17/64b5191eef0e6.jpg"></a>


</div>
</body>
</html>

]]></content:encoded>
    </item>
    
    <item>
      <title>故宫</title>
      <link>https://xancoding.cn/posts/2023-07-16-19-11-01/</link>
      <pubDate>Sun, 16 Jul 2023 19:11:01 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-07-16-19-11-01/</guid>
      <description>&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;
&lt;head&gt;
    &lt;meta name=&#34;viewport&#34; content=&#34;user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js&#34;&gt;&lt;/script&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js&#34;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div data-nanogallery2=&#39;{
	 &#34;thumbnailDisplayTransition&#34;:          &#34;none&#34;,
     &#34;thumbnailDisplayTransitionDuration&#34;:  500,
     &#34;thumbnailDisplayInterval&#34;:            30,
     &#34;galleryDisplayTransition&#34;:            &#34;none&#34;,
     &#34;galleryDisplayTransitionDuration&#34;:    500,
     &#34;galleryDisplayMode&#34;: &#34;rows&#34;,
     &#34;thumbnailDisplayOutsideScreen&#34;: &#34;false&#34;,
     &#34;eventsDebounceDelay&#34;: 10,
     &#34;thumbnailL1BorderHorizontal&#34;: 0,
     &#34;thumbnailL1BorderVertical&#34;: 0,
     &#34;thumbnailLabel&#34;: {
        &#34;titleFontSize&#34;: &#34;0.6em&#34;
     },
     &#34;thumbnailHoverEffect2&#34;: &#34;image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)&#34;,
     &#34;galleryTheme&#34;: {
        &#34;thumbnail&#34;: {
            &#34;borderRadius&#34;: &#34;8px&#34;
        }
     },
     &#34;thumbnailToolbarImage&#34;: {
        &#34;topLeft&#34;: &#34;&#34;,
        &#34;topRight&#34;: &#34;&#34;,
        &#34;bottomLeft&#34;: &#34;&#34;,
        &#34;bottomRight&#34;: &#34;&#34;
     },
     &#34;viewerToolbar&#34;:   {
        &#34;display&#34;: true,
        &#34;standard&#34;: &#34;label&#34;
     },
     &#34;viewerTools&#34;:     {
        &#34;topLeft&#34;:    &#34;pageCounter, playPauseButton&#34;,
        &#34;topRight&#34;:   &#34;downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton&#34;
     },
     &#34;viewerGalleryTWidth&#34;: 40,
     &#34;viewerGalleryTHeight&#34;: 40
}&#39;&gt;
    
&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3d16631221.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3d16631221.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3d1a5df888.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3d1a5df888.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3d1a831eb4.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3d1a831eb4.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3d1d36515e.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3d1d36515e.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3d1d39edfc.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3d1d39edfc.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3d1d4468a7.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3d1d4468a7.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3d1d3740f7.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3d1d3740f7.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3d2104695f.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3d2104695f.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3d2105cfe0.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3d2105cfe0.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3d210063c1.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3d210063c1.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3d211ceb86.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3d211ceb86.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3d2100525d.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3d2100525d.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3d2102da79.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3d2102da79.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3d278c886f.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3d278c886f.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3d276936f6.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3d276936f6.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3d27742ae3.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3d27742ae3.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3d2789c4b3.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3d2789c4b3.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3d27698161.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3d27698161.jpg&#34;&gt;&lt;/a&gt;


&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

</description>
      <content:encoded><![CDATA[<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js"></script>
</head>
<body>

<div data-nanogallery2='{
	 "thumbnailDisplayTransition":          "none",
     "thumbnailDisplayTransitionDuration":  500,
     "thumbnailDisplayInterval":            30,
     "galleryDisplayTransition":            "none",
     "galleryDisplayTransitionDuration":    500,
     "galleryDisplayMode": "rows",
     "thumbnailDisplayOutsideScreen": "false",
     "eventsDebounceDelay": 10,
     "thumbnailL1BorderHorizontal": 0,
     "thumbnailL1BorderVertical": 0,
     "thumbnailLabel": {
        "titleFontSize": "0.6em"
     },
     "thumbnailHoverEffect2": "image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)",
     "galleryTheme": {
        "thumbnail": {
            "borderRadius": "8px"
        }
     },
     "thumbnailToolbarImage": {
        "topLeft": "",
        "topRight": "",
        "bottomLeft": "",
        "bottomRight": ""
     },
     "viewerToolbar":   {
        "display": true,
        "standard": "label"
     },
     "viewerTools":     {
        "topLeft":    "pageCounter, playPauseButton",
        "topRight":   "downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton"
     },
     "viewerGalleryTWidth": 40,
     "viewerGalleryTHeight": 40
}'>
    
<a href="https://bu.dusays.com/2023/07/16/64b3d16631221.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3d16631221.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3d1a5df888.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3d1a5df888.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3d1a831eb4.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3d1a831eb4.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3d1d36515e.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3d1d36515e.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3d1d39edfc.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3d1d39edfc.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3d1d4468a7.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3d1d4468a7.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3d1d3740f7.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3d1d3740f7.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3d2104695f.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3d2104695f.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3d2105cfe0.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3d2105cfe0.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3d210063c1.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3d210063c1.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3d211ceb86.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3d211ceb86.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3d2100525d.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3d2100525d.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3d2102da79.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3d2102da79.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3d278c886f.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3d278c886f.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3d276936f6.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3d276936f6.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3d27742ae3.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3d27742ae3.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3d2789c4b3.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3d2789c4b3.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3d27698161.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3d27698161.jpg"></a>


</div>
</body>
</html>

]]></content:encoded>
    </item>
    
    <item>
      <title>颐和园 北京奥林匹克塔</title>
      <link>https://xancoding.cn/posts/2023-07-16-14-53-00/</link>
      <pubDate>Sun, 16 Jul 2023 14:53:01 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-07-16-14-53-00/</guid>
      <description>&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;
&lt;head&gt;
    &lt;meta name=&#34;viewport&#34; content=&#34;user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js&#34;&gt;&lt;/script&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js&#34;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div data-nanogallery2=&#39;{
	 &#34;thumbnailDisplayTransition&#34;:          &#34;none&#34;,
     &#34;thumbnailDisplayTransitionDuration&#34;:  500,
     &#34;thumbnailDisplayInterval&#34;:            30,
     &#34;galleryDisplayTransition&#34;:            &#34;none&#34;,
     &#34;galleryDisplayTransitionDuration&#34;:    500,
     &#34;galleryDisplayMode&#34;: &#34;rows&#34;,
     &#34;thumbnailDisplayOutsideScreen&#34;: &#34;false&#34;,
     &#34;eventsDebounceDelay&#34;: 10,
     &#34;thumbnailL1BorderHorizontal&#34;: 0,
     &#34;thumbnailL1BorderVertical&#34;: 0,
     &#34;thumbnailLabel&#34;: {
        &#34;titleFontSize&#34;: &#34;0.6em&#34;
     },
     &#34;thumbnailHoverEffect2&#34;: &#34;image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)&#34;,
     &#34;galleryTheme&#34;: {
        &#34;thumbnail&#34;: {
            &#34;borderRadius&#34;: &#34;8px&#34;
        }
     },
     &#34;thumbnailToolbarImage&#34;: {
        &#34;topLeft&#34;: &#34;&#34;,
        &#34;topRight&#34;: &#34;&#34;,
        &#34;bottomLeft&#34;: &#34;&#34;,
        &#34;bottomRight&#34;: &#34;&#34;
     },
     &#34;viewerToolbar&#34;:   {
        &#34;display&#34;: true,
        &#34;standard&#34;: &#34;label&#34;
     },
     &#34;viewerTools&#34;:     {
        &#34;topLeft&#34;:    &#34;pageCounter, playPauseButton&#34;,
        &#34;topRight&#34;:   &#34;downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton&#34;
     },
     &#34;viewerGalleryTWidth&#34;: 40,
     &#34;viewerGalleryTHeight&#34;: 40
}&#39;&gt;
    
&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b394debb8ed.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b394debb8ed.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b394eccf0ca.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b394eccf0ca.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3950b0c09b.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3950b0c09b.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3953c3abef.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3953c3abef.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3955164f5c.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3955164f5c.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3956b6dc78.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3956b6dc78.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b395796ccf2.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b395796ccf2.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b395926640b.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b395926640b.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b395a8f38f1.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b395a8f38f1.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b395e5a456f.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b395e5a456f.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b39609008cb.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b39609008cb.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3962f08057.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3962f08057.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3963e1b755.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3963e1b755.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3966eeb460.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3966eeb460.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b39671e2028.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b39671e2028.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3967766c32.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3967766c32.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3969539202.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3969539202.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b39699f1536.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b39699f1536.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b3969ad22c0.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b3969ad22c0.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b396cc0608b.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b396cc0608b.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b396cfd1724.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b396cfd1724.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b396d580799.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b396d580799.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b396f26d09e.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b396f26d09e.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b396f4d4fba.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b396f4d4fba.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b396f6ac92d.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b396f6ac92d.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b397069d897.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b397069d897.jpg&#34;&gt;&lt;/a&gt;


&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;
&lt;head&gt;
    &lt;meta name=&#34;viewport&#34; content=&#34;user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js&#34;&gt;&lt;/script&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js&#34;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div data-nanogallery2=&#39;{
	 &#34;thumbnailDisplayTransition&#34;:          &#34;none&#34;,
     &#34;thumbnailDisplayTransitionDuration&#34;:  500,
     &#34;thumbnailDisplayInterval&#34;:            30,
     &#34;galleryDisplayTransition&#34;:            &#34;none&#34;,
     &#34;galleryDisplayTransitionDuration&#34;:    500,
     &#34;galleryDisplayMode&#34;: &#34;rows&#34;,
     &#34;thumbnailDisplayOutsideScreen&#34;: &#34;false&#34;,
     &#34;eventsDebounceDelay&#34;: 10,
     &#34;thumbnailL1BorderHorizontal&#34;: 0,
     &#34;thumbnailL1BorderVertical&#34;: 0,
     &#34;thumbnailLabel&#34;: {
        &#34;titleFontSize&#34;: &#34;0.6em&#34;
     },
     &#34;thumbnailHoverEffect2&#34;: &#34;image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)&#34;,
     &#34;galleryTheme&#34;: {
        &#34;thumbnail&#34;: {
            &#34;borderRadius&#34;: &#34;8px&#34;
        }
     },
     &#34;thumbnailToolbarImage&#34;: {
        &#34;topLeft&#34;: &#34;&#34;,
        &#34;topRight&#34;: &#34;&#34;,
        &#34;bottomLeft&#34;: &#34;&#34;,
        &#34;bottomRight&#34;: &#34;&#34;
     },
     &#34;viewerToolbar&#34;:   {
        &#34;display&#34;: true,
        &#34;standard&#34;: &#34;label&#34;
     },
     &#34;viewerTools&#34;:     {
        &#34;topLeft&#34;:    &#34;pageCounter, playPauseButton&#34;,
        &#34;topRight&#34;:   &#34;downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton&#34;
     },
     &#34;viewerGalleryTWidth&#34;: 40,
     &#34;viewerGalleryTHeight&#34;: 40
}&#39;&gt;
    
&lt;a href=&#34;https://bu.dusays.com/2023/07/16/64b397e859ff6.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/07/16/64b397e859ff6.jpg&#34;&gt;&lt;/a&gt;


&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

</description>
      <content:encoded><![CDATA[<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js"></script>
</head>
<body>

<div data-nanogallery2='{
	 "thumbnailDisplayTransition":          "none",
     "thumbnailDisplayTransitionDuration":  500,
     "thumbnailDisplayInterval":            30,
     "galleryDisplayTransition":            "none",
     "galleryDisplayTransitionDuration":    500,
     "galleryDisplayMode": "rows",
     "thumbnailDisplayOutsideScreen": "false",
     "eventsDebounceDelay": 10,
     "thumbnailL1BorderHorizontal": 0,
     "thumbnailL1BorderVertical": 0,
     "thumbnailLabel": {
        "titleFontSize": "0.6em"
     },
     "thumbnailHoverEffect2": "image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)",
     "galleryTheme": {
        "thumbnail": {
            "borderRadius": "8px"
        }
     },
     "thumbnailToolbarImage": {
        "topLeft": "",
        "topRight": "",
        "bottomLeft": "",
        "bottomRight": ""
     },
     "viewerToolbar":   {
        "display": true,
        "standard": "label"
     },
     "viewerTools":     {
        "topLeft":    "pageCounter, playPauseButton",
        "topRight":   "downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton"
     },
     "viewerGalleryTWidth": 40,
     "viewerGalleryTHeight": 40
}'>
    
<a href="https://bu.dusays.com/2023/07/16/64b394debb8ed.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b394debb8ed.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b394eccf0ca.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b394eccf0ca.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3950b0c09b.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3950b0c09b.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3953c3abef.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3953c3abef.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3955164f5c.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3955164f5c.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3956b6dc78.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3956b6dc78.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b395796ccf2.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b395796ccf2.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b395926640b.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b395926640b.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b395a8f38f1.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b395a8f38f1.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b395e5a456f.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b395e5a456f.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b39609008cb.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b39609008cb.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3962f08057.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3962f08057.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3963e1b755.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3963e1b755.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3966eeb460.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3966eeb460.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b39671e2028.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b39671e2028.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3967766c32.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3967766c32.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3969539202.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3969539202.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b39699f1536.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b39699f1536.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b3969ad22c0.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b3969ad22c0.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b396cc0608b.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b396cc0608b.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b396cfd1724.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b396cfd1724.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b396d580799.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b396d580799.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b396f26d09e.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b396f26d09e.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b396f4d4fba.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b396f4d4fba.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b396f6ac92d.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b396f6ac92d.jpg"></a>

<a href="https://bu.dusays.com/2023/07/16/64b397069d897.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b397069d897.jpg"></a>


</div>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js"></script>
</head>
<body>

<div data-nanogallery2='{
	 "thumbnailDisplayTransition":          "none",
     "thumbnailDisplayTransitionDuration":  500,
     "thumbnailDisplayInterval":            30,
     "galleryDisplayTransition":            "none",
     "galleryDisplayTransitionDuration":    500,
     "galleryDisplayMode": "rows",
     "thumbnailDisplayOutsideScreen": "false",
     "eventsDebounceDelay": 10,
     "thumbnailL1BorderHorizontal": 0,
     "thumbnailL1BorderVertical": 0,
     "thumbnailLabel": {
        "titleFontSize": "0.6em"
     },
     "thumbnailHoverEffect2": "image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)",
     "galleryTheme": {
        "thumbnail": {
            "borderRadius": "8px"
        }
     },
     "thumbnailToolbarImage": {
        "topLeft": "",
        "topRight": "",
        "bottomLeft": "",
        "bottomRight": ""
     },
     "viewerToolbar":   {
        "display": true,
        "standard": "label"
     },
     "viewerTools":     {
        "topLeft":    "pageCounter, playPauseButton",
        "topRight":   "downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton"
     },
     "viewerGalleryTWidth": 40,
     "viewerGalleryTHeight": 40
}'>
    
<a href="https://bu.dusays.com/2023/07/16/64b397e859ff6.jpg" data-ngThumb="https://bu.dusays.com/2023/07/16/64b397e859ff6.jpg"></a>


</div>
</body>
</html>

]]></content:encoded>
    </item>
    
    <item>
      <title>6 月总结</title>
      <link>https://xancoding.cn/posts/2023-06-30-17-40-02/</link>
      <pubDate>Fri, 30 Jun 2023 17:40:03 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-06-30-17-40-02/</guid>
      <description>&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;学习：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;概率论与数理统计&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;操作系统&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;电路分析基础(0629)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;模拟电子技术基础(0614)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SICP&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;操作系统课程设计&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;机器学习&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;深度学习&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;GNN&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ICS-PA&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;期末考试月。。。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
      <content:encoded><![CDATA[<ol>
<li>
<p>学习：</p>
<ol>
<li>
<p>概率论与数理统计</p>
</li>
<li>
<p>操作系统</p>
</li>
<li>
<p>电路分析基础(0629)</p>
</li>
<li>
<p>模拟电子技术基础(0614)</p>
</li>
<li>
<p>SICP</p>
</li>
<li>
<p>操作系统课程设计</p>
</li>
<li>
<p>机器学习</p>
</li>
<li>
<p>深度学习</p>
</li>
<li>
<p>GNN</p>
</li>
<li>
<p>ICS-PA</p>
</li>
</ol>
</li>
<li>
<p>期末考试月。。。</p>
</li>
</ol>
]]></content:encoded>
    </item>
    
    <item>
      <title>5 月总结</title>
      <link>https://xancoding.cn/posts/2023-05-31-09-00-39/</link>
      <pubDate>Wed, 31 May 2023 09:00:40 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-05-31-09-00-39/</guid>
      <description>&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;学习：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;School&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;《概率论与数理统计》结课&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《电路》结课&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《操作系统原理与实践》结课&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《模拟电子技术基础》结课&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Pycharm+Anaconda+CUDA+cudnn+Pytorch ，深度学习环境配置完成&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;GDB&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://www.cprogramming.com/gdb.html&#34;&gt;https://www.cprogramming.com/gdb.html&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;googletest&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ICS-PA&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SICP&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;jyy-OS&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Read 别像弱智一样提问 &amp;amp; 提问的智慧&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Read 英语文献、资料，英语能力Up Up&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;书籍：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Life:&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Tech:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;《现代操作系统》2&amp;ndash;6章&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《操作系统&amp;ndash;精髓与设计原理》3&amp;ndash;9、11&amp;ndash;12章&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《操作系统导论》&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;2023唐山马拉松（0521）（041905）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;0522 前几天沉迷刷抖刷B刷贴吧&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;0530 前几天期末复习考试（怎么还有这么多课呀！！！&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;五月后半段的作息不太规律，经常是凌晨一点左右至白天九点左右，慢慢调整回来&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;大概规划一下考完之后，有空的时候做些什么（按优先级排列）：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;学习 deep-learning （情感分析）&lt;/li&gt;
&lt;li&gt;学习 SICP （对编程语言有更深的理解，有更强的掌握感）&lt;/li&gt;
&lt;li&gt;学习 算法 （晚上去 ACM 社团跟着他们一起练习）（提升自己的编程思维）&lt;/li&gt;
&lt;li&gt;学习 ICS-PA （通过 NEMU 构建简单完整的计算机系统）（获得了处理大型项目的能力）&lt;/li&gt;
&lt;li&gt;学习 jyy-OS （配合着《操作系统导论》）&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;注：4、5 可以放到大三上与 计算机组成原理、数字逻辑、Linux（如果这门专选课可以选上的话🤗） 联系起来，可以形成一个完整的知识体系&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
      <content:encoded><![CDATA[<ol>
<li>
<p>学习：</p>
<ol>
<li>
<p>School</p>
<ol>
<li>
<p>《概率论与数理统计》结课</p>
</li>
<li>
<p>《电路》结课</p>
</li>
<li>
<p>《操作系统原理与实践》结课</p>
</li>
<li>
<p>《模拟电子技术基础》结课</p>
</li>
</ol>
</li>
<li>
<p>Pycharm+Anaconda+CUDA+cudnn+Pytorch ，深度学习环境配置完成</p>
</li>
<li>
<p>GDB</p>
<ol>
<li><a href="https://www.cprogramming.com/gdb.html">https://www.cprogramming.com/gdb.html</a></li>
</ol>
</li>
<li>
<p>googletest</p>
</li>
<li>
<p>ICS-PA</p>
</li>
<li>
<p>SICP</p>
</li>
<li>
<p>jyy-OS</p>
</li>
<li>
<p>Read 别像弱智一样提问 &amp; 提问的智慧</p>
</li>
<li>
<p>Read 英语文献、资料，英语能力Up Up</p>
</li>
</ol>
</li>
<li>
<p>书籍：</p>
<ol>
<li>
<p>Life:</p>
</li>
<li>
<p>Tech:</p>
<ol>
<li>
<p>《现代操作系统》2&ndash;6章</p>
</li>
<li>
<p>《操作系统&ndash;精髓与设计原理》3&ndash;9、11&ndash;12章</p>
</li>
<li>
<p>《操作系统导论》</p>
</li>
</ol>
</li>
</ol>
</li>
<li>
<p>2023唐山马拉松（0521）（041905）</p>
</li>
<li>
<p>0522 前几天沉迷刷抖刷B刷贴吧</p>
</li>
<li>
<p>0530 前几天期末复习考试（怎么还有这么多课呀！！！</p>
</li>
<li>
<p>五月后半段的作息不太规律，经常是凌晨一点左右至白天九点左右，慢慢调整回来</p>
</li>
<li>
<p>大概规划一下考完之后，有空的时候做些什么（按优先级排列）：</p>
<ol>
<li>学习 deep-learning （情感分析）</li>
<li>学习 SICP （对编程语言有更深的理解，有更强的掌握感）</li>
<li>学习 算法 （晚上去 ACM 社团跟着他们一起练习）（提升自己的编程思维）</li>
<li>学习 ICS-PA （通过 NEMU 构建简单完整的计算机系统）（获得了处理大型项目的能力）</li>
<li>学习 jyy-OS （配合着《操作系统导论》）</li>
</ol>
<ul>
<li>注：4、5 可以放到大三上与 计算机组成原理、数字逻辑、Linux（如果这门专选课可以选上的话🤗） 联系起来，可以形成一个完整的知识体系</li>
</ul>
</li>
</ol>
]]></content:encoded>
    </item>
    
    <item>
      <title>C&#43;&#43; Project</title>
      <link>https://xancoding.cn/posts/2023-05-29-17-24-38/</link>
      <pubDate>Mon, 29 May 2023 17:24:38 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-05-29-17-24-38/</guid>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1bd4y1D7on/?spm_id_from=333.788&amp;amp;vd_source=ae16ff6478eb15c1b87880540263910b&#34;&gt;# C/C++项目实战（前置知识）&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 单例模式&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 工厂模式&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.yuque.com/jackyao/ifeq8i/vyigt9?#%20%E3%80%8AC/C++%E5%88%B7%E9%A2%98%E5%B8%B8%E7%94%A8%E6%8A%80%E5%B7%A7%E3%80%8B&#34;&gt;# C/C++刷题常用技巧&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;a href=&#34;https://www.bilibili.com/video/BV1XB4y1b7Fy/?spm_id_from=333.788&amp;amp;vd_source=ae16ff6478eb15c1b87880540263910b&#34;&gt;# C/C++项目实战（数据库）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;a href=&#34;https://github.com/SYaoJun/CPPInterview/blob/master/Basic/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86.md&#34;&gt;# 数据库原理&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;大纲&#34;&gt;大纲&lt;/h1&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;1.&lt;/span&gt; 开发环境
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; Git     # 版本管理工具
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; Cmake   # 代码构建工具，管理源文件和依赖
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; Gcc     # 编译器
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; Clion   # 编辑器
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; Postman # 模拟客户端
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; MySQL(navicat)   # 在 docker Container 中起一个 mySQL 数据库，并可以在 navicat 中进行可视化操作
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; Docker  # 部署
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;1.&lt;/span&gt; 目录结构
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; build   # 项目编译目录
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; debug 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; release 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; include # .h 头文件目录
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; src     # .cpp  源文件目录
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; docs    # 需求设计文档
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; others
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;2.&lt;/span&gt; 设计模式
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; 单例模式
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; 构造函数私有
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; 实例只有一份
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; 工厂模式
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; 一个类别对应一个工厂
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; 不需要亲自创建对象，只需要从工厂中去取
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;3.&lt;/span&gt; 数据库
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; MySQL 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; 关系型
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; 支持事务
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; 行锁
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; 支持种存储引擎InnoDB，MyISAM，Memory
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;-&lt;/span&gt; B+树索引
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;init-project&#34;&gt;init-project&lt;/h1&gt;
&lt;p&gt;
&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2023/05/29/64748c8482b68.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2023/05/29/64748c8482b68.png&#34; alt=&#34;3.png&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/p&gt;
&lt;h2 id=&#34;build&#34;&gt;build&lt;/h2&gt;
&lt;p&gt;添加 &lt;code&gt;Release&lt;/code&gt; 模块，并将 &lt;code&gt;Debug&lt;/code&gt; 和 &lt;code&gt;Release&lt;/code&gt; 模块移至 &lt;code&gt;build&lt;/code&gt; 目录下

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2023/05/29/64748ec74bc6c.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2023/05/29/64748ec74bc6c.png&#34; alt=&#34;1.png&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;



&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2023/05/29/64748ec74bc31.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2023/05/29/64748ec74bc31.png&#34; alt=&#34;2.png&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/p&gt;
&lt;h2 id=&#34;include&#34;&gt;include&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;User.h&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;//  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;// Created by 24398 on 2023/5/29.  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;//  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0f0;font-weight:bold&#34;&gt;#ifndef NEW_PROJECT_USER_H  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0f0;font-weight:bold&#34;&gt;#define NEW_PROJECT_USER_H  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0f0;font-weight:bold&#34;&gt;# include &amp;lt;string&amp;gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0f0;font-weight:bold&#34;&gt;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; User {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;private&lt;/span&gt;:  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;int&lt;/span&gt; age{};  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;std::string name{};  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;public&lt;/span&gt;:  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;std::string get_name();  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;User(std::string name_);  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;};  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0f0;font-weight:bold&#34;&gt;#endif &lt;/span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;//NEW_PROJECT_USER_H
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;src&#34;&gt;src&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;main.cpp&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0f0;font-weight:bold&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#0f0;font-weight:bold&#34;&gt;&amp;lt;iostream&amp;gt;  &lt;/span&gt;&lt;span style=&#34;color:#0f0;font-weight:bold&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0f0;font-weight:bold&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#0f0;font-weight:bold&#34;&gt;&amp;#34;User.h&amp;#34;  &lt;/span&gt;&lt;span style=&#34;color:#0f0;font-weight:bold&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0f0;font-weight:bold&#34;&gt;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;int&lt;/span&gt; main() {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;auto&lt;/span&gt; *user = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;new&lt;/span&gt; User(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;John&amp;#34;&lt;/span&gt;);  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;std::cout &amp;lt;&amp;lt; user-&amp;gt;get_name() &amp;lt;&amp;lt; std::endl;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;User.cpp&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;//  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;// Created by 24398 on 2023/5/29.  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;//  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#0f0;font-weight:bold&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#0f0;font-weight:bold&#34;&gt;&amp;#34;User.h&amp;#34;  &lt;/span&gt;&lt;span style=&#34;color:#0f0;font-weight:bold&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0f0;font-weight:bold&#34;&gt;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;User::User(std::string name_): name(name_){};  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;std::string User::get_name() {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;-&amp;gt;name;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;cmakeliststxt&#34;&gt;CMakelists.txt&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-Cmake&#34; data-lang=&#34;Cmake&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;cmake_minimum_required&lt;/span&gt;(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;VERSION&lt;/span&gt; &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;3.25&lt;/span&gt;)  &lt;span style=&#34;color:#f00&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f00&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;project&lt;/span&gt;(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;new_project&lt;/span&gt;)  &lt;span style=&#34;color:#f00&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f00&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#f00&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f00&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;# C++ 17  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;set&lt;/span&gt;(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;CMAKE_CXX_STANDARD&lt;/span&gt; &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;17&lt;/span&gt;)  &lt;span style=&#34;color:#f00&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f00&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;# 添加头文件  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;include_directories&lt;/span&gt;(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;include&lt;/span&gt;)  &lt;span style=&#34;color:#f00&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f00&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#f00&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f00&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;# 添加源文件  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;aux_source_directory&lt;/span&gt;(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;./src&lt;/span&gt; &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;DIR_SRCS&lt;/span&gt;)  &lt;span style=&#34;color:#f00&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f00&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#f00&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f00&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;# 所有需要编译的可执行文件  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;add_executable&lt;/span&gt;(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;new_project&lt;/span&gt; ${DIR_SRCS})&lt;span style=&#34;color:#f00&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;include_directories([AFTER|BEFORE] [SYSTEM] directory1 [directory2 ...])&lt;/code&gt;&lt;br&gt;
在这个例子中，命令&lt;code&gt;include_directories(include)&lt;/code&gt;表示你想将&lt;code&gt;include&lt;/code&gt;目录添加到包含路径中。这意味着编译器在编译源文件时会在&lt;code&gt;include&lt;/code&gt;目录中搜索头文件。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;aux_source_directory(&amp;lt;dir&amp;gt; &amp;lt;variable&amp;gt;)&lt;/code&gt;&lt;br&gt;
在这个例子中，命令&lt;code&gt;aux_source_directory(src DIR_SRCS)&lt;/code&gt;表示你想从&lt;code&gt;./src&lt;/code&gt;目录收集所有的源文件，并将它们赋值给变量&lt;code&gt;DIR_SRCS&lt;/code&gt;。&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<ul>
<li><a href="https://www.bilibili.com/video/BV1bd4y1D7on/?spm_id_from=333.788&amp;vd_source=ae16ff6478eb15c1b87880540263910b"># C/C++项目实战（前置知识）</a>
<ul>
<li><input disabled="" type="checkbox"> 单例模式</li>
<li><input disabled="" type="checkbox"> 工厂模式</li>
</ul>
</li>
<li><a href="https://www.yuque.com/jackyao/ifeq8i/vyigt9?#%20%E3%80%8AC/C++%E5%88%B7%E9%A2%98%E5%B8%B8%E7%94%A8%E6%8A%80%E5%B7%A7%E3%80%8B"># C/C++刷题常用技巧</a></li>
<li><input disabled="" type="checkbox"> <a href="https://www.bilibili.com/video/BV1XB4y1b7Fy/?spm_id_from=333.788&amp;vd_source=ae16ff6478eb15c1b87880540263910b"># C/C++项目实战（数据库）</a></li>
<li><input disabled="" type="checkbox"> <a href="https://github.com/SYaoJun/CPPInterview/blob/master/Basic/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86.md"># 数据库原理</a></li>
</ul>
<h1 id="大纲">大纲</h1>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">1.</span> 开发环境
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">-</span> Git     # 版本管理工具
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">-</span> Cmake   # 代码构建工具，管理源文件和依赖
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">-</span> Gcc     # 编译器
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">-</span> Clion   # 编辑器
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">-</span> Postman # 模拟客户端
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">-</span> MySQL(navicat)   # 在 docker Container 中起一个 mySQL 数据库，并可以在 navicat 中进行可视化操作
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">-</span> Docker  # 部署
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">1.</span> 目录结构
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">-</span> build   # 项目编译目录
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">-</span> debug 
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">-</span> release 
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">-</span> include # .h 头文件目录
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">-</span> src     # .cpp  源文件目录
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">-</span> docs    # 需求设计文档
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">-</span> others
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">2.</span> 设计模式
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">-</span> 单例模式
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">-</span> 构造函数私有
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">-</span> 实例只有一份
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">-</span> 工厂模式
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">-</span> 一个类别对应一个工厂
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">-</span> 不需要亲自创建对象，只需要从工厂中去取
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">3.</span> 数据库
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">-</span> MySQL 
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">-</span> 关系型
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">-</span> 支持事务
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">-</span> 行锁
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">-</span> 支持种存储引擎InnoDB，MyISAM，Memory
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">-</span> B+树索引
</span></span></code></pre></div><h1 id="init-project">init-project</h1>
<p>
<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2023/05/29/64748c8482b68.png">
<img src="https://bu.dusays.com/2023/05/29/64748c8482b68.png" alt="3.png"  />
</a>
</div>

</p>
<h2 id="build">build</h2>
<p>添加 <code>Release</code> 模块，并将 <code>Debug</code> 和 <code>Release</code> 模块移至 <code>build</code> 目录下

<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2023/05/29/64748ec74bc6c.png">
<img src="https://bu.dusays.com/2023/05/29/64748ec74bc6c.png" alt="1.png"  />
</a>
</div>



<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2023/05/29/64748ec74bc31.png">
<img src="https://bu.dusays.com/2023/05/29/64748ec74bc31.png" alt="2.png"  />
</a>
</div>

</p>
<h2 id="include">include</h2>
<p><code>User.h</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#007f7f">//  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">// Created by 24398 on 2023/5/29.  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">//  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>  
</span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">#ifndef NEW_PROJECT_USER_H  
</span></span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">#define NEW_PROJECT_USER_H  
</span></span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold"># include &lt;string&gt;  
</span></span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold"></span>  
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> User {  
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">private</span>:  
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">int</span> age{};  
</span></span><span style="display:flex;"><span>std::string name{};  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span>:  
</span></span><span style="display:flex;"><span>std::string get_name();  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>User(std::string name_);  
</span></span><span style="display:flex;"><span>};  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">#endif </span><span style="color:#007f7f">//NEW_PROJECT_USER_H
</span></span></span></code></pre></div><h2 id="src">src</h2>
<p><code>main.cpp</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">#include</span> <span style="color:#0f0;font-weight:bold">&lt;iostream&gt;  </span><span style="color:#0f0;font-weight:bold">
</span></span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">#include</span> <span style="color:#0f0;font-weight:bold">&#34;User.h&#34;  </span><span style="color:#0f0;font-weight:bold">
</span></span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold"></span>  
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">int</span> main() {  
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">auto</span> *user = <span style="color:#fff;font-weight:bold">new</span> User(<span style="color:#0ff;font-weight:bold">&#34;John&#34;</span>);  
</span></span><span style="display:flex;"><span>std::cout &lt;&lt; user-&gt;get_name() &lt;&lt; std::endl;  
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">return</span> <span style="color:#ff0;font-weight:bold">0</span>;  
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><code>User.cpp</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#007f7f">//  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">// Created by 24398 on 2023/5/29.  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">//  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#0f0;font-weight:bold">#include</span> <span style="color:#0f0;font-weight:bold">&#34;User.h&#34;  </span><span style="color:#0f0;font-weight:bold">
</span></span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold"></span>  
</span></span><span style="display:flex;"><span>User::User(std::string name_): name(name_){};  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>std::string User::get_name() {  
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">this</span>-&gt;name;  
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="cmakeliststxt">CMakelists.txt</h2>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Cmake" data-lang="Cmake"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">cmake_minimum_required</span>(<span style="color:#0ff;font-weight:bold">VERSION</span> <span style="color:#0ff;font-weight:bold">3.25</span>)  <span style="color:#f00">
</span></span></span><span style="display:flex;"><span><span style="color:#f00"></span><span style="color:#fff;font-weight:bold">project</span>(<span style="color:#0ff;font-weight:bold">new_project</span>)  <span style="color:#f00">
</span></span></span><span style="display:flex;"><span><span style="color:#f00"></span>  <span style="color:#f00">
</span></span></span><span style="display:flex;"><span><span style="color:#f00"></span><span style="color:#007f7f"># C++ 17  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">set</span>(<span style="color:#0ff;font-weight:bold">CMAKE_CXX_STANDARD</span> <span style="color:#0ff;font-weight:bold">17</span>)  <span style="color:#f00">
</span></span></span><span style="display:flex;"><span><span style="color:#f00"></span><span style="color:#007f7f"># 添加头文件  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">include_directories</span>(<span style="color:#0ff;font-weight:bold">include</span>)  <span style="color:#f00">
</span></span></span><span style="display:flex;"><span><span style="color:#f00"></span>  <span style="color:#f00">
</span></span></span><span style="display:flex;"><span><span style="color:#f00"></span><span style="color:#007f7f"># 添加源文件  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">aux_source_directory</span>(<span style="color:#0ff;font-weight:bold">./src</span> <span style="color:#0ff;font-weight:bold">DIR_SRCS</span>)  <span style="color:#f00">
</span></span></span><span style="display:flex;"><span><span style="color:#f00"></span>  <span style="color:#f00">
</span></span></span><span style="display:flex;"><span><span style="color:#f00"></span><span style="color:#007f7f"># 所有需要编译的可执行文件  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">add_executable</span>(<span style="color:#0ff;font-weight:bold">new_project</span> ${DIR_SRCS})<span style="color:#f00">
</span></span></span></code></pre></div><p><code>include_directories([AFTER|BEFORE] [SYSTEM] directory1 [directory2 ...])</code><br>
在这个例子中，命令<code>include_directories(include)</code>表示你想将<code>include</code>目录添加到包含路径中。这意味着编译器在编译源文件时会在<code>include</code>目录中搜索头文件。</p>
<p><code>aux_source_directory(&lt;dir&gt; &lt;variable&gt;)</code><br>
在这个例子中，命令<code>aux_source_directory(src DIR_SRCS)</code>表示你想从<code>./src</code>目录收集所有的源文件，并将它们赋值给变量<code>DIR_SRCS</code>。</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>暑假&amp;大一上</title>
      <link>https://xancoding.cn/posts/2023-05-29-12-54-17/</link>
      <pubDate>Mon, 29 May 2023 12:54:18 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-05-29-12-54-17/</guid>
      <description>&lt;p&gt;2021年 7 月，开始我高考完后最轻松的暑假，光顾着玩了，没怎么学习（当然也没去考驾照啦）（做家教，赚了些钱💸）&lt;/p&gt;
&lt;p&gt;2021 年 9 月 &amp;ndash; 2022 年 1 月（大一上），这段时间没怎么花时间在专业技术的学习上的，花比较多的时间在 &lt;strong&gt;高等数学&lt;/strong&gt; 上，结果发现最后的考试并不难（不过考的也不高，拿了个 &lt;code&gt;90&lt;/code&gt;）。闲暇的时间，日常的跑步（9月 &amp;ndash; 12月 共跑了 369 km） &amp;amp; 周末跟凌云社的小伙伴们出去玩（东灵山、三峰连穿&amp;hellip;），这个学期学了 &lt;strong&gt;C语言&lt;/strong&gt; 和 &lt;strong&gt;离散数学&lt;/strong&gt; 两门专业课。离散的老师讲的实在不行，只能自己看书学，感觉掌握的不是很扎实&amp;ndash;不过考试还是依旧比较水，C语言 &lt;code&gt;95&lt;/code&gt; 和 离散数学 &lt;code&gt;94&lt;/code&gt; 拿下。 其他的课中，依旧是被英语折磨，最后也就考了个 &lt;code&gt;83&lt;/code&gt;（感觉也挺高的了🤣），还有就是 &lt;strong&gt;思想道德修养与法律&lt;/strong&gt;，还是上课水过，考前几天背的死去活来，&lt;code&gt;82&lt;/code&gt; 考过。还有就是，C 语言那个 管理系统 的课设，当时的我都还是只是磕磕绊绊的写出，以及参考教材，没有去网上检索信息的意识，可见对专业相关的自主学习意识还是比较薄弱的🥴。&lt;/p&gt;
&lt;p&gt;这学期也有两门拿的比较低，一门是 &lt;strong&gt;军事技能&lt;/strong&gt;，是按军训的表现来算的（打靶全部脱靶，还能高到哪去，这个我认了😅）。另外一门就是 &lt;strong&gt;计算机导论&lt;/strong&gt;，虽然是开卷，还是考了个 &lt;strong&gt;78&lt;/strong&gt;。现在想想，这门当时应该好好学的，可以构建对计算机的基本认知来说，还是有必要的，对后面的学习也是有所裨益的。&lt;/p&gt;
&lt;p&gt;这个期间的生活费，大部分花在买跑鞋和我的高驰表上了&amp;hellip;&lt;/p&gt;
&lt;p&gt;至此，2021 年 7 月 &amp;ndash; 2022 年 1 月 Over。&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<p>2021年 7 月，开始我高考完后最轻松的暑假，光顾着玩了，没怎么学习（当然也没去考驾照啦）（做家教，赚了些钱💸）</p>
<p>2021 年 9 月 &ndash; 2022 年 1 月（大一上），这段时间没怎么花时间在专业技术的学习上的，花比较多的时间在 <strong>高等数学</strong> 上，结果发现最后的考试并不难（不过考的也不高，拿了个 <code>90</code>）。闲暇的时间，日常的跑步（9月 &ndash; 12月 共跑了 369 km） &amp; 周末跟凌云社的小伙伴们出去玩（东灵山、三峰连穿&hellip;），这个学期学了 <strong>C语言</strong> 和 <strong>离散数学</strong> 两门专业课。离散的老师讲的实在不行，只能自己看书学，感觉掌握的不是很扎实&ndash;不过考试还是依旧比较水，C语言 <code>95</code> 和 离散数学 <code>94</code> 拿下。 其他的课中，依旧是被英语折磨，最后也就考了个 <code>83</code>（感觉也挺高的了🤣），还有就是 <strong>思想道德修养与法律</strong>，还是上课水过，考前几天背的死去活来，<code>82</code> 考过。还有就是，C 语言那个 管理系统 的课设，当时的我都还是只是磕磕绊绊的写出，以及参考教材，没有去网上检索信息的意识，可见对专业相关的自主学习意识还是比较薄弱的🥴。</p>
<p>这学期也有两门拿的比较低，一门是 <strong>军事技能</strong>，是按军训的表现来算的（打靶全部脱靶，还能高到哪去，这个我认了😅）。另外一门就是 <strong>计算机导论</strong>，虽然是开卷，还是考了个 <strong>78</strong>。现在想想，这门当时应该好好学的，可以构建对计算机的基本认知来说，还是有必要的，对后面的学习也是有所裨益的。</p>
<p>这个期间的生活费，大部分花在买跑鞋和我的高驰表上了&hellip;</p>
<p>至此，2021 年 7 月 &ndash; 2022 年 1 月 Over。</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>2023 黄草梁🏕️</title>
      <link>https://xancoding.cn/posts/2023-05-28-18-28-55/</link>
      <pubDate>Sun, 28 May 2023 18:28:55 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-05-28-18-28-55/</guid>
      <description>&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;
&lt;head&gt;
    &lt;meta name=&#34;viewport&#34; content=&#34;user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js&#34;&gt;&lt;/script&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js&#34;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div data-nanogallery2=&#39;{
	 &#34;thumbnailDisplayTransition&#34;:          &#34;none&#34;,
     &#34;thumbnailDisplayTransitionDuration&#34;:  500,
     &#34;thumbnailDisplayInterval&#34;:            30,
     &#34;galleryDisplayTransition&#34;:            &#34;none&#34;,
     &#34;galleryDisplayTransitionDuration&#34;:    500,
     &#34;galleryDisplayMode&#34;: &#34;rows&#34;,
     &#34;thumbnailDisplayOutsideScreen&#34;: &#34;false&#34;,
     &#34;eventsDebounceDelay&#34;: 10,
     &#34;thumbnailL1BorderHorizontal&#34;: 0,
     &#34;thumbnailL1BorderVertical&#34;: 0,
     &#34;thumbnailLabel&#34;: {
        &#34;titleFontSize&#34;: &#34;0.6em&#34;
     },
     &#34;thumbnailHoverEffect2&#34;: &#34;image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)&#34;,
     &#34;galleryTheme&#34;: {
        &#34;thumbnail&#34;: {
            &#34;borderRadius&#34;: &#34;8px&#34;
        }
     },
     &#34;thumbnailToolbarImage&#34;: {
        &#34;topLeft&#34;: &#34;&#34;,
        &#34;topRight&#34;: &#34;&#34;,
        &#34;bottomLeft&#34;: &#34;&#34;,
        &#34;bottomRight&#34;: &#34;&#34;
     },
     &#34;viewerToolbar&#34;:   {
        &#34;display&#34;: true,
        &#34;standard&#34;: &#34;label&#34;
     },
     &#34;viewerTools&#34;:     {
        &#34;topLeft&#34;:    &#34;pageCounter, playPauseButton&#34;,
        &#34;topRight&#34;:   &#34;downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton&#34;
     },
     &#34;viewerGalleryTWidth&#34;: 40,
     &#34;viewerGalleryTHeight&#34;: 40
}&#39;&gt;
    
&lt;a href=&#34;https://bu.dusays.com/2023/05/28/6473325a5fbf3.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/6473325a5fbf3.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/647332cb6d124.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/647332cb6d124.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/6473325bec851.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/6473325bec851.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/64733265b261c.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/64733265b261c.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/647331fb0a0e4.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/647331fb0a0e4.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/6473336876483.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/6473336876483.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/647333688dccb.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/647333688dccb.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/64733368b5327.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/64733368b5327.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/64733368befa2.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/64733368befa2.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/6473336975ac4.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/6473336975ac4.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/647333e92e1c2.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/647333e92e1c2.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/647333ef27fba.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/647333ef27fba.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/647333ef7b7fc.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/647333ef7b7fc.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/647333f01eb1e.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/647333f01eb1e.jpg&#34;&gt;&lt;/a&gt;


&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

</description>
      <content:encoded><![CDATA[<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js"></script>
</head>
<body>

<div data-nanogallery2='{
	 "thumbnailDisplayTransition":          "none",
     "thumbnailDisplayTransitionDuration":  500,
     "thumbnailDisplayInterval":            30,
     "galleryDisplayTransition":            "none",
     "galleryDisplayTransitionDuration":    500,
     "galleryDisplayMode": "rows",
     "thumbnailDisplayOutsideScreen": "false",
     "eventsDebounceDelay": 10,
     "thumbnailL1BorderHorizontal": 0,
     "thumbnailL1BorderVertical": 0,
     "thumbnailLabel": {
        "titleFontSize": "0.6em"
     },
     "thumbnailHoverEffect2": "image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)",
     "galleryTheme": {
        "thumbnail": {
            "borderRadius": "8px"
        }
     },
     "thumbnailToolbarImage": {
        "topLeft": "",
        "topRight": "",
        "bottomLeft": "",
        "bottomRight": ""
     },
     "viewerToolbar":   {
        "display": true,
        "standard": "label"
     },
     "viewerTools":     {
        "topLeft":    "pageCounter, playPauseButton",
        "topRight":   "downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton"
     },
     "viewerGalleryTWidth": 40,
     "viewerGalleryTHeight": 40
}'>
    
<a href="https://bu.dusays.com/2023/05/28/6473325a5fbf3.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/6473325a5fbf3.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/647332cb6d124.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/647332cb6d124.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/6473325bec851.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/6473325bec851.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/64733265b261c.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/64733265b261c.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/647331fb0a0e4.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/647331fb0a0e4.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/6473336876483.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/6473336876483.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/647333688dccb.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/647333688dccb.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/64733368b5327.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/64733368b5327.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/64733368befa2.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/64733368befa2.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/6473336975ac4.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/6473336975ac4.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/647333e92e1c2.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/647333e92e1c2.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/647333ef27fba.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/647333ef27fba.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/647333ef7b7fc.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/647333ef7b7fc.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/647333f01eb1e.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/647333f01eb1e.jpg"></a>


</div>
</body>
</html>

]]></content:encoded>
    </item>
    
    <item>
      <title>2023 第五十三届公园半程马拉松北京公开赛“北京·亦庄”南海子公园站</title>
      <link>https://xancoding.cn/posts/2023-05-28-18-20-45/</link>
      <pubDate>Sun, 28 May 2023 18:20:45 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-05-28-18-20-45/</guid>
      <description>&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;
&lt;head&gt;
    &lt;meta name=&#34;viewport&#34; content=&#34;user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js&#34;&gt;&lt;/script&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js&#34;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div data-nanogallery2=&#39;{
	 &#34;thumbnailDisplayTransition&#34;:          &#34;none&#34;,
     &#34;thumbnailDisplayTransitionDuration&#34;:  500,
     &#34;thumbnailDisplayInterval&#34;:            30,
     &#34;galleryDisplayTransition&#34;:            &#34;none&#34;,
     &#34;galleryDisplayTransitionDuration&#34;:    500,
     &#34;galleryDisplayMode&#34;: &#34;rows&#34;,
     &#34;thumbnailDisplayOutsideScreen&#34;: &#34;false&#34;,
     &#34;eventsDebounceDelay&#34;: 10,
     &#34;thumbnailL1BorderHorizontal&#34;: 0,
     &#34;thumbnailL1BorderVertical&#34;: 0,
     &#34;thumbnailLabel&#34;: {
        &#34;titleFontSize&#34;: &#34;0.6em&#34;
     },
     &#34;thumbnailHoverEffect2&#34;: &#34;image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)&#34;,
     &#34;galleryTheme&#34;: {
        &#34;thumbnail&#34;: {
            &#34;borderRadius&#34;: &#34;8px&#34;
        }
     },
     &#34;thumbnailToolbarImage&#34;: {
        &#34;topLeft&#34;: &#34;&#34;,
        &#34;topRight&#34;: &#34;&#34;,
        &#34;bottomLeft&#34;: &#34;&#34;,
        &#34;bottomRight&#34;: &#34;&#34;
     },
     &#34;viewerToolbar&#34;:   {
        &#34;display&#34;: true,
        &#34;standard&#34;: &#34;label&#34;
     },
     &#34;viewerTools&#34;:     {
        &#34;topLeft&#34;:    &#34;pageCounter, playPauseButton&#34;,
        &#34;topRight&#34;:   &#34;downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton&#34;
     },
     &#34;viewerGalleryTWidth&#34;: 40,
     &#34;viewerGalleryTHeight&#34;: 40
}&#39;&gt;
    
&lt;a href=&#34;https://bu.dusays.com/2023/05/28/64732bc947f4b.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/64732bc947f4b.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/64732bc925c20.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/64732bc925c20.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/64732bc97b45b.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/64732bc97b45b.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/64732de08257a.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/64732de08257a.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/64732bc0527fc.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/64732bc0527fc.jpg&#34;&gt;&lt;/a&gt;


&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

</description>
      <content:encoded><![CDATA[<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js"></script>
</head>
<body>

<div data-nanogallery2='{
	 "thumbnailDisplayTransition":          "none",
     "thumbnailDisplayTransitionDuration":  500,
     "thumbnailDisplayInterval":            30,
     "galleryDisplayTransition":            "none",
     "galleryDisplayTransitionDuration":    500,
     "galleryDisplayMode": "rows",
     "thumbnailDisplayOutsideScreen": "false",
     "eventsDebounceDelay": 10,
     "thumbnailL1BorderHorizontal": 0,
     "thumbnailL1BorderVertical": 0,
     "thumbnailLabel": {
        "titleFontSize": "0.6em"
     },
     "thumbnailHoverEffect2": "image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)",
     "galleryTheme": {
        "thumbnail": {
            "borderRadius": "8px"
        }
     },
     "thumbnailToolbarImage": {
        "topLeft": "",
        "topRight": "",
        "bottomLeft": "",
        "bottomRight": ""
     },
     "viewerToolbar":   {
        "display": true,
        "standard": "label"
     },
     "viewerTools":     {
        "topLeft":    "pageCounter, playPauseButton",
        "topRight":   "downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton"
     },
     "viewerGalleryTWidth": 40,
     "viewerGalleryTHeight": 40
}'>
    
<a href="https://bu.dusays.com/2023/05/28/64732bc947f4b.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/64732bc947f4b.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/64732bc925c20.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/64732bc925c20.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/64732bc97b45b.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/64732bc97b45b.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/64732de08257a.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/64732de08257a.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/64732bc0527fc.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/64732bc0527fc.jpg"></a>


</div>
</body>
</html>

]]></content:encoded>
    </item>
    
    <item>
      <title>2023 首都高校第九届徒步大会</title>
      <link>https://xancoding.cn/posts/2023-05-28-18-16-39/</link>
      <pubDate>Sun, 28 May 2023 18:16:39 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-05-28-18-16-39/</guid>
      <description>&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;
&lt;head&gt;
    &lt;meta name=&#34;viewport&#34; content=&#34;user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js&#34;&gt;&lt;/script&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js&#34;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div data-nanogallery2=&#39;{
	 &#34;thumbnailDisplayTransition&#34;:          &#34;none&#34;,
     &#34;thumbnailDisplayTransitionDuration&#34;:  500,
     &#34;thumbnailDisplayInterval&#34;:            30,
     &#34;galleryDisplayTransition&#34;:            &#34;none&#34;,
     &#34;galleryDisplayTransitionDuration&#34;:    500,
     &#34;galleryDisplayMode&#34;: &#34;rows&#34;,
     &#34;thumbnailDisplayOutsideScreen&#34;: &#34;false&#34;,
     &#34;eventsDebounceDelay&#34;: 10,
     &#34;thumbnailL1BorderHorizontal&#34;: 0,
     &#34;thumbnailL1BorderVertical&#34;: 0,
     &#34;thumbnailLabel&#34;: {
        &#34;titleFontSize&#34;: &#34;0.6em&#34;
     },
     &#34;thumbnailHoverEffect2&#34;: &#34;image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)&#34;,
     &#34;galleryTheme&#34;: {
        &#34;thumbnail&#34;: {
            &#34;borderRadius&#34;: &#34;8px&#34;
        }
     },
     &#34;thumbnailToolbarImage&#34;: {
        &#34;topLeft&#34;: &#34;&#34;,
        &#34;topRight&#34;: &#34;&#34;,
        &#34;bottomLeft&#34;: &#34;&#34;,
        &#34;bottomRight&#34;: &#34;&#34;
     },
     &#34;viewerToolbar&#34;:   {
        &#34;display&#34;: true,
        &#34;standard&#34;: &#34;label&#34;
     },
     &#34;viewerTools&#34;:     {
        &#34;topLeft&#34;:    &#34;pageCounter, playPauseButton&#34;,
        &#34;topRight&#34;:   &#34;downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton&#34;
     },
     &#34;viewerGalleryTWidth&#34;: 40,
     &#34;viewerGalleryTHeight&#34;: 40
}&#39;&gt;
    
&lt;a href=&#34;https://bu.dusays.com/2023/05/28/64732accc98e9.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/64732accc98e9.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/64732accc9a30.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/64732accc9a30.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/64732accc916f.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/64732accc916f.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/64732accc9be9.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/64732accc9be9.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/64732accd061d.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/64732accd061d.jpg&#34;&gt;&lt;/a&gt;


&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

</description>
      <content:encoded><![CDATA[<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js"></script>
</head>
<body>

<div data-nanogallery2='{
	 "thumbnailDisplayTransition":          "none",
     "thumbnailDisplayTransitionDuration":  500,
     "thumbnailDisplayInterval":            30,
     "galleryDisplayTransition":            "none",
     "galleryDisplayTransitionDuration":    500,
     "galleryDisplayMode": "rows",
     "thumbnailDisplayOutsideScreen": "false",
     "eventsDebounceDelay": 10,
     "thumbnailL1BorderHorizontal": 0,
     "thumbnailL1BorderVertical": 0,
     "thumbnailLabel": {
        "titleFontSize": "0.6em"
     },
     "thumbnailHoverEffect2": "image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)",
     "galleryTheme": {
        "thumbnail": {
            "borderRadius": "8px"
        }
     },
     "thumbnailToolbarImage": {
        "topLeft": "",
        "topRight": "",
        "bottomLeft": "",
        "bottomRight": ""
     },
     "viewerToolbar":   {
        "display": true,
        "standard": "label"
     },
     "viewerTools":     {
        "topLeft":    "pageCounter, playPauseButton",
        "topRight":   "downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton"
     },
     "viewerGalleryTWidth": 40,
     "viewerGalleryTHeight": 40
}'>
    
<a href="https://bu.dusays.com/2023/05/28/64732accc98e9.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/64732accc98e9.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/64732accc9a30.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/64732accc9a30.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/64732accc916f.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/64732accc916f.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/64732accc9be9.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/64732accc9be9.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/64732accd061d.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/64732accd061d.jpg"></a>


</div>
</body>
</html>

]]></content:encoded>
    </item>
    
    <item>
      <title>2023 “拉卡拉杯”北京大学第十五届 5&#43;2 半程马拉松接力赛</title>
      <link>https://xancoding.cn/posts/2023-05-28-17-57-01/</link>
      <pubDate>Sun, 28 May 2023 17:57:01 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-05-28-17-57-01/</guid>
      <description>&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;
&lt;head&gt;
    &lt;meta name=&#34;viewport&#34; content=&#34;user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js&#34;&gt;&lt;/script&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js&#34;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div data-nanogallery2=&#39;{
	 &#34;thumbnailDisplayTransition&#34;:          &#34;none&#34;,
     &#34;thumbnailDisplayTransitionDuration&#34;:  500,
     &#34;thumbnailDisplayInterval&#34;:            30,
     &#34;galleryDisplayTransition&#34;:            &#34;none&#34;,
     &#34;galleryDisplayTransitionDuration&#34;:    500,
     &#34;galleryDisplayMode&#34;: &#34;rows&#34;,
     &#34;thumbnailDisplayOutsideScreen&#34;: &#34;false&#34;,
     &#34;eventsDebounceDelay&#34;: 10,
     &#34;thumbnailL1BorderHorizontal&#34;: 0,
     &#34;thumbnailL1BorderVertical&#34;: 0,
     &#34;thumbnailLabel&#34;: {
        &#34;titleFontSize&#34;: &#34;0.6em&#34;
     },
     &#34;thumbnailHoverEffect2&#34;: &#34;image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)&#34;,
     &#34;galleryTheme&#34;: {
        &#34;thumbnail&#34;: {
            &#34;borderRadius&#34;: &#34;8px&#34;
        }
     },
     &#34;thumbnailToolbarImage&#34;: {
        &#34;topLeft&#34;: &#34;&#34;,
        &#34;topRight&#34;: &#34;&#34;,
        &#34;bottomLeft&#34;: &#34;&#34;,
        &#34;bottomRight&#34;: &#34;&#34;
     },
     &#34;viewerToolbar&#34;:   {
        &#34;display&#34;: true,
        &#34;standard&#34;: &#34;label&#34;
     },
     &#34;viewerTools&#34;:     {
        &#34;topLeft&#34;:    &#34;pageCounter, playPauseButton&#34;,
        &#34;topRight&#34;:   &#34;downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton&#34;
     },
     &#34;viewerGalleryTWidth&#34;: 40,
     &#34;viewerGalleryTHeight&#34;: 40
}&#39;&gt;
    
&lt;a href=&#34;https://bu.dusays.com/2023/05/28/6473273a2e47d.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/6473273a2e47d.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/6473273cb341e.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/6473273cb341e.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/64732753a6d1b.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/64732753a6d1b.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/6473273aad39e.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/6473273aad39e.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/6473275a503b1.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/6473275a503b1.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/6473275a3c22f.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/6473275a3c22f.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/6473275aa076c.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/6473275aa076c.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/64732757a2e7f.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/64732757a2e7f.jpg&#34;&gt;&lt;/a&gt;


&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

</description>
      <content:encoded><![CDATA[<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js"></script>
</head>
<body>

<div data-nanogallery2='{
	 "thumbnailDisplayTransition":          "none",
     "thumbnailDisplayTransitionDuration":  500,
     "thumbnailDisplayInterval":            30,
     "galleryDisplayTransition":            "none",
     "galleryDisplayTransitionDuration":    500,
     "galleryDisplayMode": "rows",
     "thumbnailDisplayOutsideScreen": "false",
     "eventsDebounceDelay": 10,
     "thumbnailL1BorderHorizontal": 0,
     "thumbnailL1BorderVertical": 0,
     "thumbnailLabel": {
        "titleFontSize": "0.6em"
     },
     "thumbnailHoverEffect2": "image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)",
     "galleryTheme": {
        "thumbnail": {
            "borderRadius": "8px"
        }
     },
     "thumbnailToolbarImage": {
        "topLeft": "",
        "topRight": "",
        "bottomLeft": "",
        "bottomRight": ""
     },
     "viewerToolbar":   {
        "display": true,
        "standard": "label"
     },
     "viewerTools":     {
        "topLeft":    "pageCounter, playPauseButton",
        "topRight":   "downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton"
     },
     "viewerGalleryTWidth": 40,
     "viewerGalleryTHeight": 40
}'>
    
<a href="https://bu.dusays.com/2023/05/28/6473273a2e47d.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/6473273a2e47d.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/6473273cb341e.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/6473273cb341e.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/64732753a6d1b.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/64732753a6d1b.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/6473273aad39e.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/6473273aad39e.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/6473275a503b1.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/6473275a503b1.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/6473275a3c22f.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/6473275a3c22f.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/6473275aa076c.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/6473275aa076c.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/64732757a2e7f.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/64732757a2e7f.jpg"></a>


</div>
</body>
</html>

]]></content:encoded>
    </item>
    
    <item>
      <title>2022贝壳北京马拉松志愿者</title>
      <link>https://xancoding.cn/posts/2023-05-28-17-50-50/</link>
      <pubDate>Sun, 28 May 2023 17:50:51 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-05-28-17-50-50/</guid>
      <description>&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;
&lt;head&gt;
    &lt;meta name=&#34;viewport&#34; content=&#34;user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js&#34;&gt;&lt;/script&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js&#34;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div data-nanogallery2=&#39;{
	 &#34;thumbnailDisplayTransition&#34;:          &#34;none&#34;,
     &#34;thumbnailDisplayTransitionDuration&#34;:  500,
     &#34;thumbnailDisplayInterval&#34;:            30,
     &#34;galleryDisplayTransition&#34;:            &#34;none&#34;,
     &#34;galleryDisplayTransitionDuration&#34;:    500,
     &#34;galleryDisplayMode&#34;: &#34;rows&#34;,
     &#34;thumbnailDisplayOutsideScreen&#34;: &#34;false&#34;,
     &#34;eventsDebounceDelay&#34;: 10,
     &#34;thumbnailL1BorderHorizontal&#34;: 0,
     &#34;thumbnailL1BorderVertical&#34;: 0,
     &#34;thumbnailLabel&#34;: {
        &#34;titleFontSize&#34;: &#34;0.6em&#34;
     },
     &#34;thumbnailHoverEffect2&#34;: &#34;image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)&#34;,
     &#34;galleryTheme&#34;: {
        &#34;thumbnail&#34;: {
            &#34;borderRadius&#34;: &#34;8px&#34;
        }
     },
     &#34;thumbnailToolbarImage&#34;: {
        &#34;topLeft&#34;: &#34;&#34;,
        &#34;topRight&#34;: &#34;&#34;,
        &#34;bottomLeft&#34;: &#34;&#34;,
        &#34;bottomRight&#34;: &#34;&#34;
     },
     &#34;viewerToolbar&#34;:   {
        &#34;display&#34;: true,
        &#34;standard&#34;: &#34;label&#34;
     },
     &#34;viewerTools&#34;:     {
        &#34;topLeft&#34;:    &#34;pageCounter, playPauseButton&#34;,
        &#34;topRight&#34;:   &#34;downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton&#34;
     },
     &#34;viewerGalleryTWidth&#34;: 40,
     &#34;viewerGalleryTHeight&#34;: 40
}&#39;&gt;
    
&lt;a href=&#34;https://bu.dusays.com/2023/05/28/6473247820848.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/6473247820848.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/6473249709bc5.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/6473249709bc5.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/6473249f6945a.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/6473249f6945a.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/647324bc243cf.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/647324bc243cf.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/647324b3f1e66.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/647324b3f1e66.jpg&#34;&gt;&lt;/a&gt;


&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

</description>
      <content:encoded><![CDATA[<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js"></script>
</head>
<body>

<div data-nanogallery2='{
	 "thumbnailDisplayTransition":          "none",
     "thumbnailDisplayTransitionDuration":  500,
     "thumbnailDisplayInterval":            30,
     "galleryDisplayTransition":            "none",
     "galleryDisplayTransitionDuration":    500,
     "galleryDisplayMode": "rows",
     "thumbnailDisplayOutsideScreen": "false",
     "eventsDebounceDelay": 10,
     "thumbnailL1BorderHorizontal": 0,
     "thumbnailL1BorderVertical": 0,
     "thumbnailLabel": {
        "titleFontSize": "0.6em"
     },
     "thumbnailHoverEffect2": "image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)",
     "galleryTheme": {
        "thumbnail": {
            "borderRadius": "8px"
        }
     },
     "thumbnailToolbarImage": {
        "topLeft": "",
        "topRight": "",
        "bottomLeft": "",
        "bottomRight": ""
     },
     "viewerToolbar":   {
        "display": true,
        "standard": "label"
     },
     "viewerTools":     {
        "topLeft":    "pageCounter, playPauseButton",
        "topRight":   "downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton"
     },
     "viewerGalleryTWidth": 40,
     "viewerGalleryTHeight": 40
}'>
    
<a href="https://bu.dusays.com/2023/05/28/6473247820848.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/6473247820848.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/6473249709bc5.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/6473249709bc5.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/6473249f6945a.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/6473249f6945a.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/647324bc243cf.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/647324bc243cf.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/647324b3f1e66.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/647324b3f1e66.jpg"></a>


</div>
</body>
</html>

]]></content:encoded>
    </item>
    
    <item>
      <title>2022 adidas ADIZERO SUMMIT 北马训练营</title>
      <link>https://xancoding.cn/posts/2023-05-28-17-13-05/</link>
      <pubDate>Sun, 28 May 2023 17:13:06 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-05-28-17-13-05/</guid>
      <description>&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;
&lt;head&gt;
    &lt;meta name=&#34;viewport&#34; content=&#34;user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js&#34;&gt;&lt;/script&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js&#34;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div data-nanogallery2=&#39;{
	 &#34;thumbnailDisplayTransition&#34;:          &#34;none&#34;,
     &#34;thumbnailDisplayTransitionDuration&#34;:  500,
     &#34;thumbnailDisplayInterval&#34;:            30,
     &#34;galleryDisplayTransition&#34;:            &#34;none&#34;,
     &#34;galleryDisplayTransitionDuration&#34;:    500,
     &#34;galleryDisplayMode&#34;: &#34;rows&#34;,
     &#34;thumbnailDisplayOutsideScreen&#34;: &#34;false&#34;,
     &#34;eventsDebounceDelay&#34;: 10,
     &#34;thumbnailL1BorderHorizontal&#34;: 0,
     &#34;thumbnailL1BorderVertical&#34;: 0,
     &#34;thumbnailLabel&#34;: {
        &#34;titleFontSize&#34;: &#34;0.6em&#34;
     },
     &#34;thumbnailHoverEffect2&#34;: &#34;image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)&#34;,
     &#34;galleryTheme&#34;: {
        &#34;thumbnail&#34;: {
            &#34;borderRadius&#34;: &#34;8px&#34;
        }
     },
     &#34;thumbnailToolbarImage&#34;: {
        &#34;topLeft&#34;: &#34;&#34;,
        &#34;topRight&#34;: &#34;&#34;,
        &#34;bottomLeft&#34;: &#34;&#34;,
        &#34;bottomRight&#34;: &#34;&#34;
     },
     &#34;viewerToolbar&#34;:   {
        &#34;display&#34;: true,
        &#34;standard&#34;: &#34;label&#34;
     },
     &#34;viewerTools&#34;:     {
        &#34;topLeft&#34;:    &#34;pageCounter, playPauseButton&#34;,
        &#34;topRight&#34;:   &#34;downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton&#34;
     },
     &#34;viewerGalleryTWidth&#34;: 40,
     &#34;viewerGalleryTHeight&#34;: 40
}&#39;&gt;
    
&lt;a href=&#34;https://bu.dusays.com/2023/05/28/6473210c7b543.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/6473210c7b543.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/647320f8b01bc.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/647320f8b01bc.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/6473227a0b870.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/6473227a0b870.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/647320e3a7335.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/647320e3a7335.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/6473213643497.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/6473213643497.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/6473213b38965.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/6473213b38965.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/6473213fa9ac1.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/6473213fa9ac1.jpg&#34;&gt;&lt;/a&gt;


&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

</description>
      <content:encoded><![CDATA[<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js"></script>
</head>
<body>

<div data-nanogallery2='{
	 "thumbnailDisplayTransition":          "none",
     "thumbnailDisplayTransitionDuration":  500,
     "thumbnailDisplayInterval":            30,
     "galleryDisplayTransition":            "none",
     "galleryDisplayTransitionDuration":    500,
     "galleryDisplayMode": "rows",
     "thumbnailDisplayOutsideScreen": "false",
     "eventsDebounceDelay": 10,
     "thumbnailL1BorderHorizontal": 0,
     "thumbnailL1BorderVertical": 0,
     "thumbnailLabel": {
        "titleFontSize": "0.6em"
     },
     "thumbnailHoverEffect2": "image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)",
     "galleryTheme": {
        "thumbnail": {
            "borderRadius": "8px"
        }
     },
     "thumbnailToolbarImage": {
        "topLeft": "",
        "topRight": "",
        "bottomLeft": "",
        "bottomRight": ""
     },
     "viewerToolbar":   {
        "display": true,
        "standard": "label"
     },
     "viewerTools":     {
        "topLeft":    "pageCounter, playPauseButton",
        "topRight":   "downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton"
     },
     "viewerGalleryTWidth": 40,
     "viewerGalleryTHeight": 40
}'>
    
<a href="https://bu.dusays.com/2023/05/28/6473210c7b543.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/6473210c7b543.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/647320f8b01bc.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/647320f8b01bc.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/6473227a0b870.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/6473227a0b870.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/647320e3a7335.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/647320e3a7335.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/6473213643497.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/6473213643497.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/6473213b38965.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/6473213b38965.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/6473213fa9ac1.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/6473213fa9ac1.jpg"></a>


</div>
</body>
</html>

]]></content:encoded>
    </item>
    
    <item>
      <title>2023 唐山马拉松</title>
      <link>https://xancoding.cn/posts/2023-05-21-07-27-22/</link>
      <pubDate>Sun, 21 May 2023 07:27:22 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-05-21-07-27-22/</guid>
      <description>&lt;p&gt;开始的 10 km状态还行（毕竟跑的也不快😜），在 11 km左右的时候，旧伤复发，脚踝开始隐隐作痛，速度往下掉，在 6分配左右徘徊。目标是安全完赛，脚痛速度也加不起来，完赛预计时间也从开跑前的 4h 一路降到 4h20min。心率一直是保持在一个比较低的水平，配速还有到过 7 分配。不过整体还是满意的啦，可以顺利完赛已经很棒了🥰。（PS:刚跑完就走路的时候就已经是一瘸一拐的，接下来几天就慢慢修养生息好了😴）
&lt;!DOCTYPE HTML&gt;
&lt;html lang=&#34;en&#34;&gt;
&lt;head&gt;
    &lt;style type=&#34;text/css&#34;&gt;
        .bilibili_shortcodes {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 66%;
            margin: auto;
            overflow: hidden;
            text-align: center;
        }
        .bilibili_shortcodes iframe {
            position: absolute;
            width: 100%;
            height: 100%;
            left: 0;
            top: 0;
        }
    &lt;/style&gt;
    &lt;title&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class=&#34;bilibili_shortcodes&#34;&gt;
    &lt;iframe
            src=&#34;https://player.bilibili.com/player.html?bvid=BV1TX4y1h7fh&amp;page=1&amp;high_quality=1&amp;danmaku=0&amp;as_wide=0&#34;
            scrolling=&#34;no&#34;
            border=&#34;0&#34;
            frameborder=&#34;no&#34;
            framespacing=&#34;0&#34;
            allowfullscreen=&#34;true&#34;
    &gt;
    &lt;/iframe&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;
&lt;head&gt;
    &lt;meta name=&#34;viewport&#34; content=&#34;user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js&#34;&gt;&lt;/script&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js&#34;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div data-nanogallery2=&#39;{
	 &#34;thumbnailDisplayTransition&#34;:          &#34;none&#34;,
     &#34;thumbnailDisplayTransitionDuration&#34;:  500,
     &#34;thumbnailDisplayInterval&#34;:            30,
     &#34;galleryDisplayTransition&#34;:            &#34;none&#34;,
     &#34;galleryDisplayTransitionDuration&#34;:    500,
     &#34;galleryDisplayMode&#34;: &#34;rows&#34;,
     &#34;thumbnailDisplayOutsideScreen&#34;: &#34;false&#34;,
     &#34;eventsDebounceDelay&#34;: 10,
     &#34;thumbnailL1BorderHorizontal&#34;: 0,
     &#34;thumbnailL1BorderVertical&#34;: 0,
     &#34;thumbnailLabel&#34;: {
        &#34;titleFontSize&#34;: &#34;0.6em&#34;
     },
     &#34;thumbnailHoverEffect2&#34;: &#34;image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)&#34;,
     &#34;galleryTheme&#34;: {
        &#34;thumbnail&#34;: {
            &#34;borderRadius&#34;: &#34;8px&#34;
        }
     },
     &#34;thumbnailToolbarImage&#34;: {
        &#34;topLeft&#34;: &#34;&#34;,
        &#34;topRight&#34;: &#34;&#34;,
        &#34;bottomLeft&#34;: &#34;&#34;,
        &#34;bottomRight&#34;: &#34;&#34;
     },
     &#34;viewerToolbar&#34;:   {
        &#34;display&#34;: true,
        &#34;standard&#34;: &#34;label&#34;
     },
     &#34;viewerTools&#34;:     {
        &#34;topLeft&#34;:    &#34;pageCounter, playPauseButton&#34;,
        &#34;topRight&#34;:   &#34;downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton&#34;
     },
     &#34;viewerGalleryTWidth&#34;: 40,
     &#34;viewerGalleryTHeight&#34;: 40
}&#39;&gt;
    
&lt;a href=&#34;https://bu.dusays.com/2023/05/22/646aa963ac028.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/22/646aa963ac028.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/64732929da307.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/64732929da307.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/22/646aa97bd3321.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/22/646aa97bd3321.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/22/646aa98d66fa6.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/22/646aa98d66fa6.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/22/646aa98fa4d60.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/22/646aa98fa4d60.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/22/646aa991c62be.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/22/646aa991c62be.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/6473293512176.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/6473293512176.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/28/647329352a186.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/28/647329352a186.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/22/646aa99452419.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/22/646aa99452419.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/22/646b0bb918f82.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/22/646b0bb918f82.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/05/22/646aa99795e09.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/05/22/646aa99795e09.jpg&#34;&gt;&lt;/a&gt;


&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<p>开始的 10 km状态还行（毕竟跑的也不快😜），在 11 km左右的时候，旧伤复发，脚踝开始隐隐作痛，速度往下掉，在 6分配左右徘徊。目标是安全完赛，脚痛速度也加不起来，完赛预计时间也从开跑前的 4h 一路降到 4h20min。心率一直是保持在一个比较低的水平，配速还有到过 7 分配。不过整体还是满意的啦，可以顺利完赛已经很棒了🥰。（PS:刚跑完就走路的时候就已经是一瘸一拐的，接下来几天就慢慢修养生息好了😴）
<!DOCTYPE HTML>
<html lang="en">
<head>
    <style type="text/css">
        .bilibili_shortcodes {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 66%;
            margin: auto;
            overflow: hidden;
            text-align: center;
        }
        .bilibili_shortcodes iframe {
            position: absolute;
            width: 100%;
            height: 100%;
            left: 0;
            top: 0;
        }
    </style>
    <title></title>
</head>
<body>
<div class="bilibili_shortcodes">
    <iframe
            src="https://player.bilibili.com/player.html?bvid=BV1TX4y1h7fh&page=1&high_quality=1&danmaku=0&as_wide=0"
            scrolling="no"
            border="0"
            frameborder="no"
            framespacing="0"
            allowfullscreen="true"
    >
    </iframe>
</div>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js"></script>
</head>
<body>

<div data-nanogallery2='{
	 "thumbnailDisplayTransition":          "none",
     "thumbnailDisplayTransitionDuration":  500,
     "thumbnailDisplayInterval":            30,
     "galleryDisplayTransition":            "none",
     "galleryDisplayTransitionDuration":    500,
     "galleryDisplayMode": "rows",
     "thumbnailDisplayOutsideScreen": "false",
     "eventsDebounceDelay": 10,
     "thumbnailL1BorderHorizontal": 0,
     "thumbnailL1BorderVertical": 0,
     "thumbnailLabel": {
        "titleFontSize": "0.6em"
     },
     "thumbnailHoverEffect2": "image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)",
     "galleryTheme": {
        "thumbnail": {
            "borderRadius": "8px"
        }
     },
     "thumbnailToolbarImage": {
        "topLeft": "",
        "topRight": "",
        "bottomLeft": "",
        "bottomRight": ""
     },
     "viewerToolbar":   {
        "display": true,
        "standard": "label"
     },
     "viewerTools":     {
        "topLeft":    "pageCounter, playPauseButton",
        "topRight":   "downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton"
     },
     "viewerGalleryTWidth": 40,
     "viewerGalleryTHeight": 40
}'>
    
<a href="https://bu.dusays.com/2023/05/22/646aa963ac028.jpg" data-ngThumb="https://bu.dusays.com/2023/05/22/646aa963ac028.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/64732929da307.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/64732929da307.jpg"></a>

<a href="https://bu.dusays.com/2023/05/22/646aa97bd3321.jpg" data-ngThumb="https://bu.dusays.com/2023/05/22/646aa97bd3321.jpg"></a>

<a href="https://bu.dusays.com/2023/05/22/646aa98d66fa6.jpg" data-ngThumb="https://bu.dusays.com/2023/05/22/646aa98d66fa6.jpg"></a>

<a href="https://bu.dusays.com/2023/05/22/646aa98fa4d60.jpg" data-ngThumb="https://bu.dusays.com/2023/05/22/646aa98fa4d60.jpg"></a>

<a href="https://bu.dusays.com/2023/05/22/646aa991c62be.jpg" data-ngThumb="https://bu.dusays.com/2023/05/22/646aa991c62be.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/6473293512176.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/6473293512176.jpg"></a>

<a href="https://bu.dusays.com/2023/05/28/647329352a186.jpg" data-ngThumb="https://bu.dusays.com/2023/05/28/647329352a186.jpg"></a>

<a href="https://bu.dusays.com/2023/05/22/646aa99452419.jpg" data-ngThumb="https://bu.dusays.com/2023/05/22/646aa99452419.jpg"></a>

<a href="https://bu.dusays.com/2023/05/22/646b0bb918f82.jpg" data-ngThumb="https://bu.dusays.com/2023/05/22/646b0bb918f82.jpg"></a>

<a href="https://bu.dusays.com/2023/05/22/646aa99795e09.jpg" data-ngThumb="https://bu.dusays.com/2023/05/22/646aa99795e09.jpg"></a>


</div>
</body>
</html>
</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>ICS-PA</title>
      <link>https://xancoding.cn/posts/2023-05-08-17-40-45/</link>
      <pubDate>Mon, 08 May 2023 17:40:45 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-05-08-17-40-45/</guid>
      <description>&lt;h1 id=&#34;pa0---世界诞生的前夜-开发环境配置&#34;&gt;PA0 - 世界诞生的前夜: 开发环境配置&lt;/h1&gt;
&lt;p&gt;在执行下述命令：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;apt-get install libsdl2-dev        # a library used later
apt-get install llvm llvm-dev      # llvm project, which contains libraries used later
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;发现缺少依赖&lt;/p&gt;
&lt;p&gt;执行下述命令，仍然没有效果&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;apt-get update
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;在 &lt;code&gt;RTFM&lt;/code&gt; 后，发现是镜像源的问题，更改镜像源后，再次进行操作，发现可以成功安装&lt;/p&gt;
&lt;h1 id=&#34;pa1---开天辟地的篇章最简单的计算机&#34;&gt;PA1 - 开天辟地的篇章：最简单的计算机&lt;/h1&gt;
&lt;h2 id=&#34;在开始愉快的pa之旅之前&#34;&gt;在开始愉快的PA之旅之前&lt;/h2&gt;
&lt;p&gt;开头简简单单的运行一个已经完成的 &lt;a href=&#34;https://github.com/NJU-ProjectN/fceux-am&#34;&gt;红白机模拟器项目FCEUX&lt;/a&gt; ，前前后后就搞了一个多小时，出师未捷身先死了属于是。果然还是没有 &lt;code&gt;RTFM&lt;/code&gt; 的锅。问题是这样的：我在 PA0 里配置的环境变量是 &lt;code&gt;bash&lt;/code&gt; 的，而之后我又将我的 &lt;code&gt;Shell&lt;/code&gt; 从 &lt;code&gt;bash&lt;/code&gt; 更换到了 &lt;code&gt;zsh&lt;/code&gt;，却没有重新配置环境变量。而 &lt;code&gt;Makefile&lt;/code&gt; 中的 &lt;code&gt;AM_HOME&lt;/code&gt; 实际上使用了 系统环境变量，所以我无法将程序跑起来。&lt;/p&gt;
&lt;p&gt;解决方法：在 &lt;code&gt;.zshrc&lt;/code&gt; 下手动加入环境变量的配置&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;export NEMU_HOME=/home/xan/Desktop/ics2022/nemu                                                                                                                                     

export AM_HOME=/home/xan/Desktop/ics2022/abstract-machine
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;然后，在命令行界面运行命令 &lt;code&gt;source ./.zshrc&lt;/code&gt; 即可&lt;/p&gt;
&lt;p&gt;最后再放一下成功运行马里奥的界面😁

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2023/05/24/646d92399c89d.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2023/05/24/646d92399c89d.png&#34; alt=&#34;image.png&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/p&gt;
&lt;p&gt;在配置 &lt;code&gt;ccache&lt;/code&gt; 的时候又粗心了，&lt;code&gt;.zshrc&lt;/code&gt; 中的 &lt;code&gt;export PATH=&amp;quot;/usr/lib/ccache:$PATH&amp;quot;&lt;/code&gt;，楞是写成了 &lt;code&gt;export PATH=&amp;quot;/usr/lib/cache:$PATH&lt;/code&gt;，怪不得总是不行。好在折腾了一个来小时后，终于成功发现，修改后果然成功

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2023/05/24/646da78b2639c.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2023/05/24/646da78b2639c.png&#34; alt=&#34;image.png&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/p&gt;
&lt;h2 id=&#34;rtfsc&#34;&gt;RTFSC&lt;/h2&gt;
&lt;p&gt;
&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2023/05/24/646e2c11edb4f.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2023/05/24/646e2c11edb4f.png&#34; alt=&#34;image.png&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;


在解决上述问题的时候，偷了下懒，直接去网上🔍思路，看别人找问题看源码的过程，感觉还是挺妙的。下次还得是自己去解决，这样才会有更多的收获，相信自己能做到的💪。下文是出问题的地方的修改&amp;amp;&amp;amp;解决完后的界面。

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2023/05/24/646e2bfe4d301.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2023/05/24/646e2bfe4d301.png&#34; alt=&#34;image.png&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/p&gt;
&lt;h2 id=&#34;基础设施&#34;&gt;基础设施&lt;/h2&gt;
&lt;p&gt;
&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2023/06/19/648fb9388e67c.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2023/06/19/648fb9388e67c.png&#34; alt=&#34;image.png&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;


前面几个还是认真自己完成的，后面碰到困难又忍不住去参考别人的代码了🤡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;记于 2023-06-26-00-15，发现正确的食用方式是先看习题课视频，再同时完成 ICS-PA，先把视频补上，过两天再来继续做🥰&lt;/li&gt;
&lt;li&gt;记于 2023-06-29，再次看了看学术诚信，一定要记得遵守，每一次的偷懒都会在之后还回来的，只有坚持着自己去 debug，才能得到锻炼，不要忘记自己为什么要去选择做 ICS-PA🦾&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;表达式求值&#34;&gt;表达式求值&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;2023-07-09-22-42，前面几天零零总总的去把视频课补了补，阅读了些许工具的手册，配置了我的 &lt;code&gt;vim&lt;/code&gt;，学习掌握了一些好用的命令行工具。写代码也是今天昨天两天，是比较高效的，感觉自己又可以了💪明天继续完善表达式生成器，生成测试用例自动测试，再根据测试改一改我的代码&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2023/07/10/64ab70b86dd31.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2023/07/10/64ab70b86dd31.png&#34; alt=&#34;image.png&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/p&gt;
&lt;p&gt;关于如何测试你的代码这一部分，有一些细节的问题：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 如何保证表达式进行无符号运算?&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 如何随机插入空格?&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 如何生成长表达式, 同时不会使&lt;code&gt;buf&lt;/code&gt;溢出?&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 如何过滤求值过程中有除0行为的表达式?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;其中，保证表达式进行无符号运算这一部分，即保证运算时不出现整形溢出挺难实现的。&lt;strong&gt;将表达式计算结果出现的整形溢出情况，以及子表达式计算过程中产生的溢出情况筛选掉&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;我先把这部分放一放，之后再来处理处理&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;2023-07-10 大体上已经是完成了，感觉还是比较满意的，看来我还是可以坚持着写下去的么hh🥰 不过先去学一学 &lt;code&gt;pyG&lt;/code&gt;，&lt;code&gt;ICS-PA&lt;/code&gt; 过段时间再做。之前一直是在 &lt;code&gt;vim&lt;/code&gt; 里写的，今天下午把 &lt;code&gt;VSCode&lt;/code&gt; 的配置总算是搞完了，在 &lt;code&gt;VSCode&lt;/code&gt; 里下载了 &lt;code&gt;Vim&lt;/code&gt; 插件，下次做起来也会轻松许多了，就是有点奇怪， &lt;code&gt;engine_start()&lt;/code&gt; 里面的程序不知道如通过GDB调试，目前还是得用 &lt;code&gt;make gdb&lt;/code&gt; 来调试。感觉最近写的比较吃力，还是先放放，等之后有空了再继续写写。下面是 &lt;code&gt;VSCode&lt;/code&gt; 的部分命令：
&lt;ul&gt;
&lt;li&gt;F9 断点，F5 调试&lt;/li&gt;
&lt;li&gt;Ctrl+Shift+B，运行 &lt;code&gt;nemu&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
      <content:encoded><![CDATA[<h1 id="pa0---世界诞生的前夜-开发环境配置">PA0 - 世界诞生的前夜: 开发环境配置</h1>
<p>在执行下述命令：</p>
<pre tabindex="0"><code>apt-get install libsdl2-dev        # a library used later
apt-get install llvm llvm-dev      # llvm project, which contains libraries used later
</code></pre><p>发现缺少依赖</p>
<p>执行下述命令，仍然没有效果</p>
<pre tabindex="0"><code>apt-get update
</code></pre><p>在 <code>RTFM</code> 后，发现是镜像源的问题，更改镜像源后，再次进行操作，发现可以成功安装</p>
<h1 id="pa1---开天辟地的篇章最简单的计算机">PA1 - 开天辟地的篇章：最简单的计算机</h1>
<h2 id="在开始愉快的pa之旅之前">在开始愉快的PA之旅之前</h2>
<p>开头简简单单的运行一个已经完成的 <a href="https://github.com/NJU-ProjectN/fceux-am">红白机模拟器项目FCEUX</a> ，前前后后就搞了一个多小时，出师未捷身先死了属于是。果然还是没有 <code>RTFM</code> 的锅。问题是这样的：我在 PA0 里配置的环境变量是 <code>bash</code> 的，而之后我又将我的 <code>Shell</code> 从 <code>bash</code> 更换到了 <code>zsh</code>，却没有重新配置环境变量。而 <code>Makefile</code> 中的 <code>AM_HOME</code> 实际上使用了 系统环境变量，所以我无法将程序跑起来。</p>
<p>解决方法：在 <code>.zshrc</code> 下手动加入环境变量的配置</p>
<pre tabindex="0"><code>export NEMU_HOME=/home/xan/Desktop/ics2022/nemu                                                                                                                                     

export AM_HOME=/home/xan/Desktop/ics2022/abstract-machine
</code></pre><p>然后，在命令行界面运行命令 <code>source ./.zshrc</code> 即可</p>
<p>最后再放一下成功运行马里奥的界面😁

<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2023/05/24/646d92399c89d.png">
<img src="https://bu.dusays.com/2023/05/24/646d92399c89d.png" alt="image.png"  />
</a>
</div>

</p>
<p>在配置 <code>ccache</code> 的时候又粗心了，<code>.zshrc</code> 中的 <code>export PATH=&quot;/usr/lib/ccache:$PATH&quot;</code>，楞是写成了 <code>export PATH=&quot;/usr/lib/cache:$PATH</code>，怪不得总是不行。好在折腾了一个来小时后，终于成功发现，修改后果然成功

<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2023/05/24/646da78b2639c.png">
<img src="https://bu.dusays.com/2023/05/24/646da78b2639c.png" alt="image.png"  />
</a>
</div>

</p>
<h2 id="rtfsc">RTFSC</h2>
<p>
<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2023/05/24/646e2c11edb4f.png">
<img src="https://bu.dusays.com/2023/05/24/646e2c11edb4f.png" alt="image.png"  />
</a>
</div>


在解决上述问题的时候，偷了下懒，直接去网上🔍思路，看别人找问题看源码的过程，感觉还是挺妙的。下次还得是自己去解决，这样才会有更多的收获，相信自己能做到的💪。下文是出问题的地方的修改&amp;&amp;解决完后的界面。

<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2023/05/24/646e2bfe4d301.png">
<img src="https://bu.dusays.com/2023/05/24/646e2bfe4d301.png" alt="image.png"  />
</a>
</div>

</p>
<h2 id="基础设施">基础设施</h2>
<p>
<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2023/06/19/648fb9388e67c.png">
<img src="https://bu.dusays.com/2023/06/19/648fb9388e67c.png" alt="image.png"  />
</a>
</div>


前面几个还是认真自己完成的，后面碰到困难又忍不住去参考别人的代码了🤡</p>
<ul>
<li>记于 2023-06-26-00-15，发现正确的食用方式是先看习题课视频，再同时完成 ICS-PA，先把视频补上，过两天再来继续做🥰</li>
<li>记于 2023-06-29，再次看了看学术诚信，一定要记得遵守，每一次的偷懒都会在之后还回来的，只有坚持着自己去 debug，才能得到锻炼，不要忘记自己为什么要去选择做 ICS-PA🦾</li>
</ul>
<h2 id="表达式求值">表达式求值</h2>
<ul>
<li>2023-07-09-22-42，前面几天零零总总的去把视频课补了补，阅读了些许工具的手册，配置了我的 <code>vim</code>，学习掌握了一些好用的命令行工具。写代码也是今天昨天两天，是比较高效的，感觉自己又可以了💪明天继续完善表达式生成器，生成测试用例自动测试，再根据测试改一改我的代码</li>
</ul>
<p>
<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2023/07/10/64ab70b86dd31.png">
<img src="https://bu.dusays.com/2023/07/10/64ab70b86dd31.png" alt="image.png"  />
</a>
</div>

</p>
<p>关于如何测试你的代码这一部分，有一些细节的问题：</p>
<ul>
<li><input disabled="" type="checkbox"> 如何保证表达式进行无符号运算?</li>
<li><input checked="" disabled="" type="checkbox"> 如何随机插入空格?</li>
<li><input checked="" disabled="" type="checkbox"> 如何生成长表达式, 同时不会使<code>buf</code>溢出?</li>
<li><input checked="" disabled="" type="checkbox"> 如何过滤求值过程中有除0行为的表达式?</li>
</ul>
<p>其中，保证表达式进行无符号运算这一部分，即保证运算时不出现整形溢出挺难实现的。<strong>将表达式计算结果出现的整形溢出情况，以及子表达式计算过程中产生的溢出情况筛选掉</strong></p>
<p>我先把这部分放一放，之后再来处理处理</p>
<ul>
<li>2023-07-10 大体上已经是完成了，感觉还是比较满意的，看来我还是可以坚持着写下去的么hh🥰 不过先去学一学 <code>pyG</code>，<code>ICS-PA</code> 过段时间再做。之前一直是在 <code>vim</code> 里写的，今天下午把 <code>VSCode</code> 的配置总算是搞完了，在 <code>VSCode</code> 里下载了 <code>Vim</code> 插件，下次做起来也会轻松许多了，就是有点奇怪， <code>engine_start()</code> 里面的程序不知道如通过GDB调试，目前还是得用 <code>make gdb</code> 来调试。感觉最近写的比较吃力，还是先放放，等之后有空了再继续写写。下面是 <code>VSCode</code> 的部分命令：
<ul>
<li>F9 断点，F5 调试</li>
<li>Ctrl+Shift+B，运行 <code>nemu</code></li>
</ul>
</li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>宿舍备药</title>
      <link>https://xancoding.cn/posts/2023-04-30-09-48-57/</link>
      <pubDate>Sun, 30 Apr 2023 09:48:57 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-04-30-09-48-57/</guid>
      <description>&lt;h2 id=&#34;运动损伤&#34;&gt;运动损伤&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;创口贴 9片：小创口的止血处理&lt;/li&gt;
&lt;li&gt;云南白药 2罐：跌打损伤，淤血肿痛，肌肉酸痛及风湿疼痛&lt;/li&gt;
&lt;li&gt;麝香壮骨膏 5贴：扭伤 挫伤&lt;/li&gt;
&lt;li&gt;双氯芬酸二乙胺乳胶剂：缓解肌肉、软组织和关节的轻至中度疼痛。如：缓解肌肉、软组织的扭伤、拉伤、挫伤、劳损、腰背部损伤引起的疼痛以及关节疼痛等，也可用于骨关节炎的对症治疗&lt;br&gt;
外用。按照痛处面积大小，使用本品适量，轻轻揉搓，使本品渗透皮肤，一日3-4 次&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;胃痛&#34;&gt;胃痛&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;乳酶生片 100片：促进消化和止泻&lt;br&gt;
一次2-3片，一日3次，饭前服&lt;/li&gt;
&lt;li&gt;健脾颗粒 12袋：健脾开胃 &lt;br&gt;
一次1袋，一日2次&lt;/li&gt;
&lt;li&gt;三九胃泰颗粒 1袋：上腹隐痛，饱胀，反酸，恶心，呕吐，纳减，心口嘈杂&lt;br&gt;
开水冲服。一次1袋，一日2次&lt;/li&gt;
&lt;li&gt;午时茶颗粒 3袋：恶寒发热、头痛身楚、胸脘满闷、恶心呕吐、腹痛腹泻&lt;br&gt;
开水冲服。一次1袋，一日1~2次&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;上火&#34;&gt;上火&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;桂林西瓜霜：急、慢性咽炎，扁桃体炎，口腔炎，口腔溃疡，牙龈炎 &lt;br&gt;
外用。敷于患处，每次适量，一日数次&lt;/li&gt;
&lt;li&gt;金喉健喷雾剂：风热所致咽痛、咽干、咽喉红肿、牙龈肿痛、口腔溃疡 &lt;br&gt;
喷患处。每次适量，一日数次&lt;/li&gt;
&lt;li&gt;维生素B&lt;sub&gt;2&lt;/sub&gt;片：口腔溃疡 &lt;br&gt;
口服。一次1-2片，一日3次&lt;/li&gt;
&lt;li&gt;口炎清颗粒 4袋：阴虚火旺所致的口腔炎症 &lt;br&gt;
口服。一次2袋，一日1～2次&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;皮肤感染&#34;&gt;皮肤感染&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;丁酸氢化可的松软膏 2管：过敏性皮炎、脂溢性皮炎、湿疹、瘙痒症和神经性皮炎&lt;br&gt;
局部外用。取适量本品涂于患处，每日2次。&lt;/li&gt;
&lt;li&gt;莫匹罗星软膏 2管：局部外用抗生素，适用于革兰阳性球菌引起的皮肤感染，例如：脓疱病、疖肿、毛囊炎等原发性皮肤感染及湿疹合并感染、溃疡合并感染、创伤合并感染等继发性皮肤感染 &lt;br&gt;
外用。局部涂于患处，必要时，患处可用敷料包扎或敷盖，每日3次，5天一疗程。必要时可重复一疗程&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;感冒&#34;&gt;感冒&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;阿奇霉素片 6片：支气管炎、肺炎等下呼吸道感染，鼻窦炎、咽炎、扁桃体炎等上呼吸道感染   &lt;br&gt;
每日口服给药一次，整片吞服&lt;/li&gt;
&lt;li&gt;三九感冒灵胶囊 10粒：感冒引起的头痛，发热，鼻塞，流涕，咽痛等 &lt;br&gt;
口服。一次2粒，一日3次&lt;/li&gt;
&lt;li&gt;酚麻美敏片 20片：普通感冒或流行性感冒引起的发热、头痛、四肢酸痛、喷嚏、流鼻涕、鼻塞、咳嗽、咽痛等症状 &lt;br&gt;
口服。一次1~2片，每6小时服1次。 24小时内不超过4次&lt;/li&gt;
&lt;li&gt;对乙酰氨基酚释缓片：普通感冒或流行感冒引起的发热，轻中度疼痛如头痛、关节痛、偏头痛、牙痛、肌肉痛、神经痛、痛经 &lt;br&gt;
口服。成人一次1～2片，若持续发热或疼痛，每8小时一次，24小时不超过3次&lt;/li&gt;
&lt;li&gt;盐酸阿比多尔颗粒 12袋：A、B型流感病毒等引起的上呼吸道感染 &lt;br&gt;
口服。一次2袋，一日3次，服用5日&lt;/li&gt;
&lt;/ol&gt;
</description>
      <content:encoded><![CDATA[<h2 id="运动损伤">运动损伤</h2>
<ol>
<li>创口贴 9片：小创口的止血处理</li>
<li>云南白药 2罐：跌打损伤，淤血肿痛，肌肉酸痛及风湿疼痛</li>
<li>麝香壮骨膏 5贴：扭伤 挫伤</li>
<li>双氯芬酸二乙胺乳胶剂：缓解肌肉、软组织和关节的轻至中度疼痛。如：缓解肌肉、软组织的扭伤、拉伤、挫伤、劳损、腰背部损伤引起的疼痛以及关节疼痛等，也可用于骨关节炎的对症治疗<br>
外用。按照痛处面积大小，使用本品适量，轻轻揉搓，使本品渗透皮肤，一日3-4 次</li>
</ol>
<hr>
<h2 id="胃痛">胃痛</h2>
<ol>
<li>乳酶生片 100片：促进消化和止泻<br>
一次2-3片，一日3次，饭前服</li>
<li>健脾颗粒 12袋：健脾开胃 <br>
一次1袋，一日2次</li>
<li>三九胃泰颗粒 1袋：上腹隐痛，饱胀，反酸，恶心，呕吐，纳减，心口嘈杂<br>
开水冲服。一次1袋，一日2次</li>
<li>午时茶颗粒 3袋：恶寒发热、头痛身楚、胸脘满闷、恶心呕吐、腹痛腹泻<br>
开水冲服。一次1袋，一日1~2次</li>
</ol>
<hr>
<h2 id="上火">上火</h2>
<ol>
<li>桂林西瓜霜：急、慢性咽炎，扁桃体炎，口腔炎，口腔溃疡，牙龈炎 <br>
外用。敷于患处，每次适量，一日数次</li>
<li>金喉健喷雾剂：风热所致咽痛、咽干、咽喉红肿、牙龈肿痛、口腔溃疡 <br>
喷患处。每次适量，一日数次</li>
<li>维生素B<sub>2</sub>片：口腔溃疡 <br>
口服。一次1-2片，一日3次</li>
<li>口炎清颗粒 4袋：阴虚火旺所致的口腔炎症 <br>
口服。一次2袋，一日1～2次</li>
</ol>
<hr>
<h2 id="皮肤感染">皮肤感染</h2>
<ol>
<li>丁酸氢化可的松软膏 2管：过敏性皮炎、脂溢性皮炎、湿疹、瘙痒症和神经性皮炎<br>
局部外用。取适量本品涂于患处，每日2次。</li>
<li>莫匹罗星软膏 2管：局部外用抗生素，适用于革兰阳性球菌引起的皮肤感染，例如：脓疱病、疖肿、毛囊炎等原发性皮肤感染及湿疹合并感染、溃疡合并感染、创伤合并感染等继发性皮肤感染 <br>
外用。局部涂于患处，必要时，患处可用敷料包扎或敷盖，每日3次，5天一疗程。必要时可重复一疗程</li>
</ol>
<hr>
<h2 id="感冒">感冒</h2>
<ol>
<li>阿奇霉素片 6片：支气管炎、肺炎等下呼吸道感染，鼻窦炎、咽炎、扁桃体炎等上呼吸道感染   <br>
每日口服给药一次，整片吞服</li>
<li>三九感冒灵胶囊 10粒：感冒引起的头痛，发热，鼻塞，流涕，咽痛等 <br>
口服。一次2粒，一日3次</li>
<li>酚麻美敏片 20片：普通感冒或流行性感冒引起的发热、头痛、四肢酸痛、喷嚏、流鼻涕、鼻塞、咳嗽、咽痛等症状 <br>
口服。一次1~2片，每6小时服1次。 24小时内不超过4次</li>
<li>对乙酰氨基酚释缓片：普通感冒或流行感冒引起的发热，轻中度疼痛如头痛、关节痛、偏头痛、牙痛、肌肉痛、神经痛、痛经 <br>
口服。成人一次1～2片，若持续发热或疼痛，每8小时一次，24小时不超过3次</li>
<li>盐酸阿比多尔颗粒 12袋：A、B型流感病毒等引起的上呼吸道感染 <br>
口服。一次2袋，一日3次，服用5日</li>
</ol>
]]></content:encoded>
    </item>
    
    <item>
      <title>Blog</title>
      <link>https://xancoding.cn/posts/2023-04-30-09-43-31/</link>
      <pubDate>Sun, 30 Apr 2023 09:43:31 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-04-30-09-43-31/</guid>
      <description>&lt;h1 id=&#34;bloghttpsgithubcomxancodingxancodinggithubio&#34;&gt;&lt;a href=&#34;https://github.com/Xancoding/Xancoding.github.io&#34;&gt;Blog&lt;/a&gt;&lt;/h1&gt;
&lt;h1 id=&#34;搭建工具&#34;&gt;搭建工具&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Hugo &amp;amp; GitHub Pages &amp;amp; GitHub Action &amp;amp; Twikoo&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Theme：PaperMod&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Tool：Obsidian &amp;amp; Git Bash&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;各页面简介&#34;&gt;各页面简介&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Home：联系方式 &amp;amp; 文章&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Tags：文章标签&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Archives：文章归档&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;About：作者简介 &amp;amp; 博客简介&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Search：搜索文章&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;自动化构建&#34;&gt;自动化构建&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.zhangyingwei.com/posts/2021m4d11h19m42s28/&#34;&gt;Hugo 博客写作最佳实践&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.pseudoyu.com/zh/2022/05/29/deploy_your_blog_using_hugo_and_github_action/&#34;&gt;Hugo + GitHub Action，搭建你的博客自动发布系统&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;自定义&#34;&gt;自定义&lt;/h1&gt;
&lt;h2 id=&#34;自定义-shortcodes&#34;&gt;自定义 shortcodes&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://www.sulvblog.cn/posts/blog/hugo_gallery/&#34;&gt;# Hugo博客添加相册功能&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.sulvblog.cn/posts/blog/shortcodes/&#34;&gt;# Hugo博客自定义shortcodes&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;bilibili-视频&#34;&gt;bilibili 视频&lt;/h3&gt;
&lt;!DOCTYPE HTML&gt;
&lt;html lang=&#34;en&#34;&gt;
&lt;head&gt;
    &lt;style type=&#34;text/css&#34;&gt;
        .bilibili_shortcodes {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 66%;
            margin: auto;
            overflow: hidden;
            text-align: center;
        }
        .bilibili_shortcodes iframe {
            position: absolute;
            width: 100%;
            height: 100%;
            left: 0;
            top: 0;
        }
    &lt;/style&gt;
    &lt;title&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class=&#34;bilibili_shortcodes&#34;&gt;
    &lt;iframe
            src=&#34;https://player.bilibili.com/player.html?bvid=BV1RP4y1v7kS&amp;page=1&amp;high_quality=1&amp;danmaku=0&amp;as_wide=0&#34;
            scrolling=&#34;no&#34;
            border=&#34;0&#34;
            frameborder=&#34;no&#34;
            framespacing=&#34;0&#34;
            allowfullscreen=&#34;true&#34;
    &gt;
    &lt;/iframe&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

&lt;h3 id=&#34;相册&#34;&gt;相册&lt;/h3&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;
&lt;head&gt;
    &lt;meta name=&#34;viewport&#34; content=&#34;user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js&#34;&gt;&lt;/script&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js&#34;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div data-nanogallery2=&#39;{
	 &#34;thumbnailDisplayTransition&#34;:          &#34;none&#34;,
     &#34;thumbnailDisplayTransitionDuration&#34;:  500,
     &#34;thumbnailDisplayInterval&#34;:            30,
     &#34;galleryDisplayTransition&#34;:            &#34;none&#34;,
     &#34;galleryDisplayTransitionDuration&#34;:    500,
     &#34;galleryDisplayMode&#34;: &#34;rows&#34;,
     &#34;thumbnailDisplayOutsideScreen&#34;: &#34;false&#34;,
     &#34;eventsDebounceDelay&#34;: 10,
     &#34;thumbnailL1BorderHorizontal&#34;: 0,
     &#34;thumbnailL1BorderVertical&#34;: 0,
     &#34;thumbnailLabel&#34;: {
        &#34;titleFontSize&#34;: &#34;0.6em&#34;
     },
     &#34;thumbnailHoverEffect2&#34;: &#34;image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)&#34;,
     &#34;galleryTheme&#34;: {
        &#34;thumbnail&#34;: {
            &#34;borderRadius&#34;: &#34;8px&#34;
        }
     },
     &#34;thumbnailToolbarImage&#34;: {
        &#34;topLeft&#34;: &#34;&#34;,
        &#34;topRight&#34;: &#34;&#34;,
        &#34;bottomLeft&#34;: &#34;&#34;,
        &#34;bottomRight&#34;: &#34;&#34;
     },
     &#34;viewerToolbar&#34;:   {
        &#34;display&#34;: true,
        &#34;standard&#34;: &#34;label&#34;
     },
     &#34;viewerTools&#34;:     {
        &#34;topLeft&#34;:    &#34;pageCounter, playPauseButton&#34;,
        &#34;topRight&#34;:   &#34;downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton&#34;
     },
     &#34;viewerGalleryTWidth&#34;: 40,
     &#34;viewerGalleryTHeight&#34;: 40
}&#39;&gt;
    
&lt;a href=&#34;https://www.sulvblog.cn/image/16_IMG_20220430_202353.png&#34; data-ngThumb=&#34;https://www.sulvblog.cn/image/16_IMG_20220430_202353.png&#34;&gt;香克斯&lt;/a&gt;

&lt;a href=&#34;https://www.sulvblog.cn/image/17_IMG_20220430_202228.png&#34; data-ngThumb=&#34;https://www.sulvblog.cn/image/17_IMG_20220430_202228.png&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://www.sulvblog.cn/image/19_IMG_20220430_200901.png&#34; data-ngThumb=&#34;https://www.sulvblog.cn/image/19_IMG_20220430_200901.png&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://www.sulvblog.cn/image/17_IMG_20220430_202228.png&#34; data-ngThumb=&#34;https://www.sulvblog.cn/image/17_IMG_20220430_202228.png&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://www.sulvblog.cn/image/19_IMG_20220430_200901.png&#34; data-ngThumb=&#34;https://www.sulvblog.cn/image/19_IMG_20220430_200901.png&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://www.sulvblog.cn/image/17_IMG_20220430_202228.png&#34; data-ngThumb=&#34;https://www.sulvblog.cn/image/17_IMG_20220430_202228.png&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://www.sulvblog.cn/image/19_IMG_20220430_200901.png&#34; data-ngThumb=&#34;https://www.sulvblog.cn/image/19_IMG_20220430_200901.png&#34;&gt;&lt;/a&gt;


&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

&lt;h2 id=&#34;hugo-侧边目录&#34;&gt;Hugo 侧边目录&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://333rd.net/posts/tech/hugo%E4%BE%A7%E8%BE%B9%E7%9B%AE%E5%BD%95/&#34;&gt;# Hugo侧边目录&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.sulvblog.cn/posts/blog/hugo_toc_side/&#34;&gt;# Hugo博客目录放在侧边 | PaperMod主题&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;更改字体&#34;&gt;更改字体&lt;/h2&gt;
&lt;h3 id=&#34;方法1&#34;&gt;方法1&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.sulvblog.cn/posts/blog/hugo_change_font/&#34;&gt;# Hugo博客自定义字体&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在网上找到字体资源，即&lt;code&gt;ttf&lt;/code&gt;结尾的文件，放到&lt;code&gt;static/fonts/&lt;/code&gt;文件夹下&lt;/li&gt;
&lt;li&gt;在&lt;code&gt;assets\css\extended\fonts.css&lt;/code&gt; 中引用字体&lt;/li&gt;
&lt;li&gt;在 &lt;code&gt;assets\css\extended\blank.css&lt;/code&gt; 中 用&lt;code&gt;font-family&lt;/code&gt;属性指定使用什么字体&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;方法2&#34;&gt;方法2&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/627444050&#34;&gt;# Hugo使用自定义字体&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;将HTML插入到 &lt;code&gt;layouts/partials/extend_head.html&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;在 &lt;code&gt;assets\css\extended\blank.css&lt;/code&gt; 中 用&lt;code&gt;font-family&lt;/code&gt;属性指定使用什么字体&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;twikoo-评论区&#34;&gt;Twikoo 评论区&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.sulvblog.cn/posts/blog/hugo_twikoo/&#34;&gt;# Hugo博客添加Twikoo评论&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;latex-语法支持&#34;&gt;LaTex 语法支持&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://shaohanyun.top/posts/env/hugo_mathjax/&#34;&gt;# Hugo博客添加LaTeX语法支持&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
      <content:encoded><![CDATA[<h1 id="bloghttpsgithubcomxancodingxancodinggithubio"><a href="https://github.com/Xancoding/Xancoding.github.io">Blog</a></h1>
<h1 id="搭建工具">搭建工具</h1>
<ul>
<li><code>Hugo &amp; GitHub Pages &amp; GitHub Action &amp; Twikoo</code></li>
<li><code>Theme：PaperMod</code></li>
<li><code>Tool：Obsidian &amp; Git Bash</code></li>
</ul>
<h1 id="各页面简介">各页面简介</h1>
<ul>
<li><code>Home：联系方式 &amp; 文章</code></li>
<li><code>Tags：文章标签</code></li>
<li><code>Archives：文章归档</code></li>
<li><code>About：作者简介 &amp; 博客简介</code></li>
<li><code>Search：搜索文章</code></li>
</ul>
<h1 id="自动化构建">自动化构建</h1>
<ul>
<li><a href="https://blog.zhangyingwei.com/posts/2021m4d11h19m42s28/">Hugo 博客写作最佳实践</a></li>
<li><a href="https://www.pseudoyu.com/zh/2022/05/29/deploy_your_blog_using_hugo_and_github_action/">Hugo + GitHub Action，搭建你的博客自动发布系统</a></li>
</ul>
<h1 id="自定义">自定义</h1>
<h2 id="自定义-shortcodes">自定义 shortcodes</h2>
<ol>
<li><a href="https://www.sulvblog.cn/posts/blog/hugo_gallery/"># Hugo博客添加相册功能</a></li>
<li><a href="https://www.sulvblog.cn/posts/blog/shortcodes/"># Hugo博客自定义shortcodes</a></li>
</ol>
<h3 id="bilibili-视频">bilibili 视频</h3>
<!DOCTYPE HTML>
<html lang="en">
<head>
    <style type="text/css">
        .bilibili_shortcodes {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 66%;
            margin: auto;
            overflow: hidden;
            text-align: center;
        }
        .bilibili_shortcodes iframe {
            position: absolute;
            width: 100%;
            height: 100%;
            left: 0;
            top: 0;
        }
    </style>
    <title></title>
</head>
<body>
<div class="bilibili_shortcodes">
    <iframe
            src="https://player.bilibili.com/player.html?bvid=BV1RP4y1v7kS&page=1&high_quality=1&danmaku=0&as_wide=0"
            scrolling="no"
            border="0"
            frameborder="no"
            framespacing="0"
            allowfullscreen="true"
    >
    </iframe>
</div>
</body>
</html>

<h3 id="相册">相册</h3>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js"></script>
</head>
<body>

<div data-nanogallery2='{
	 "thumbnailDisplayTransition":          "none",
     "thumbnailDisplayTransitionDuration":  500,
     "thumbnailDisplayInterval":            30,
     "galleryDisplayTransition":            "none",
     "galleryDisplayTransitionDuration":    500,
     "galleryDisplayMode": "rows",
     "thumbnailDisplayOutsideScreen": "false",
     "eventsDebounceDelay": 10,
     "thumbnailL1BorderHorizontal": 0,
     "thumbnailL1BorderVertical": 0,
     "thumbnailLabel": {
        "titleFontSize": "0.6em"
     },
     "thumbnailHoverEffect2": "image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)",
     "galleryTheme": {
        "thumbnail": {
            "borderRadius": "8px"
        }
     },
     "thumbnailToolbarImage": {
        "topLeft": "",
        "topRight": "",
        "bottomLeft": "",
        "bottomRight": ""
     },
     "viewerToolbar":   {
        "display": true,
        "standard": "label"
     },
     "viewerTools":     {
        "topLeft":    "pageCounter, playPauseButton",
        "topRight":   "downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton"
     },
     "viewerGalleryTWidth": 40,
     "viewerGalleryTHeight": 40
}'>
    
<a href="https://www.sulvblog.cn/image/16_IMG_20220430_202353.png" data-ngThumb="https://www.sulvblog.cn/image/16_IMG_20220430_202353.png">香克斯</a>

<a href="https://www.sulvblog.cn/image/17_IMG_20220430_202228.png" data-ngThumb="https://www.sulvblog.cn/image/17_IMG_20220430_202228.png"></a>

<a href="https://www.sulvblog.cn/image/19_IMG_20220430_200901.png" data-ngThumb="https://www.sulvblog.cn/image/19_IMG_20220430_200901.png"></a>

<a href="https://www.sulvblog.cn/image/17_IMG_20220430_202228.png" data-ngThumb="https://www.sulvblog.cn/image/17_IMG_20220430_202228.png"></a>

<a href="https://www.sulvblog.cn/image/19_IMG_20220430_200901.png" data-ngThumb="https://www.sulvblog.cn/image/19_IMG_20220430_200901.png"></a>

<a href="https://www.sulvblog.cn/image/17_IMG_20220430_202228.png" data-ngThumb="https://www.sulvblog.cn/image/17_IMG_20220430_202228.png"></a>

<a href="https://www.sulvblog.cn/image/19_IMG_20220430_200901.png" data-ngThumb="https://www.sulvblog.cn/image/19_IMG_20220430_200901.png"></a>


</div>
</body>
</html>

<h2 id="hugo-侧边目录">Hugo 侧边目录</h2>
<ol>
<li><a href="https://333rd.net/posts/tech/hugo%E4%BE%A7%E8%BE%B9%E7%9B%AE%E5%BD%95/"># Hugo侧边目录</a></li>
<li><a href="https://www.sulvblog.cn/posts/blog/hugo_toc_side/"># Hugo博客目录放在侧边 | PaperMod主题</a></li>
</ol>
<h2 id="更改字体">更改字体</h2>
<h3 id="方法1">方法1</h3>
<p><a href="https://www.sulvblog.cn/posts/blog/hugo_change_font/"># Hugo博客自定义字体</a></p>
<ol>
<li>在网上找到字体资源，即<code>ttf</code>结尾的文件，放到<code>static/fonts/</code>文件夹下</li>
<li>在<code>assets\css\extended\fonts.css</code> 中引用字体</li>
<li>在 <code>assets\css\extended\blank.css</code> 中 用<code>font-family</code>属性指定使用什么字体</li>
</ol>
<h3 id="方法2">方法2</h3>
<p><a href="https://zhuanlan.zhihu.com/p/627444050"># Hugo使用自定义字体</a></p>
<ol>
<li>将HTML插入到 <code>layouts/partials/extend_head.html</code></li>
<li>在 <code>assets\css\extended\blank.css</code> 中 用<code>font-family</code>属性指定使用什么字体</li>
</ol>
<h2 id="twikoo-评论区">Twikoo 评论区</h2>
<ul>
<li><a href="https://www.sulvblog.cn/posts/blog/hugo_twikoo/"># Hugo博客添加Twikoo评论</a></li>
</ul>
<h2 id="latex-语法支持">LaTex 语法支持</h2>
<ol>
<li><a href="https://shaohanyun.top/posts/env/hugo_mathjax/"># Hugo博客添加LaTeX语法支持</a></li>
</ol>
]]></content:encoded>
    </item>
    
    <item>
      <title>Electronic product</title>
      <link>https://xancoding.cn/posts/2023-04-30-09-39-00/</link>
      <pubDate>Sun, 30 Apr 2023 09:39:00 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-04-30-09-39-00/</guid>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 三星SAMSUNG 64G U盘 —— 京东 88元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 联想拯救者 R7000 —— 京东 6199元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 微星 MSI 23.8英寸显示器 —— 京东 833 元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 微软便携触摸显示器 —— 淘宝 499 元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 漫步者 W820NB 头戴式蓝牙耳机 —— 京东 299 元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 小米显示器挂灯 —— 京东 199元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; RK100 有线/蓝牙/无线2.4G三模机械键盘 —— 京东 229元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; SAMSUNG 64GB U盘 —— 京东 87 元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 小米充电宝 20000mAh 22.5W —— 京东 149元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 小米 原装二合一数据线 1m —— 京东 27元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 华为手环 7 NFC版 —— 京东 245元&lt;/li&gt;
&lt;/ul&gt;
</description>
      <content:encoded><![CDATA[<ul>
<li><input checked="" disabled="" type="checkbox"> 三星SAMSUNG 64G U盘 —— 京东 88元</li>
<li><input checked="" disabled="" type="checkbox"> 联想拯救者 R7000 —— 京东 6199元</li>
<li><input checked="" disabled="" type="checkbox"> 微星 MSI 23.8英寸显示器 —— 京东 833 元</li>
<li><input checked="" disabled="" type="checkbox"> 微软便携触摸显示器 —— 淘宝 499 元</li>
<li><input checked="" disabled="" type="checkbox"> 漫步者 W820NB 头戴式蓝牙耳机 —— 京东 299 元</li>
<li><input checked="" disabled="" type="checkbox"> 小米显示器挂灯 —— 京东 199元</li>
<li><input checked="" disabled="" type="checkbox"> RK100 有线/蓝牙/无线2.4G三模机械键盘 —— 京东 229元</li>
<li><input checked="" disabled="" type="checkbox"> SAMSUNG 64GB U盘 —— 京东 87 元</li>
<li><input checked="" disabled="" type="checkbox"> 小米充电宝 20000mAh 22.5W —— 京东 149元</li>
<li><input checked="" disabled="" type="checkbox"> 小米 原装二合一数据线 1m —— 京东 27元</li>
<li><input checked="" disabled="" type="checkbox"> 华为手环 7 NFC版 —— 京东 245元</li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>Fitness program</title>
      <link>https://xancoding.cn/posts/2023-04-30-09-33-09/</link>
      <pubDate>Sun, 30 Apr 2023 09:33:09 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-04-30-09-33-09/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;采取三分化训练模式，意思是三天以内训练全身，中间也可以比较自由的加入休息日&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;day-1chest--triceps&#34;&gt;Day 1：Chest &amp;amp; Triceps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;热身：着重注意胸部肩部颈部以及下背部，热身时间不要超过5分钟。&lt;/li&gt;
&lt;li&gt;钻石俯卧撑：每组数量20，做不到20的就做到极限。一共3组。组间休息90秒。
&lt;ul&gt;
&lt;li&gt;作为最经典的徒手练胸动作，钻石俯卧撑可以在一开始给予胸肌很好的充血感。&lt;/li&gt;
&lt;li&gt;动作要点：
&lt;ol&gt;
&lt;li&gt;注意双脚并拢，脚尖稳定怼地面。&lt;/li&gt;
&lt;li&gt;注意髋关节的稳定，尽量保证腿部以及身体呈一条直线。&lt;/li&gt;
&lt;li&gt;腹部核心肌群需要全程用力，尽量保证脊柱的中立。&lt;/li&gt;
&lt;li&gt;整体动作需要尽量放慢，下降时要抵抗万有引力，上升时要抵抗身体的惯性。重点是胸部肌肉的感受度。&lt;/li&gt;
&lt;li&gt;下降到极限时下巴离地面距离要尽可能小。但是千万不要勉强，要保证肩部以及手肘动作不要变形。

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2022/11/05/63666872318d2.gif&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2022/11/05/63666872318d2.gif&#34; alt=&#34;1&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;火箭俯卧撑：每组数量15，做不到15的就做到极限。一共3组。组间休息90秒。
&lt;ul&gt;
&lt;li&gt;这是普通俯卧撑的升级强化版，额外强化了对于上胸部的刺激。&lt;/li&gt;
&lt;li&gt;动作要点：
&lt;ol&gt;
&lt;li&gt;注意双脚并拢，双腿伸直，前脚掌稳定怼地面。&lt;/li&gt;
&lt;li&gt;髋关节的角度需要固定在120度左右，需要借助下背及核心力量保证腰部和臀部全程稳定避免受伤。（可以参考罗马尼亚硬拉时腰部以及脊椎的位置）&lt;/li&gt;
&lt;li&gt;整体动作需要尽量放慢，仔细感受上胸的收缩。（如果动作过快可能会磕歪门牙）&lt;/li&gt;
&lt;li&gt;下降到极限时下巴离地面距离也要尽可能小，但同样不可勉强。&lt;/li&gt;
&lt;li&gt;推荐在双拳下垫上两块绞干的小毛巾，增加水平方向上的摩擦力，可以更好的发力。

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2022/11/05/63666871629af.gif&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2022/11/05/63666871629af.gif&#34; alt=&#34;2&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;臂屈伸：每组数量12，做不到12的就做到极限。一共4组。组间休息90秒。
&lt;ul&gt;
&lt;li&gt;动作要点：
&lt;ol&gt;
&lt;li&gt;这个动作需要保证肩关节的稳定，不可耸肩。&lt;/li&gt;
&lt;li&gt;挺胸抬头。&lt;/li&gt;
&lt;li&gt;下降时一定要放慢动作，且不可过分下降，不然会给肩关节过大的压力。

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2022/11/05/63666a180c633.gif&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2022/11/05/63666a180c633.gif&#34; alt=&#34;3&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;day-2back--biceps&#34;&gt;Day 2：Back &amp;amp; Biceps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;热身：着重注意背部，肩部以及颈部。热身时间不超过5分钟。&lt;/li&gt;
&lt;li&gt;仰卧夹背：每组数量12，做不到12的就做到极限。一共3组。组间休息90秒。
&lt;ul&gt;
&lt;li&gt;这个动作主要训练上背部。&lt;/li&gt;
&lt;li&gt;动作要点：
&lt;ol&gt;
&lt;li&gt;想要充分发挥训练效果的话，推荐在肌肉收缩到顶峰的时候停留2秒。&lt;/li&gt;
&lt;li&gt;双腿弯曲，双脚稳定踩在地面。&lt;/li&gt;
&lt;li&gt;仅仅利用上背部肌肉发力使身体抬起，腹部核心肌群需要出力保持脊柱不弯曲。

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://1on1.today/blog/wp-content/uploads/2020/04/%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7-2020-04-26-%E4%B8%8B%E5%8D%884.04.17-1024x557.png&#34;&gt;
&lt;img src=&#34;https://1on1.today/blog/wp-content/uploads/2020/04/%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7-2020-04-26-%E4%B8%8B%E5%8D%884.04.17-1024x557.png&#34; alt=&#34;1&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;



&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://1on1.today/blog/wp-content/uploads/2020/04/%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7-2020-04-26-%E4%B8%8B%E5%8D%884.03.50-1024x563.png&#34;&gt;
&lt;img src=&#34;https://1on1.today/blog/wp-content/uploads/2020/04/%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7-2020-04-26-%E4%B8%8B%E5%8D%884.03.50-1024x563.png&#34; alt=&#34;2&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;直臂下拉徒手版：每组数量12，做不到12的就做到极限。一共3组。组间休息90秒。
&lt;ul&gt;
&lt;li&gt;这个动作可以训练到中背部以及背阔肌。&lt;/li&gt;
&lt;li&gt;动作要点：
&lt;ol&gt;
&lt;li&gt;做这个动作有一个前提是地板必须光滑。个人经验是双脚各踩半张A4纸，可以大大减少摩擦力。同时双手洗一下并擦干，再做这个动作可以大大增加手掌和地面的摩擦力。&lt;/li&gt;
&lt;li&gt;双臂需要伸直以避免二头肌借力。&lt;/li&gt;
&lt;li&gt;肩关节需要稳定住，不然在收缩至顶峰的时候肩膀容易拉伤。

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://pica.zhimg.com/80/v2-80c930a2bec73ccb5691803d7d52f322_720w.png&#34;&gt;
&lt;img src=&#34;https://pica.zhimg.com/80/v2-80c930a2bec73ccb5691803d7d52f322_720w.png&#34; alt=&#34;1&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;



&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://pica.zhimg.com/80/v2-69e83c31075711669750ba30460e8118_720w.png&#34;&gt;
&lt;img src=&#34;https://pica.zhimg.com/80/v2-69e83c31075711669750ba30460e8118_720w.png&#34; alt=&#34;2&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Superman：每组数量12，做不到12的就做到极限。一共3组。组间休息90秒。
&lt;ul&gt;
&lt;li&gt;这个动作对于下背部的刺激十分到位，而且避免了卷腹。&lt;/li&gt;
&lt;li&gt;和仰卧夹背一样，推荐在肌肉收缩到顶峰的时候停留2秒。让超人多飞一会。

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;http://static.ouj.com/hiyd_cms/file/8bbe120c42dc467398fdadcc326134fa.jpg&#34;&gt;
&lt;img src=&#34;http://static.ouj.com/hiyd_cms/file/8bbe120c42dc467398fdadcc326134fa.jpg&#34; alt=&#34;1&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;



&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;http://static.ouj.com/hiyd_cms/file/6eba0db38ee6434db3234a6581771db5.jpg&#34;&gt;
&lt;img src=&#34;http://static.ouj.com/hiyd_cms/file/6eba0db38ee6434db3234a6581771db5.jpg&#34; alt=&#34;2&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;day-3hips--legs--shoulders&#34;&gt;Day 3：Hips &amp;amp; Legs &amp;amp; Shoulders&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;热身：着重注意大腿，腰部，肩膀，斜方肌以及颈部。&lt;/li&gt;
&lt;li&gt;无负重深蹲：主要看臀腿肌群的感受度，不超过20次下蹲。一共3组，组间休息90秒。
&lt;ul&gt;
&lt;li&gt;动作要点：
&lt;ol&gt;
&lt;li&gt;两脚距离稍比臀宽，脚尖稍稍朝外，身体重量平均分配在两脚掌，保持后背挺直&lt;/li&gt;
&lt;li&gt;身体下降时，膝盖不超过脚尖的垂直高度，臀部的往下就像是往板凳上坐一样&lt;/li&gt;
&lt;li&gt;与此同时将双手打直往前，维持在胸部的高度&lt;/li&gt;
&lt;li&gt;往下时尽全力，注意保持挺胸，后背挺直，逐渐检查自己的膝盖不超过脚尖

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2022/11/11/636dedb39052a.gif&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2022/11/11/636dedb39052a.gif&#34; alt=&#34;1&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;臀桥：每组15下，一共3组，组间休息90秒。
&lt;ul&gt;
&lt;li&gt;动作要点：
&lt;ol&gt;
&lt;li&gt;注意双臂贴合地面，脚后跟怼地。&lt;/li&gt;
&lt;li&gt;同样注意下背部及脊椎的位置，尽量保持中立位（不要驼背）。&lt;/li&gt;
&lt;li&gt;肩膀保持稳定不参与发力。&lt;/li&gt;
&lt;li&gt;最高点躯干与大腿在同一直线。&lt;/li&gt;
&lt;li&gt;顶峰停留2秒。

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2022/11/05/63666c69c2fb0.gif&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2022/11/05/63666c69c2fb0.gif&#34; alt=&#34;1&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;箭蹲跳：每组90秒，一共三组，休息30秒。
&lt;ul&gt;
&lt;li&gt;动作要点：
&lt;ol&gt;
&lt;li&gt;注意膝盖不要触及地面。&lt;/li&gt;
&lt;li&gt;动作不宜过快，标准至上。&lt;/li&gt;
&lt;li&gt;注意“跳”和“蹲”是两个分开但是连贯的动作。不要混淆了。

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://static.ouj.com/hiyd_cms/exercise/fee7a26d4a834cab9199d612b855d568.gif&#34;&gt;
&lt;img src=&#34;https://static.ouj.com/hiyd_cms/exercise/fee7a26d4a834cab9199d612b855d568.gif&#34; alt=&#34;1&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;单臂侧平举：每侧 RM 8-12，一共4组（两侧算一组）
&lt;ul&gt;
&lt;li&gt;这个动作可以用到哑铃或者弹力带，也可以请出我们的书包，或者一大包垃圾。&lt;/li&gt;
&lt;li&gt;动作要点：
&lt;ol&gt;
&lt;li&gt;手臂不需要完全伸直，运动过程中手肘朝向后上方，这样可以增加运动路径。&lt;/li&gt;
&lt;li&gt;由于是单侧动作，核心肌群需要发力以稳定身体平衡。&lt;/li&gt;
&lt;li&gt;动作不宜过快，特别当你拿的重物是书包，过快容易晃来晃去。

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;http://static.ouj.com/hiyd_cms/file/4a579824b17b41aa91be9f153eac6b44.jpg&#34;&gt;
&lt;img src=&#34;http://static.ouj.com/hiyd_cms/file/4a579824b17b41aa91be9f153eac6b44.jpg&#34; alt=&#34;1&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;



&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;http://static.ouj.com/hiyd_cms/file/7ee07c13f7174933ba368b45a5cdb760.jpg&#34;&gt;
&lt;img src=&#34;http://static.ouj.com/hiyd_cms/file/7ee07c13f7174933ba368b45a5cdb760.jpg&#34; alt=&#34;2&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;diet&#34;&gt;Diet&lt;/h2&gt;
&lt;h3 id=&#34;breakfast&#34;&gt;BreakFast&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;6：30&lt;/li&gt;
&lt;li&gt;三个鸡蛋 + 馒头 + 豆浆&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;extra-meal&#34;&gt;Extra meal&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;9：00&lt;/li&gt;
&lt;li&gt;牛奶 + 咖啡 + 坚果&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;lunch&#34;&gt;Lunch&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;11：00&lt;/li&gt;
&lt;li&gt;三两米饭 + 蔬菜（西兰花）+ 鱼肉 or 鸡胸肉 or 牛肉&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;extra-meal-1&#34;&gt;Extra meal&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;2：30&lt;/li&gt;
&lt;li&gt;燕麦 + 玉米 or 红薯 + 香蕉&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;dinner&#34;&gt;Dinner&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;5：00&lt;/li&gt;
&lt;li&gt;三两米饭 + 蔬菜（西兰花）+ 鱼肉 or 鸡胸肉 or 牛肉&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;extra-meal-2&#34;&gt;Extra meal&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;9：00&lt;/li&gt;
&lt;li&gt;燕麦 + 全麦面包 + 香蕉&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;vedio&#34;&gt;Vedio&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1cW411Z7jU/?spm_id_from=333.999.0.0&amp;amp;vd_source=ae16ff6478eb15c1b87880540263910b&#34;&gt;【街健之路1】街头健身全攻略！新手怎么开始街健？如何变成街健大神？！&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
      <content:encoded><![CDATA[<blockquote>
<p><strong>采取三分化训练模式，意思是三天以内训练全身，中间也可以比较自由的加入休息日</strong></p>
</blockquote>
<h2 id="day-1chest--triceps">Day 1：Chest &amp; Triceps</h2>
<ol>
<li>热身：着重注意胸部肩部颈部以及下背部，热身时间不要超过5分钟。</li>
<li>钻石俯卧撑：每组数量20，做不到20的就做到极限。一共3组。组间休息90秒。
<ul>
<li>作为最经典的徒手练胸动作，钻石俯卧撑可以在一开始给予胸肌很好的充血感。</li>
<li>动作要点：
<ol>
<li>注意双脚并拢，脚尖稳定怼地面。</li>
<li>注意髋关节的稳定，尽量保证腿部以及身体呈一条直线。</li>
<li>腹部核心肌群需要全程用力，尽量保证脊柱的中立。</li>
<li>整体动作需要尽量放慢，下降时要抵抗万有引力，上升时要抵抗身体的惯性。重点是胸部肌肉的感受度。</li>
<li>下降到极限时下巴离地面距离要尽可能小。但是千万不要勉强，要保证肩部以及手肘动作不要变形。

<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2022/11/05/63666872318d2.gif">
<img src="https://bu.dusays.com/2022/11/05/63666872318d2.gif" alt="1"  />
</a>
</div>

</li>
</ol>
</li>
</ul>
</li>
<li>火箭俯卧撑：每组数量15，做不到15的就做到极限。一共3组。组间休息90秒。
<ul>
<li>这是普通俯卧撑的升级强化版，额外强化了对于上胸部的刺激。</li>
<li>动作要点：
<ol>
<li>注意双脚并拢，双腿伸直，前脚掌稳定怼地面。</li>
<li>髋关节的角度需要固定在120度左右，需要借助下背及核心力量保证腰部和臀部全程稳定避免受伤。（可以参考罗马尼亚硬拉时腰部以及脊椎的位置）</li>
<li>整体动作需要尽量放慢，仔细感受上胸的收缩。（如果动作过快可能会磕歪门牙）</li>
<li>下降到极限时下巴离地面距离也要尽可能小，但同样不可勉强。</li>
<li>推荐在双拳下垫上两块绞干的小毛巾，增加水平方向上的摩擦力，可以更好的发力。

<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2022/11/05/63666871629af.gif">
<img src="https://bu.dusays.com/2022/11/05/63666871629af.gif" alt="2"  />
</a>
</div>

</li>
</ol>
</li>
</ul>
</li>
<li>臂屈伸：每组数量12，做不到12的就做到极限。一共4组。组间休息90秒。
<ul>
<li>动作要点：
<ol>
<li>这个动作需要保证肩关节的稳定，不可耸肩。</li>
<li>挺胸抬头。</li>
<li>下降时一定要放慢动作，且不可过分下降，不然会给肩关节过大的压力。

<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2022/11/05/63666a180c633.gif">
<img src="https://bu.dusays.com/2022/11/05/63666a180c633.gif" alt="3"  />
</a>
</div>

</li>
</ol>
</li>
</ul>
</li>
</ol>
<h2 id="day-2back--biceps">Day 2：Back &amp; Biceps</h2>
<ol>
<li>热身：着重注意背部，肩部以及颈部。热身时间不超过5分钟。</li>
<li>仰卧夹背：每组数量12，做不到12的就做到极限。一共3组。组间休息90秒。
<ul>
<li>这个动作主要训练上背部。</li>
<li>动作要点：
<ol>
<li>想要充分发挥训练效果的话，推荐在肌肉收缩到顶峰的时候停留2秒。</li>
<li>双腿弯曲，双脚稳定踩在地面。</li>
<li>仅仅利用上背部肌肉发力使身体抬起，腹部核心肌群需要出力保持脊柱不弯曲。

<div class="post-img-view">
<a data-fancybox="gallery" href="https://1on1.today/blog/wp-content/uploads/2020/04/%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7-2020-04-26-%E4%B8%8B%E5%8D%884.04.17-1024x557.png">
<img src="https://1on1.today/blog/wp-content/uploads/2020/04/%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7-2020-04-26-%E4%B8%8B%E5%8D%884.04.17-1024x557.png" alt="1"  />
</a>
</div>



<div class="post-img-view">
<a data-fancybox="gallery" href="https://1on1.today/blog/wp-content/uploads/2020/04/%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7-2020-04-26-%E4%B8%8B%E5%8D%884.03.50-1024x563.png">
<img src="https://1on1.today/blog/wp-content/uploads/2020/04/%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7-2020-04-26-%E4%B8%8B%E5%8D%884.03.50-1024x563.png" alt="2"  />
</a>
</div>

</li>
</ol>
</li>
</ul>
</li>
<li>直臂下拉徒手版：每组数量12，做不到12的就做到极限。一共3组。组间休息90秒。
<ul>
<li>这个动作可以训练到中背部以及背阔肌。</li>
<li>动作要点：
<ol>
<li>做这个动作有一个前提是地板必须光滑。个人经验是双脚各踩半张A4纸，可以大大减少摩擦力。同时双手洗一下并擦干，再做这个动作可以大大增加手掌和地面的摩擦力。</li>
<li>双臂需要伸直以避免二头肌借力。</li>
<li>肩关节需要稳定住，不然在收缩至顶峰的时候肩膀容易拉伤。

<div class="post-img-view">
<a data-fancybox="gallery" href="https://pica.zhimg.com/80/v2-80c930a2bec73ccb5691803d7d52f322_720w.png">
<img src="https://pica.zhimg.com/80/v2-80c930a2bec73ccb5691803d7d52f322_720w.png" alt="1"  />
</a>
</div>



<div class="post-img-view">
<a data-fancybox="gallery" href="https://pica.zhimg.com/80/v2-69e83c31075711669750ba30460e8118_720w.png">
<img src="https://pica.zhimg.com/80/v2-69e83c31075711669750ba30460e8118_720w.png" alt="2"  />
</a>
</div>

</li>
</ol>
</li>
</ul>
</li>
<li>Superman：每组数量12，做不到12的就做到极限。一共3组。组间休息90秒。
<ul>
<li>这个动作对于下背部的刺激十分到位，而且避免了卷腹。</li>
<li>和仰卧夹背一样，推荐在肌肉收缩到顶峰的时候停留2秒。让超人多飞一会。

<div class="post-img-view">
<a data-fancybox="gallery" href="http://static.ouj.com/hiyd_cms/file/8bbe120c42dc467398fdadcc326134fa.jpg">
<img src="http://static.ouj.com/hiyd_cms/file/8bbe120c42dc467398fdadcc326134fa.jpg" alt="1"  />
</a>
</div>



<div class="post-img-view">
<a data-fancybox="gallery" href="http://static.ouj.com/hiyd_cms/file/6eba0db38ee6434db3234a6581771db5.jpg">
<img src="http://static.ouj.com/hiyd_cms/file/6eba0db38ee6434db3234a6581771db5.jpg" alt="2"  />
</a>
</div>

</li>
</ul>
</li>
</ol>
<h2 id="day-3hips--legs--shoulders">Day 3：Hips &amp; Legs &amp; Shoulders</h2>
<ol>
<li>热身：着重注意大腿，腰部，肩膀，斜方肌以及颈部。</li>
<li>无负重深蹲：主要看臀腿肌群的感受度，不超过20次下蹲。一共3组，组间休息90秒。
<ul>
<li>动作要点：
<ol>
<li>两脚距离稍比臀宽，脚尖稍稍朝外，身体重量平均分配在两脚掌，保持后背挺直</li>
<li>身体下降时，膝盖不超过脚尖的垂直高度，臀部的往下就像是往板凳上坐一样</li>
<li>与此同时将双手打直往前，维持在胸部的高度</li>
<li>往下时尽全力，注意保持挺胸，后背挺直，逐渐检查自己的膝盖不超过脚尖

<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2022/11/11/636dedb39052a.gif">
<img src="https://bu.dusays.com/2022/11/11/636dedb39052a.gif" alt="1"  />
</a>
</div>

</li>
</ol>
</li>
</ul>
</li>
<li>臀桥：每组15下，一共3组，组间休息90秒。
<ul>
<li>动作要点：
<ol>
<li>注意双臂贴合地面，脚后跟怼地。</li>
<li>同样注意下背部及脊椎的位置，尽量保持中立位（不要驼背）。</li>
<li>肩膀保持稳定不参与发力。</li>
<li>最高点躯干与大腿在同一直线。</li>
<li>顶峰停留2秒。

<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2022/11/05/63666c69c2fb0.gif">
<img src="https://bu.dusays.com/2022/11/05/63666c69c2fb0.gif" alt="1"  />
</a>
</div>

</li>
</ol>
</li>
</ul>
</li>
<li>箭蹲跳：每组90秒，一共三组，休息30秒。
<ul>
<li>动作要点：
<ol>
<li>注意膝盖不要触及地面。</li>
<li>动作不宜过快，标准至上。</li>
<li>注意“跳”和“蹲”是两个分开但是连贯的动作。不要混淆了。

<div class="post-img-view">
<a data-fancybox="gallery" href="https://static.ouj.com/hiyd_cms/exercise/fee7a26d4a834cab9199d612b855d568.gif">
<img src="https://static.ouj.com/hiyd_cms/exercise/fee7a26d4a834cab9199d612b855d568.gif" alt="1"  />
</a>
</div>

</li>
</ol>
</li>
</ul>
</li>
<li>单臂侧平举：每侧 RM 8-12，一共4组（两侧算一组）
<ul>
<li>这个动作可以用到哑铃或者弹力带，也可以请出我们的书包，或者一大包垃圾。</li>
<li>动作要点：
<ol>
<li>手臂不需要完全伸直，运动过程中手肘朝向后上方，这样可以增加运动路径。</li>
<li>由于是单侧动作，核心肌群需要发力以稳定身体平衡。</li>
<li>动作不宜过快，特别当你拿的重物是书包，过快容易晃来晃去。

<div class="post-img-view">
<a data-fancybox="gallery" href="http://static.ouj.com/hiyd_cms/file/4a579824b17b41aa91be9f153eac6b44.jpg">
<img src="http://static.ouj.com/hiyd_cms/file/4a579824b17b41aa91be9f153eac6b44.jpg" alt="1"  />
</a>
</div>



<div class="post-img-view">
<a data-fancybox="gallery" href="http://static.ouj.com/hiyd_cms/file/7ee07c13f7174933ba368b45a5cdb760.jpg">
<img src="http://static.ouj.com/hiyd_cms/file/7ee07c13f7174933ba368b45a5cdb760.jpg" alt="2"  />
</a>
</div>

</li>
</ol>
</li>
</ul>
</li>
</ol>
<h2 id="diet">Diet</h2>
<h3 id="breakfast">BreakFast</h3>
<ul>
<li>6：30</li>
<li>三个鸡蛋 + 馒头 + 豆浆</li>
</ul>
<h3 id="extra-meal">Extra meal</h3>
<ul>
<li>9：00</li>
<li>牛奶 + 咖啡 + 坚果</li>
</ul>
<h3 id="lunch">Lunch</h3>
<ul>
<li>11：00</li>
<li>三两米饭 + 蔬菜（西兰花）+ 鱼肉 or 鸡胸肉 or 牛肉</li>
</ul>
<h3 id="extra-meal-1">Extra meal</h3>
<ul>
<li>2：30</li>
<li>燕麦 + 玉米 or 红薯 + 香蕉</li>
</ul>
<h3 id="dinner">Dinner</h3>
<ul>
<li>5：00</li>
<li>三两米饭 + 蔬菜（西兰花）+ 鱼肉 or 鸡胸肉 or 牛肉</li>
</ul>
<h3 id="extra-meal-2">Extra meal</h3>
<ul>
<li>9：00</li>
<li>燕麦 + 全麦面包 + 香蕉</li>
</ul>
<h2 id="vedio">Vedio</h2>
<ul>
<li><a href="https://www.bilibili.com/video/BV1cW411Z7jU/?spm_id_from=333.999.0.0&amp;vd_source=ae16ff6478eb15c1b87880540263910b">【街健之路1】街头健身全攻略！新手怎么开始街健？如何变成街健大神？！</a></li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>Run</title>
      <link>https://xancoding.cn/posts/2023-04-30-09-25-28/</link>
      <pubDate>Sun, 30 Apr 2023 09:25:28 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-04-30-09-25-28/</guid>
      <description>&lt;h2 id=&#34;我的装备&#34;&gt;我的装备&lt;/h2&gt;
&lt;h3 id=&#34;手表&#34;&gt;手表&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; COROS高驰 PACE2 竞技运动手表 —— 闲鱼 1200元&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;跑鞋&#34;&gt;跑鞋&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 飞影PB 国庆配色 260mm —— 闲鱼 450元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Nike React Infinity Run 白蓝 260mm —— 闲鱼 271元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 锐步 Energy3 260mm —— 闲鱼 450元&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;冬季装备&#34;&gt;冬季装备&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; QINKUNG长袖 M码 —— 闲鱼 78元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 必迈 V4热能紧身压缩衣 L码 —— 闲鱼 329元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 必迈 防风保暖夹克 恒星蓝 L码 —— 闲鱼  259元&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;夏季装备&#34;&gt;夏季装备&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 特步国人竞速 短裤、背心 —— 闲鱼 259元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; QINKUNG短袖 M码 —— 官网 169元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; BMAI 必迈跑步竞速压缩短裤 3.5寸 黑练黑 —— 淘宝 173元&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;帽子&#34;&gt;帽子🧢&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Nike运动帽 679421 —— 闲鱼 110元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; QINKUNG轻功 秋冬跑步高弹针织帽 —— 淘宝 99元&lt;/li&gt;
&lt;/ul&gt;
</description>
      <content:encoded><![CDATA[<h2 id="我的装备">我的装备</h2>
<h3 id="手表">手表</h3>
<ul>
<li><input checked="" disabled="" type="checkbox"> COROS高驰 PACE2 竞技运动手表 —— 闲鱼 1200元</li>
</ul>
<h3 id="跑鞋">跑鞋</h3>
<ul>
<li><input checked="" disabled="" type="checkbox"> 飞影PB 国庆配色 260mm —— 闲鱼 450元</li>
<li><input checked="" disabled="" type="checkbox"> Nike React Infinity Run 白蓝 260mm —— 闲鱼 271元</li>
<li><input checked="" disabled="" type="checkbox"> 锐步 Energy3 260mm —— 闲鱼 450元</li>
</ul>
<h3 id="冬季装备">冬季装备</h3>
<ul>
<li><input checked="" disabled="" type="checkbox"> QINKUNG长袖 M码 —— 闲鱼 78元</li>
<li><input checked="" disabled="" type="checkbox"> 必迈 V4热能紧身压缩衣 L码 —— 闲鱼 329元</li>
<li><input checked="" disabled="" type="checkbox"> 必迈 防风保暖夹克 恒星蓝 L码 —— 闲鱼  259元</li>
</ul>
<h3 id="夏季装备">夏季装备</h3>
<ul>
<li><input checked="" disabled="" type="checkbox"> 特步国人竞速 短裤、背心 —— 闲鱼 259元</li>
<li><input checked="" disabled="" type="checkbox"> QINKUNG短袖 M码 —— 官网 169元</li>
<li><input checked="" disabled="" type="checkbox"> BMAI 必迈跑步竞速压缩短裤 3.5寸 黑练黑 —— 淘宝 173元</li>
</ul>
<h3 id="帽子">帽子🧢</h3>
<ul>
<li><input checked="" disabled="" type="checkbox"> Nike运动帽 679421 —— 闲鱼 110元</li>
<li><input checked="" disabled="" type="checkbox"> QINKUNG轻功 秋冬跑步高弹针织帽 —— 淘宝 99元</li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>Outdoor</title>
      <link>https://xancoding.cn/posts/2023-04-30-09-20-36/</link>
      <pubDate>Sun, 30 Apr 2023 09:20:36 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-04-30-09-20-36/</guid>
      <description>&lt;h2 id=&#34;入门指南&#34;&gt;入门指南&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://space.bilibili.com/5682935&#34;&gt;登山者Black&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1qe411x7gc/?spm_id_from=333.999.0.0&amp;amp;vd_source=ae16ff6478eb15c1b87880540263910b&#34;&gt;户外运动安全手册（上）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1rf4y1U7FZ/?spm_id_from=333.337.search-card.all.click&amp;amp;vd_source=ae16ff6478eb15c1b87880540263910b&#34;&gt;户外运动安全手册（下）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1xE411j77f/?spm_id_from=333.999.0.0&amp;amp;vd_source=ae16ff6478eb15c1b87880540263910b&#34;&gt;洋葱式穿着/户外运动穿什么&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV14U4y1577f/?spm_id_from=333.999.0.0&amp;amp;vd_source=ae16ff6478eb15c1b87880540263910b&#34;&gt;户外必备10要素&amp;ndash;可能拯救你生命的十件户外必需品&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV18z411h7Wq/?vd_source=ae16ff6478eb15c1b87880540263910b&#34;&gt;户外装备选购终极指南&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1ft4y1Q7nh/?spm_id_from=333.999.0.0&amp;amp;vd_source=ae16ff6478eb15c1b87880540263910b&#34;&gt;户外急救/户外医疗包&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://space.bilibili.com/604006215&#34;&gt;烛逢&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1CQ4y1v7qo/?spm_id_from=333.788&amp;amp;vd_source=ae16ff6478eb15c1b87880540263910b&#34;&gt;户外运动三层穿衣法 | 烛逢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1Tr4y1C7XT/?spm_id_from=333.788&amp;amp;vd_source=ae16ff6478eb15c1b87880540263910b&#34;&gt;在野外找路-六只脚｜烛逢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1af4y1T7dK/?spm_id_from=333.788&amp;amp;vd_source=ae16ff6478eb15c1b87880540263910b&#34;&gt;六只脚进阶篇 | 烛逢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1Mi4y117Zc/?spm_id_from=333.999.0.0&amp;amp;vd_source=ae16ff6478eb15c1b87880540263910b&#34;&gt;两步路使用教学｜烛逢&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;两步路路网&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;访问🔗&lt;a href=&#34;https://www.wandoujia.com/apps/514093/history&#34;&gt;https://www.wandoujia.com/apps/514093/history&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;下载 6.6.1 版本&lt;/li&gt;
&lt;li&gt;在应用商店中关闭自动更新&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://mp.weixin.qq.com/s/bCp1WXavE7DeweMb9WoDkw&#34;&gt;GOOGLE地球简易操作制作轨迹，配合六只脚户外导航&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;登山装备清单&#34;&gt;登山装备清单&lt;/h2&gt;
&lt;p&gt;
&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2022/10/30/635e1c4fb1e10.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2022/10/30/635e1c4fb1e10.png&#34; alt=&#34;mountaineeringEquipment&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/p&gt;
&lt;h2 id=&#34;我的装备&#34;&gt;我的装备&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 三峰出雨衣 15D —— 闲鱼 112元&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; BLACK ICE 黑冰 户外运动P棉服 F8001 S码 —— 淘宝 543元 闲鱼 499元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; THERMOS 膳魔师 JNL-502-PRW 珠光白 500mL —— 京东 80元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Snow monster 雪地野人户外手套 —— 闲鱼 120元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Hoka羚羊4 260mm  —— 京东 599元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 强氧登山包羚羊36L （2 - 3日短线徒步 ） —— 闲鱼 220元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 奈特科尔NITECORE头灯 NU25 —— 闲鱼 133元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; outdoor research OR 手套 L码—— 淘宝 58元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Outdoor research VERGLAS 雪套 L码 —— 闲鱼 89元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; ROCLKSOLID 美利奴羊毛保暖内衣套装 M码 —— 淘宝 198元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Keith凯斯纯钛饭盒 Ti5328 1000mL —— 闲鱼 179元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Keith凯斯钛杯 Ti3240 350mL —— 闲鱼 75元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 钛途TiTo纯钛叉勺 —— 淘宝 19元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 凯乐石9A攀岩裤KG520220 金鱼黄 170/74A —— 闲鱼 199元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 凯乐石远征者pro 三合一冲锋衣 M码 —— 闲鱼 460元&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Osprey小鹰水袋 3L —— 闲鱼 230元&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;急救包&#34;&gt;急救包&lt;/h2&gt;
&lt;h3 id=&#34;外伤&#34;&gt;外伤&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;塑料镊子 1把：伤口的精细化处理&lt;/li&gt;
&lt;li&gt;安全别针 10枚：固定三角巾纱布止血带等&lt;/li&gt;
&lt;li&gt;剪刀 1把：剪开绷带线条等各种用途&lt;/li&gt;
&lt;li&gt;创口贴 10片：小创口的止血处理&lt;/li&gt;
&lt;li&gt;酒精棉片 10片：对伤口用品的擦拭消毒&lt;/li&gt;
&lt;li&gt;碘伏棉片 4片：伤口的消毒、消炎&lt;/li&gt;
&lt;li&gt;医用棉签 20根：日常护理使用&lt;/li&gt;
&lt;li&gt;三角绷带 1包：胳膊骨折的固定，头部出血的处理&lt;/li&gt;
&lt;li&gt;止血带 1卷：压迫伤口止血，固定骨折部位&lt;/li&gt;
&lt;li&gt;PBT绷带 1卷：伤口的包扎止血&lt;/li&gt;
&lt;li&gt;无纺布胶带 1卷：固定绷带纱布等敷料&lt;/li&gt;
&lt;li&gt;纱布片 2片：可与伤口直接接触&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;药物&#34;&gt;药物&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;麝香壮骨膏 4贴：扭伤 挫伤&lt;/li&gt;
&lt;li&gt;急救毯 1张：失温&lt;/li&gt;
&lt;li&gt;云南白药 2罐：跌打损伤，淤血肿痛，肌肉酸痛及风湿疼痛&lt;/li&gt;
&lt;li&gt;板蓝根颗粒 2包：肺胃热盛所致的咽喉肿痛、口咽干燥&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;海外代购&#34;&gt;海外代购&lt;/h2&gt;
&lt;p&gt;在淘宝上搜亚马逊代购，然后把&lt;a href=&#34;https://www.amazon.com/Amazon-Essentials-Stretch-Long-Sleeve-Pullover/dp/B07FLWRP2K/ref=sr_1_52?crid=30CWS1VUYTRFU&amp;amp;dchild=1&amp;amp;keywords=amazon%2Bessentials%2Blong%2Bsleeve%2Bshirt%2Bmen&amp;amp;qid=1621000634&amp;amp;sprefix=amazon%2Bessentials%2Blong%2Caps%2C443&amp;amp;sr=8-52&amp;amp;th=1&amp;amp;psc=1&#34;&gt;衣服链接&lt;/a&gt;发给他，他会计算价格

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2023/01/14/63c243c4af274.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2023/01/14/63c243c4af274.png&#34; alt=&#34;image.png&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<h2 id="入门指南">入门指南</h2>
<ul>
<li>
<p><a href="https://space.bilibili.com/5682935">登山者Black</a></p>
<ul>
<li><a href="https://www.bilibili.com/video/BV1qe411x7gc/?spm_id_from=333.999.0.0&amp;vd_source=ae16ff6478eb15c1b87880540263910b">户外运动安全手册（上）</a></li>
<li><a href="https://www.bilibili.com/video/BV1rf4y1U7FZ/?spm_id_from=333.337.search-card.all.click&amp;vd_source=ae16ff6478eb15c1b87880540263910b">户外运动安全手册（下）</a></li>
<li><a href="https://www.bilibili.com/video/BV1xE411j77f/?spm_id_from=333.999.0.0&amp;vd_source=ae16ff6478eb15c1b87880540263910b">洋葱式穿着/户外运动穿什么</a></li>
<li><a href="https://www.bilibili.com/video/BV14U4y1577f/?spm_id_from=333.999.0.0&amp;vd_source=ae16ff6478eb15c1b87880540263910b">户外必备10要素&ndash;可能拯救你生命的十件户外必需品</a></li>
<li><a href="https://www.bilibili.com/video/BV18z411h7Wq/?vd_source=ae16ff6478eb15c1b87880540263910b">户外装备选购终极指南</a></li>
<li><a href="https://www.bilibili.com/video/BV1ft4y1Q7nh/?spm_id_from=333.999.0.0&amp;vd_source=ae16ff6478eb15c1b87880540263910b">户外急救/户外医疗包</a></li>
</ul>
</li>
<li>
<p><a href="https://space.bilibili.com/604006215">烛逢</a></p>
<ul>
<li><a href="https://www.bilibili.com/video/BV1CQ4y1v7qo/?spm_id_from=333.788&amp;vd_source=ae16ff6478eb15c1b87880540263910b">户外运动三层穿衣法 | 烛逢</a></li>
<li><a href="https://www.bilibili.com/video/BV1Tr4y1C7XT/?spm_id_from=333.788&amp;vd_source=ae16ff6478eb15c1b87880540263910b">在野外找路-六只脚｜烛逢</a></li>
<li><a href="https://www.bilibili.com/video/BV1af4y1T7dK/?spm_id_from=333.788&amp;vd_source=ae16ff6478eb15c1b87880540263910b">六只脚进阶篇 | 烛逢</a></li>
<li><a href="https://www.bilibili.com/video/BV1Mi4y117Zc/?spm_id_from=333.999.0.0&amp;vd_source=ae16ff6478eb15c1b87880540263910b">两步路使用教学｜烛逢</a></li>
</ul>
</li>
<li>
<p>两步路路网</p>
<ol>
<li>访问🔗<a href="https://www.wandoujia.com/apps/514093/history">https://www.wandoujia.com/apps/514093/history</a></li>
<li>下载 6.6.1 版本</li>
<li>在应用商店中关闭自动更新</li>
</ol>
</li>
<li>
<p><a href="https://mp.weixin.qq.com/s/bCp1WXavE7DeweMb9WoDkw">GOOGLE地球简易操作制作轨迹，配合六只脚户外导航</a></p>
</li>
</ul>
<h2 id="登山装备清单">登山装备清单</h2>
<p>
<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2022/10/30/635e1c4fb1e10.png">
<img src="https://bu.dusays.com/2022/10/30/635e1c4fb1e10.png" alt="mountaineeringEquipment"  />
</a>
</div>

</p>
<h2 id="我的装备">我的装备</h2>
<ul>
<li><input disabled="" type="checkbox"> 三峰出雨衣 15D —— 闲鱼 112元</li>
<li><input disabled="" type="checkbox"> BLACK ICE 黑冰 户外运动P棉服 F8001 S码 —— 淘宝 543元 闲鱼 499元</li>
<li><input checked="" disabled="" type="checkbox"> THERMOS 膳魔师 JNL-502-PRW 珠光白 500mL —— 京东 80元</li>
<li><input checked="" disabled="" type="checkbox"> Snow monster 雪地野人户外手套 —— 闲鱼 120元</li>
<li><input checked="" disabled="" type="checkbox"> Hoka羚羊4 260mm  —— 京东 599元</li>
<li><input checked="" disabled="" type="checkbox"> 强氧登山包羚羊36L （2 - 3日短线徒步 ） —— 闲鱼 220元</li>
<li><input checked="" disabled="" type="checkbox"> 奈特科尔NITECORE头灯 NU25 —— 闲鱼 133元</li>
<li><input checked="" disabled="" type="checkbox"> outdoor research OR 手套 L码—— 淘宝 58元</li>
<li><input checked="" disabled="" type="checkbox"> Outdoor research VERGLAS 雪套 L码 —— 闲鱼 89元</li>
<li><input checked="" disabled="" type="checkbox"> ROCLKSOLID 美利奴羊毛保暖内衣套装 M码 —— 淘宝 198元</li>
<li><input checked="" disabled="" type="checkbox"> Keith凯斯纯钛饭盒 Ti5328 1000mL —— 闲鱼 179元</li>
<li><input checked="" disabled="" type="checkbox"> Keith凯斯钛杯 Ti3240 350mL —— 闲鱼 75元</li>
<li><input checked="" disabled="" type="checkbox"> 钛途TiTo纯钛叉勺 —— 淘宝 19元</li>
<li><input checked="" disabled="" type="checkbox"> 凯乐石9A攀岩裤KG520220 金鱼黄 170/74A —— 闲鱼 199元</li>
<li><input checked="" disabled="" type="checkbox"> 凯乐石远征者pro 三合一冲锋衣 M码 —— 闲鱼 460元</li>
<li><input checked="" disabled="" type="checkbox"> Osprey小鹰水袋 3L —— 闲鱼 230元</li>
</ul>
<h2 id="急救包">急救包</h2>
<h3 id="外伤">外伤</h3>
<ol>
<li>塑料镊子 1把：伤口的精细化处理</li>
<li>安全别针 10枚：固定三角巾纱布止血带等</li>
<li>剪刀 1把：剪开绷带线条等各种用途</li>
<li>创口贴 10片：小创口的止血处理</li>
<li>酒精棉片 10片：对伤口用品的擦拭消毒</li>
<li>碘伏棉片 4片：伤口的消毒、消炎</li>
<li>医用棉签 20根：日常护理使用</li>
<li>三角绷带 1包：胳膊骨折的固定，头部出血的处理</li>
<li>止血带 1卷：压迫伤口止血，固定骨折部位</li>
<li>PBT绷带 1卷：伤口的包扎止血</li>
<li>无纺布胶带 1卷：固定绷带纱布等敷料</li>
<li>纱布片 2片：可与伤口直接接触</li>
</ol>
<h3 id="药物">药物</h3>
<ol>
<li>麝香壮骨膏 4贴：扭伤 挫伤</li>
<li>急救毯 1张：失温</li>
<li>云南白药 2罐：跌打损伤，淤血肿痛，肌肉酸痛及风湿疼痛</li>
<li>板蓝根颗粒 2包：肺胃热盛所致的咽喉肿痛、口咽干燥</li>
</ol>
<h2 id="海外代购">海外代购</h2>
<p>在淘宝上搜亚马逊代购，然后把<a href="https://www.amazon.com/Amazon-Essentials-Stretch-Long-Sleeve-Pullover/dp/B07FLWRP2K/ref=sr_1_52?crid=30CWS1VUYTRFU&amp;dchild=1&amp;keywords=amazon%2Bessentials%2Blong%2Bsleeve%2Bshirt%2Bmen&amp;qid=1621000634&amp;sprefix=amazon%2Bessentials%2Blong%2Caps%2C443&amp;sr=8-52&amp;th=1&amp;psc=1">衣服链接</a>发给他，他会计算价格

<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2023/01/14/63c243c4af274.png">
<img src="https://bu.dusays.com/2023/01/14/63c243c4af274.png" alt="image.png"  />
</a>
</div>

</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>4 月总结</title>
      <link>https://xancoding.cn/posts/2023-04-30-01-10-21/</link>
      <pubDate>Sun, 30 Apr 2023 01:10:21 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-04-30-01-10-21/</guid>
      <description>&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;学习：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;《概率论与数理统计》1&amp;ndash;7章&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《电路》1&amp;ndash;4、6&amp;ndash;10章&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《操作系统原理与实践》1&amp;ndash;4章&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《算法设计与分析（第2版）》结课（第 12 周）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《汇编语言》结课（第 8 周）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《模拟电子技术基础》1&amp;ndash;5章&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;小林图解系统：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;四、内存管理（4.7 深入理解 Linux 物理内存管理）&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;六、调度算法&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;七、文件系统&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;九、网络系统（未看）&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;十、Linux 命令（未看）&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;OI Wiki&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Git 学习&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;LaTex 学习&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;菜鸟教程&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Python3 学习&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;深度学习 吴达恩 B站视频&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;书籍：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Life:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;《平凡的世界》&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《明朝那些事》&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Tech:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;《程序员的自我修养》p1&amp;ndash;p169&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《深入理解计算机系统》p1&amp;ndash;p119、p399&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Outdoor&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;鹫峰徒步（0408）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;北京•门头沟•十里坪🏕️（0415&amp;ndash;0416）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;公园半程马拉松北京公开赛“北京•亦庄”南海子公园站（0422）01:46:07&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;北大拉卡拉杯 5+2（0429）&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;打卡北京高校&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;中国农业大学&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;中国石油大学&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;北京林业大学&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;北京大学&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;冥想&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
      <content:encoded><![CDATA[<ol>
<li>
<p>学习：</p>
<ol>
<li>
<p>《概率论与数理统计》1&ndash;7章</p>
</li>
<li>
<p>《电路》1&ndash;4、6&ndash;10章</p>
</li>
<li>
<p>《操作系统原理与实践》1&ndash;4章</p>
</li>
<li>
<p>《算法设计与分析（第2版）》结课（第 12 周）</p>
</li>
<li>
<p>《汇编语言》结课（第 8 周）</p>
</li>
<li>
<p>《模拟电子技术基础》1&ndash;5章</p>
</li>
<li>
<p>小林图解系统：</p>
<ol>
<li>
<p><strong>四、内存管理（4.7 深入理解 Linux 物理内存管理）</strong></p>
</li>
<li>
<p><strong>六、调度算法</strong></p>
</li>
<li>
<p><strong>七、文件系统</strong></p>
</li>
<li>
<p><strong>九、网络系统（未看）</strong></p>
</li>
<li>
<p><strong>十、Linux 命令（未看）</strong></p>
</li>
</ol>
</li>
<li>
<p>OI Wiki</p>
<ol>
<li>
<p>Git 学习</p>
</li>
<li>
<p>LaTex 学习</p>
</li>
</ol>
</li>
<li>
<p>菜鸟教程</p>
<ol>
<li>Python3 学习</li>
</ol>
</li>
<li>
<p>深度学习 吴达恩 B站视频</p>
</li>
</ol>
</li>
<li>
<p>书籍：</p>
<ol>
<li>
<p>Life:</p>
<ol>
<li>
<p>《平凡的世界》</p>
</li>
<li>
<p>《明朝那些事》</p>
</li>
</ol>
</li>
<li>
<p>Tech:</p>
<ol>
<li>
<p>《程序员的自我修养》p1&ndash;p169</p>
</li>
<li>
<p>《深入理解计算机系统》p1&ndash;p119、p399</p>
</li>
</ol>
</li>
</ol>
</li>
<li>
<p>Outdoor</p>
<ol>
<li>
<p>鹫峰徒步（0408）</p>
</li>
<li>
<p>北京•门头沟•十里坪🏕️（0415&ndash;0416）</p>
</li>
<li>
<p>公园半程马拉松北京公开赛“北京•亦庄”南海子公园站（0422）01:46:07</p>
</li>
<li>
<p>北大拉卡拉杯 5+2（0429）</p>
</li>
</ol>
</li>
<li>
<p>打卡北京高校</p>
<ol>
<li>
<p>中国农业大学</p>
</li>
<li>
<p>中国石油大学</p>
</li>
<li>
<p>北京林业大学</p>
</li>
<li>
<p>北京大学</p>
</li>
</ol>
</li>
<li>
<p>冥想</p>
</li>
</ol>
]]></content:encoded>
    </item>
    
    <item>
      <title>C&#43;&#43; Sort Function &amp; Priority Queue</title>
      <link>https://xancoding.cn/posts/2023-04-24-14-17-47/</link>
      <pubDate>Mon, 24 Apr 2023 14:17:47 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-04-24-14-17-47/</guid>
      <description>&lt;p&gt;当使用 &lt;code&gt;sort函数&lt;/code&gt; 和 &lt;code&gt;Priority_queue优先队列&lt;/code&gt; 时， &lt;code&gt;Container&lt;/code&gt; 中的元素会被自动排序&lt;/p&gt;
&lt;p&gt;当待排列的元素为一个对象时，我们既可以通过自定义比较函数，也可以通过重载运算符来达到目的。&lt;/p&gt;
&lt;p&gt;下面我们对 Object 的讨论都基于下述 &lt;code&gt;Person&lt;/code&gt; 类&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Person {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;public&lt;/span&gt;:  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	string name;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;int&lt;/span&gt; age;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	Person(string name, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;int&lt;/span&gt; age) {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;-&amp;gt;name = name;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;-&amp;gt;age = age;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;sort函数&#34;&gt;Sort函数&lt;/h1&gt;
&lt;h2 id=&#34;重载运算符&#34;&gt;重载运算符&lt;/h2&gt;
&lt;p&gt;当 &lt;code&gt;Container&lt;/code&gt; 中的元素是基本数据类型时，使用 &lt;code&gt;less&lt;/code&gt; 是升序排序，使用 &lt;code&gt;greater&lt;/code&gt; 是降序排序&lt;/p&gt;
&lt;p&gt;下面👇对元素为 Object 的情况作详细说明&lt;/p&gt;
&lt;h3 id=&#34;less&#34;&gt;less&lt;/h3&gt;
&lt;p&gt;sort函数在默认情况下使用&lt;code&gt;std::less&lt;/code&gt;作为比较函数类&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sort(people.begin(), people.end());
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;而&lt;code&gt;std::less&lt;/code&gt;需要重载小于号&lt;code&gt;&amp;lt;&lt;/code&gt;运算符：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Person {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;operator&lt;/span&gt;&amp;lt;(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;const&lt;/span&gt; Person &amp;amp;p) &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;const&lt;/span&gt; {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;-&amp;gt;age &amp;lt; p.age;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;经过上述的重载后，&lt;code&gt;sort&lt;/code&gt; 会将元素按 &lt;code&gt;age&lt;/code&gt; 升序排序&lt;/p&gt;
&lt;p&gt;括号内的 &lt;code&gt;const&lt;/code&gt; 表示其修饰的参数为常量，在函数内不能修改该参数&lt;/p&gt;
&lt;p&gt;括号外的 &lt;code&gt;const&lt;/code&gt; 表示该函数为常成员函数，在函数内不能需修改成员变量&lt;/p&gt;
&lt;p&gt;如果我们把函数体内的 &lt;code&gt;&amp;lt;&lt;/code&gt; 替换为 &lt;code&gt;&amp;gt;&lt;/code&gt;，元素将会按 &lt;code&gt;age&lt;/code&gt; 降序排序&lt;/p&gt;
&lt;h3 id=&#34;greater&#34;&gt;greater&lt;/h3&gt;
&lt;p&gt;还可以使用&lt;code&gt;std::greater&lt;/code&gt;作为比较函数类&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sort(people.begin(), people.end(), greater&amp;lt;&amp;gt;());
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;那么就需要重载大于号&lt;code&gt;&amp;gt;&lt;/code&gt;运算符：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Person {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;operator&lt;/span&gt;&amp;gt;(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;const&lt;/span&gt; Person &amp;amp;p) &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;const&lt;/span&gt; {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;-&amp;gt;age &amp;gt; p.age;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;经过上述的重载后，&lt;code&gt;sort&lt;/code&gt; 会将元素按 &lt;code&gt;age&lt;/code&gt; 降序排序&lt;/p&gt;
&lt;h2 id=&#34;自定义比较函数&#34;&gt;自定义比较函数&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;bool&lt;/span&gt; cmp(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;const&lt;/span&gt; Person &amp;amp;p1, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;const&lt;/span&gt; Person &amp;amp;p2) {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; p1.age &amp;lt; p2.age;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sort(people.begin(), people.end(), cmp);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;经过上述操作后，元素将会按 &lt;code&gt;age&lt;/code&gt; 升序排序&lt;/p&gt;
&lt;h1 id=&#34;priority_queue堆优先队列&#34;&gt;Priority_queue堆优先队列&lt;/h1&gt;
&lt;p&gt;堆是一种数据结构，可以用数组或树实现，常用于实现优先队列、排序算法等。&lt;/p&gt;
&lt;p&gt;优先队列（priority queue）就是堆（heap）的一种应用。&lt;/p&gt;
&lt;p&gt;C++中的优先队列实现就是堆优先队列，底层使用堆来实现。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;std::priority_queue&lt;/code&gt;是一个模板类，它的模板参数有三个，分别是：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;T&lt;/code&gt;：指定队列中存储的元素类型。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Container&lt;/code&gt;：指定用于存储元素的容器类型，默认是&lt;code&gt;std::vector&amp;lt;T&amp;gt;&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Compare&lt;/code&gt;：指定用于比较元素优先级的比较函数类型，默认是&lt;code&gt;std::less&amp;lt;T&amp;gt;&lt;/code&gt;。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;在C++中，优先队列可以通过指定比较函数来控制是使用大根堆还是小根堆。&lt;/p&gt;
&lt;p&gt;默认情况下，使用 &lt;code&gt;std::less&amp;lt;&amp;gt;&lt;/code&gt; 作为比较函数，则意味着使用大根堆，最大值会优先出队，大根堆(Max Heap)是一种完全二叉树,它满足两个特性:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;任意一个节点的值都大于等于其左右子节点的值&lt;/li&gt;
&lt;li&gt;根节点的值最大&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;如果使用 &lt;code&gt;std::greater&amp;lt;&amp;gt;&lt;/code&gt; 作为比较函数，则意味着使用小根堆，最小值会优先出队&lt;/p&gt;
&lt;h2 id=&#34;常用操作&#34;&gt;常用操作&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;pq.push(elem)&lt;/code&gt;：入队&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pq.pop()&lt;/code&gt;：出队&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pq.top()&lt;/code&gt;：返回堆顶元素&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;重载运算符-1&#34;&gt;重载运算符&lt;/h2&gt;
&lt;h3 id=&#34;less-1&#34;&gt;less&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;priority_queue&amp;lt;T&amp;gt; pq&lt;/code&gt;：默认构造大根堆，需要重载 &lt;code&gt;&amp;lt;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Person {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;operator&lt;/span&gt;&amp;lt;(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;const&lt;/span&gt; Person &amp;amp;p) &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;const&lt;/span&gt; {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;-&amp;gt;age &amp;lt; p.age;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;大根堆，最大值会先出队&lt;/p&gt;
&lt;h3 id=&#34;greater-1&#34;&gt;greater&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;priority_queue&amp;lt;T, vector&amp;lt;T&amp;gt;, greater&amp;lt;&amp;gt;&amp;gt; pq&lt;/code&gt;：构造最小堆，需要重载 &lt;code&gt;&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Person {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;operator&lt;/span&gt;&amp;gt;(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;const&lt;/span&gt; Person &amp;amp;p) &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;const&lt;/span&gt; {  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;-&amp;gt;age &amp;gt; p.age;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;小根堆，最小值会先出队&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<p>当使用 <code>sort函数</code> 和 <code>Priority_queue优先队列</code> 时， <code>Container</code> 中的元素会被自动排序</p>
<p>当待排列的元素为一个对象时，我们既可以通过自定义比较函数，也可以通过重载运算符来达到目的。</p>
<p>下面我们对 Object 的讨论都基于下述 <code>Person</code> 类</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {  
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span>:  
</span></span><span style="display:flex;"><span>	string name;  
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">int</span> age;  
</span></span><span style="display:flex;"><span>	Person(string name, <span style="color:#fff;font-weight:bold">int</span> age) {  
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">this</span>-&gt;name = name;  
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">this</span>-&gt;age = age;  
</span></span><span style="display:flex;"><span>	}  
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><h1 id="sort函数">Sort函数</h1>
<h2 id="重载运算符">重载运算符</h2>
<p>当 <code>Container</code> 中的元素是基本数据类型时，使用 <code>less</code> 是升序排序，使用 <code>greater</code> 是降序排序</p>
<p>下面👇对元素为 Object 的情况作详细说明</p>
<h3 id="less">less</h3>
<p>sort函数在默认情况下使用<code>std::less</code>作为比较函数类</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>sort(people.begin(), people.end());
</span></span></code></pre></div><p>而<code>std::less</code>需要重载小于号<code>&lt;</code>运算符：</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">bool</span> <span style="color:#fff;font-weight:bold">operator</span>&lt;(<span style="color:#fff;font-weight:bold">const</span> Person &amp;p) <span style="color:#fff;font-weight:bold">const</span> {  
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">this</span>-&gt;age &lt; p.age;  
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>经过上述的重载后，<code>sort</code> 会将元素按 <code>age</code> 升序排序</p>
<p>括号内的 <code>const</code> 表示其修饰的参数为常量，在函数内不能修改该参数</p>
<p>括号外的 <code>const</code> 表示该函数为常成员函数，在函数内不能需修改成员变量</p>
<p>如果我们把函数体内的 <code>&lt;</code> 替换为 <code>&gt;</code>，元素将会按 <code>age</code> 降序排序</p>
<h3 id="greater">greater</h3>
<p>还可以使用<code>std::greater</code>作为比较函数类</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>sort(people.begin(), people.end(), greater&lt;&gt;());
</span></span></code></pre></div><p>那么就需要重载大于号<code>&gt;</code>运算符：</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">bool</span> <span style="color:#fff;font-weight:bold">operator</span>&gt;(<span style="color:#fff;font-weight:bold">const</span> Person &amp;p) <span style="color:#fff;font-weight:bold">const</span> {  
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">this</span>-&gt;age &gt; p.age;  
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>经过上述的重载后，<code>sort</code> 会将元素按 <code>age</code> 降序排序</p>
<h2 id="自定义比较函数">自定义比较函数</h2>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">bool</span> cmp(<span style="color:#fff;font-weight:bold">const</span> Person &amp;p1, <span style="color:#fff;font-weight:bold">const</span> Person &amp;p2) {  
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">return</span> p1.age &lt; p2.age;  
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sort(people.begin(), people.end(), cmp);
</span></span></code></pre></div><p>经过上述操作后，元素将会按 <code>age</code> 升序排序</p>
<h1 id="priority_queue堆优先队列">Priority_queue堆优先队列</h1>
<p>堆是一种数据结构，可以用数组或树实现，常用于实现优先队列、排序算法等。</p>
<p>优先队列（priority queue）就是堆（heap）的一种应用。</p>
<p>C++中的优先队列实现就是堆优先队列，底层使用堆来实现。</p>
<p><code>std::priority_queue</code>是一个模板类，它的模板参数有三个，分别是：</p>
<ol>
<li><code>T</code>：指定队列中存储的元素类型。</li>
<li><code>Container</code>：指定用于存储元素的容器类型，默认是<code>std::vector&lt;T&gt;</code>。</li>
<li><code>Compare</code>：指定用于比较元素优先级的比较函数类型，默认是<code>std::less&lt;T&gt;</code>。</li>
</ol>
<p>在C++中，优先队列可以通过指定比较函数来控制是使用大根堆还是小根堆。</p>
<p>默认情况下，使用 <code>std::less&lt;&gt;</code> 作为比较函数，则意味着使用大根堆，最大值会优先出队，大根堆(Max Heap)是一种完全二叉树,它满足两个特性:</p>
<ol>
<li>任意一个节点的值都大于等于其左右子节点的值</li>
<li>根节点的值最大</li>
</ol>
<p>如果使用 <code>std::greater&lt;&gt;</code> 作为比较函数，则意味着使用小根堆，最小值会优先出队</p>
<h2 id="常用操作">常用操作</h2>
<ul>
<li><code>pq.push(elem)</code>：入队</li>
<li><code>pq.pop()</code>：出队</li>
<li><code>pq.top()</code>：返回堆顶元素</li>
</ul>
<h2 id="重载运算符-1">重载运算符</h2>
<h3 id="less-1">less</h3>
<ul>
<li><code>priority_queue&lt;T&gt; pq</code>：默认构造大根堆，需要重载 <code>&lt;</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">bool</span> <span style="color:#fff;font-weight:bold">operator</span>&lt;(<span style="color:#fff;font-weight:bold">const</span> Person &amp;p) <span style="color:#fff;font-weight:bold">const</span> {  
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">this</span>-&gt;age &lt; p.age;  
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>大根堆，最大值会先出队</p>
<h3 id="greater-1">greater</h3>
<ul>
<li><code>priority_queue&lt;T, vector&lt;T&gt;, greater&lt;&gt;&gt; pq</code>：构造最小堆，需要重载 <code>&gt;</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">bool</span> <span style="color:#fff;font-weight:bold">operator</span>&gt;(<span style="color:#fff;font-weight:bold">const</span> Person &amp;p) <span style="color:#fff;font-weight:bold">const</span> {  
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">this</span>-&gt;age &gt; p.age;  
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>小根堆，最小值会先出队</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>全马准备工作</title>
      <link>https://xancoding.cn/posts/2023-04-02-18-00-40/</link>
      <pubDate>Sun, 02 Apr 2023 18:00:40 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-04-02-18-00-40/</guid>
      <description>&lt;h1 id=&#34;配速&#34;&gt;配速&lt;/h1&gt;
&lt;p&gt;330&amp;ndash;4m58s&lt;/p&gt;
&lt;p&gt;400&amp;ndash;5m41s&lt;/p&gt;
&lt;h1 id=&#34;赛前&#34;&gt;赛前&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;赛前48小时&lt;/strong&gt;：充分补充碳水化合物和水分。将饮食中的碳水比例升高，多吃如：面包、面食、米饭和土豆等，还可以食用果汁、蜂蜜和能量棒等，来获取更多的碳水化合物。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;赛前12小时&lt;/strong&gt;：比赛前一晚的晚餐，不要晚于7点进食，尽量选择以前常吃的食物，原则是低脂肪、高碳水，避免辛辣刺激的食物，以及高纤维食物。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;赛前2、3小时&lt;/strong&gt;：比赛当天，早餐很重要！早餐尽量选择容易消化的食物，少吃产气食物（豆类等）；选择体积小的食物，否则滞留肠胃会带来负担；油脂和纤维素含量要少，否则会加速代谢引发便意，所以油条、油饼、炒饭、薯条之类的不适宜。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;赛前30分钟&lt;/strong&gt;：如果有条件，补充水分300-500毫升。由于盐丸消化需要时间，因此可以提前15~30分钟服用1粒盐丸&lt;/p&gt;
&lt;h1 id=&#34;赛中&#34;&gt;赛中&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;赛中补给频率&lt;/strong&gt;：跑步时补给的目标是维持血糖水平，减轻疲劳，避免撞墙的发生，跑者之间存在个体差距，相对来说每30-45分钟补给一次，比较适合大多数跑者。&lt;/p&gt;
&lt;p&gt;比赛开始后的30-45分钟吃下第一个能量胶或能量棒，之后每30-45分钟再吃。&lt;/p&gt;
&lt;p&gt;对于没有尝试过的跑者，可以将一次一包改为半包。&lt;/p&gt;
&lt;p&gt;此外，建议在服用能量胶的同时搭配水，以此避免可能出现脱水的风险。&lt;/p&gt;
&lt;p&gt;盐丸的补给同样要看气温以及跑者自己的身体状况，平均10km吃一颗，天气炎热可以缩短吃盐丸的间隔，反之就延长。&lt;/p&gt;
&lt;h1 id=&#34;赛后&#34;&gt;赛后&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;完赛后的补给：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;比赛结束后，立即食用高碳水化合物的零食和适量的蛋白质，可以迅速进行糖原的补充，可选择运动饮料、水果或跑者爱吃的易消化吸收的零食。&lt;/p&gt;
&lt;p&gt;完赛2小时内，吃一顿富含碳水和蛋白质的食物，以充分补充糖原并重建肌肉。赛后大餐不宜吃辛辣、刺激性的食物，并且也不适宜饮酒，酒精会减少肌肉糖原合成和蛋白质的合成，对于身体的恢复产生负面影响。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;马拉松补给TIPS:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;任何比赛中的补给都应该是熟悉的&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;无论是赛前、赛中还是赛后，都不要去尝试自己不熟悉的食物。也就是，尽量保证所有的饮食都是经过自己身体曾经验证过的；&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;早餐控制6-7成饱&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;早餐吃得过饱会增加身体负担，比赛当天吃6到7成饱就足够了。通常比赛日选手可能会有额外的能量食品，因而在能量摄入上，不用过于担心会不够，质＞量；&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;减少脂肪和纤维&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;在比赛当日，尽量减少高纤维和脂肪含量多的食物，容易引起胃部不适，并可能增加上厕所的机会；&lt;/p&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;不要等到口渴才喝水&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;感到口渴的时候，身体就已经脱水了，比赛中即便不感到口渴，在水站也可以稍微喝一点水。从5公里开始，每个水站都可以小抿一口；&lt;/p&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;进入水站的正确姿势&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;进入和离开水站的时候可以做个简单的手势，警示后面选手你会减速、进入水站，同时要向后观察，在没有和别人有冲突的前提下离开主赛道进入水站；&lt;/p&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;减少每次补给摄入的量&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;比赛中，一来身体会加大对食物的渴求，二来消化吸收能力较差，这样很容易吃太多，又增加胀痛、恶心、呕腹泻等肠胃问题；&lt;/p&gt;
&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;能量胶需伴水服用&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;多数能量胶都要求，在食用时需要150-250ml的水，才能让它更好的发挥效用，也避免对肠胃过度刺激。最佳饮用方法便是，在每次看到水站前完成能量胶摄入，而后进站喝水；&lt;/p&gt;
&lt;ol start=&#34;8&#34;&gt;
&lt;li&gt;比赛中少吃这些食物&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;生活中常吃的饼干、坚果、面包等碳水补充的食物，吃完后需要较长时间消化，因此在比赛的补给中要少吃这类食物，补给效率低且负担大；&lt;/p&gt;
&lt;ol start=&#34;9&#34;&gt;
&lt;li&gt;赛后补充越及时，恢复越快&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;比赛结束后身体的恢复才刚刚开始，这时候补糖、补水、补盐越及时，体能恢复越快。赛后半个小时内尽快补充，恢复效果要远好过数小时后再大吃大喝。&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<h1 id="配速">配速</h1>
<p>330&ndash;4m58s</p>
<p>400&ndash;5m41s</p>
<h1 id="赛前">赛前</h1>
<p><strong>赛前48小时</strong>：充分补充碳水化合物和水分。将饮食中的碳水比例升高，多吃如：面包、面食、米饭和土豆等，还可以食用果汁、蜂蜜和能量棒等，来获取更多的碳水化合物。</p>
<p><strong>赛前12小时</strong>：比赛前一晚的晚餐，不要晚于7点进食，尽量选择以前常吃的食物，原则是低脂肪、高碳水，避免辛辣刺激的食物，以及高纤维食物。</p>
<p><strong>赛前2、3小时</strong>：比赛当天，早餐很重要！早餐尽量选择容易消化的食物，少吃产气食物（豆类等）；选择体积小的食物，否则滞留肠胃会带来负担；油脂和纤维素含量要少，否则会加速代谢引发便意，所以油条、油饼、炒饭、薯条之类的不适宜。</p>
<p><strong>赛前30分钟</strong>：如果有条件，补充水分300-500毫升。由于盐丸消化需要时间，因此可以提前15~30分钟服用1粒盐丸</p>
<h1 id="赛中">赛中</h1>
<p><strong>赛中补给频率</strong>：跑步时补给的目标是维持血糖水平，减轻疲劳，避免撞墙的发生，跑者之间存在个体差距，相对来说每30-45分钟补给一次，比较适合大多数跑者。</p>
<p>比赛开始后的30-45分钟吃下第一个能量胶或能量棒，之后每30-45分钟再吃。</p>
<p>对于没有尝试过的跑者，可以将一次一包改为半包。</p>
<p>此外，建议在服用能量胶的同时搭配水，以此避免可能出现脱水的风险。</p>
<p>盐丸的补给同样要看气温以及跑者自己的身体状况，平均10km吃一颗，天气炎热可以缩短吃盐丸的间隔，反之就延长。</p>
<h1 id="赛后">赛后</h1>
<p><strong>完赛后的补给：</strong></p>
<p>比赛结束后，立即食用高碳水化合物的零食和适量的蛋白质，可以迅速进行糖原的补充，可选择运动饮料、水果或跑者爱吃的易消化吸收的零食。</p>
<p>完赛2小时内，吃一顿富含碳水和蛋白质的食物，以充分补充糖原并重建肌肉。赛后大餐不宜吃辛辣、刺激性的食物，并且也不适宜饮酒，酒精会减少肌肉糖原合成和蛋白质的合成，对于身体的恢复产生负面影响。</p>
<p><strong>马拉松补给TIPS:</strong></p>
<ol>
<li>任何比赛中的补给都应该是熟悉的</li>
</ol>
<p>无论是赛前、赛中还是赛后，都不要去尝试自己不熟悉的食物。也就是，尽量保证所有的饮食都是经过自己身体曾经验证过的；</p>
<ol start="2">
<li>早餐控制6-7成饱</li>
</ol>
<p>早餐吃得过饱会增加身体负担，比赛当天吃6到7成饱就足够了。通常比赛日选手可能会有额外的能量食品，因而在能量摄入上，不用过于担心会不够，质＞量；</p>
<ol start="3">
<li>减少脂肪和纤维</li>
</ol>
<p>在比赛当日，尽量减少高纤维和脂肪含量多的食物，容易引起胃部不适，并可能增加上厕所的机会；</p>
<ol start="4">
<li>不要等到口渴才喝水</li>
</ol>
<p>感到口渴的时候，身体就已经脱水了，比赛中即便不感到口渴，在水站也可以稍微喝一点水。从5公里开始，每个水站都可以小抿一口；</p>
<ol start="5">
<li>进入水站的正确姿势</li>
</ol>
<p>进入和离开水站的时候可以做个简单的手势，警示后面选手你会减速、进入水站，同时要向后观察，在没有和别人有冲突的前提下离开主赛道进入水站；</p>
<ol start="6">
<li>减少每次补给摄入的量</li>
</ol>
<p>比赛中，一来身体会加大对食物的渴求，二来消化吸收能力较差，这样很容易吃太多，又增加胀痛、恶心、呕腹泻等肠胃问题；</p>
<ol start="7">
<li>能量胶需伴水服用</li>
</ol>
<p>多数能量胶都要求，在食用时需要150-250ml的水，才能让它更好的发挥效用，也避免对肠胃过度刺激。最佳饮用方法便是，在每次看到水站前完成能量胶摄入，而后进站喝水；</p>
<ol start="8">
<li>比赛中少吃这些食物</li>
</ol>
<p>生活中常吃的饼干、坚果、面包等碳水补充的食物，吃完后需要较长时间消化，因此在比赛的补给中要少吃这类食物，补给效率低且负担大；</p>
<ol start="9">
<li>赛后补充越及时，恢复越快</li>
</ol>
<p>比赛结束后身体的恢复才刚刚开始，这时候补糖、补水、补盐越及时，体能恢复越快。赛后半个小时内尽快补充，恢复效果要远好过数小时后再大吃大喝。</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>3 月总结</title>
      <link>https://xancoding.cn/posts/2023-03-31-08-14-17/</link>
      <pubDate>Fri, 31 Mar 2023 08:14:17 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-03-31-08-14-17/</guid>
      <description>&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;学习：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;开始学习深度学习内容（0327）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;补完之前落下的课（0319）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;小林图解系统：一、二、三、五、八&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;书籍：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Life:&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Tech:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;《操作系统导论》&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;School&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;《概率论与数理统计》1&amp;ndash;4章&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《电路》1&amp;ndash;4、6&amp;ndash;7章&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《操作系统原理与实践》1&amp;ndash;2章&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《算法设计与分析（第2版）》1&amp;ndash;3、8、11章&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《汇编语言》1&amp;ndash;12章&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《模拟电子技术基础》1&amp;ndash;2章&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;电影：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;狼行者&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;爱情神话&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;韩剧&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;黑暗荣耀 1&amp;ndash;2季&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;感冒（停跑）受伤（停跑）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Apex 弃坑（体验不好）（0304）（克制一下，一天的结束稍稍玩玩）（0315）（再次弃坑）（0316）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;今日起不看抖音（0304）（克制一下，一天的结束稍稍玩玩）（0315）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;跑步&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;GitHub（0305 真的有内容的时候，再做提交）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;🌰👋（0319）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;豁然开朗，随心所欲（0325）&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
      <content:encoded><![CDATA[<ol>
<li>
<p>学习：</p>
<ol>
<li>
<p>开始学习深度学习内容（0327）</p>
</li>
<li>
<p>补完之前落下的课（0319）</p>
</li>
<li>
<p>小林图解系统：一、二、三、五、八</p>
</li>
</ol>
</li>
<li>
<p>书籍：</p>
<ol>
<li>
<p>Life:</p>
</li>
<li>
<p>Tech:</p>
<ol>
<li>《操作系统导论》</li>
</ol>
</li>
<li>
<p>School</p>
<ol>
<li>
<p>《概率论与数理统计》1&ndash;4章</p>
</li>
<li>
<p>《电路》1&ndash;4、6&ndash;7章</p>
</li>
<li>
<p>《操作系统原理与实践》1&ndash;2章</p>
</li>
<li>
<p>《算法设计与分析（第2版）》1&ndash;3、8、11章</p>
</li>
<li>
<p>《汇编语言》1&ndash;12章</p>
</li>
<li>
<p>《模拟电子技术基础》1&ndash;2章</p>
</li>
</ol>
</li>
</ol>
</li>
<li>
<p>电影：</p>
<ol>
<li>
<p>狼行者</p>
</li>
<li>
<p>爱情神话</p>
</li>
</ol>
</li>
<li>
<p>韩剧</p>
<ol>
<li>黑暗荣耀 1&ndash;2季</li>
</ol>
</li>
<li>
<p>感冒（停跑）受伤（停跑）</p>
</li>
<li>
<p>Apex 弃坑（体验不好）（0304）（克制一下，一天的结束稍稍玩玩）（0315）（再次弃坑）（0316）</p>
</li>
<li>
<p>今日起不看抖音（0304）（克制一下，一天的结束稍稍玩玩）（0315）</p>
</li>
<li>
<p>跑步</p>
</li>
<li>
<p>GitHub（0305 真的有内容的时候，再做提交）</p>
</li>
<li>
<p>🌰👋（0319）</p>
</li>
<li>
<p>豁然开朗，随心所欲（0325）</p>
</li>
</ol>
]]></content:encoded>
    </item>
    
    <item>
      <title>2 月总结</title>
      <link>https://xancoding.cn/posts/2023-02-28-20-18-17/</link>
      <pubDate>Tue, 28 Feb 2023 20:18:17 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-02-28-20-18-17/</guid>
      <description>&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;学习：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;数学建模&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;美赛（北京&lt;strong&gt;时间&lt;/strong&gt;2023年2月17日6：00（星期五）至2023年2月21日9：00（星期二））&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;书籍：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Life:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;《解读基金——我的投资观与实践》&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《富爸爸穷爸爸》&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Tech:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;《操作系统导论》第二部分：并发&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;跑步

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2023/02/28/63fdf1629f71f.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2023/02/28/63fdf1629f71f.png&#34; alt=&#34;Snipaste_2023-02-28_20-17-54.png&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;GitHub

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2023/02/28/63fdf166e7210.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2023/02/28/63fdf166e7210.png&#34; alt=&#34;Snipaste_2023-02-28_20-07-25.png&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;刷抖音&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;玩Apex&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
      <content:encoded><![CDATA[<ol>
<li>
<p>学习：</p>
<ol>
<li>
<p>数学建模</p>
<ol>
<li>美赛（北京<strong>时间</strong>2023年2月17日6：00（星期五）至2023年2月21日9：00（星期二））</li>
</ol>
</li>
</ol>
</li>
<li>
<p>书籍：</p>
<ol>
<li>
<p>Life:</p>
<ol>
<li>
<p>《解读基金——我的投资观与实践》</p>
</li>
<li>
<p>《富爸爸穷爸爸》</p>
</li>
</ol>
</li>
<li>
<p>Tech:</p>
<ol>
<li>《操作系统导论》第二部分：并发</li>
</ol>
</li>
</ol>
</li>
<li>
<p>跑步

<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2023/02/28/63fdf1629f71f.png">
<img src="https://bu.dusays.com/2023/02/28/63fdf1629f71f.png" alt="Snipaste_2023-02-28_20-17-54.png"  />
</a>
</div>

</p>
</li>
<li>
<p>GitHub

<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2023/02/28/63fdf166e7210.png">
<img src="https://bu.dusays.com/2023/02/28/63fdf166e7210.png" alt="Snipaste_2023-02-28_20-07-25.png"  />
</a>
</div>

</p>
</li>
<li>
<p>刷抖音</p>
</li>
<li>
<p>玩Apex</p>
</li>
</ol>
]]></content:encoded>
    </item>
    
    <item>
      <title>1 月总结</title>
      <link>https://xancoding.cn/posts/2023-01-31-16-48-25/</link>
      <pubDate>Tue, 31 Jan 2023 16:48:25 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-01-31-16-48-25/</guid>
      <description>&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;学习：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;C++（Learncpp.com）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;数学建模&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;做饭：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;炸鸡腿&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;紫菜汤&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;爆炒鸭腿&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;芹菜小炒牛肉末&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;炒素面&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;糖醋排骨&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;书籍：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Life:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;《小狗钱钱》&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《可能性的艺术》&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《人类简史》&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Tech:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;《汇编语言》&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《操作系统导论》第一部分：虚拟化&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;博客功能完善（实现自动化发布）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;沟通技能 Up Up Up&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;跑步

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2023/01/31/63d8d866b2045.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2023/01/31/63d8d866b2045.png&#34; alt=&#34;Snipaste_2023-01-31_16-58-54.png&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;GitHub

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2023/01/31/63d8d748a38da.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2023/01/31/63d8d748a38da.png&#34; alt=&#34;Snipaste_2023-01-31_10-52-25.png&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
      <content:encoded><![CDATA[<ol>
<li>
<p>学习：</p>
<ol>
<li>
<p>C++（Learncpp.com）</p>
</li>
<li>
<p>数学建模</p>
</li>
</ol>
</li>
<li>
<p>做饭：</p>
<ol>
<li>
<p>炸鸡腿</p>
</li>
<li>
<p>紫菜汤</p>
</li>
<li>
<p>爆炒鸭腿</p>
</li>
<li>
<p>芹菜小炒牛肉末</p>
</li>
<li>
<p>炒素面</p>
</li>
<li>
<p>糖醋排骨</p>
</li>
</ol>
</li>
<li>
<p>书籍：</p>
<ol>
<li>
<p>Life:</p>
<ol>
<li>
<p>《小狗钱钱》</p>
</li>
<li>
<p>《可能性的艺术》</p>
</li>
<li>
<p>《人类简史》</p>
</li>
</ol>
</li>
<li>
<p>Tech:</p>
<ol>
<li>
<p>《汇编语言》</p>
</li>
<li>
<p>《操作系统导论》第一部分：虚拟化</p>
</li>
</ol>
</li>
</ol>
</li>
<li>
<p>博客功能完善（实现自动化发布）</p>
</li>
<li>
<p>沟通技能 Up Up Up</p>
</li>
<li>
<p>跑步

<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2023/01/31/63d8d866b2045.png">
<img src="https://bu.dusays.com/2023/01/31/63d8d866b2045.png" alt="Snipaste_2023-01-31_16-58-54.png"  />
</a>
</div>

</p>
</li>
<li>
<p>GitHub

<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2023/01/31/63d8d748a38da.png">
<img src="https://bu.dusays.com/2023/01/31/63d8d748a38da.png" alt="Snipaste_2023-01-31_10-52-25.png"  />
</a>
</div>

</p>
</li>
</ol>
]]></content:encoded>
    </item>
    
    <item>
      <title>烤红薯 &amp; 烤芋头</title>
      <link>https://xancoding.cn/posts/2023-01-26-11-14-43/</link>
      <pubDate>Thu, 26 Jan 2023 11:14:43 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-01-26-11-14-43/</guid>
      <description>&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;
&lt;head&gt;
    &lt;meta name=&#34;viewport&#34; content=&#34;user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js&#34;&gt;&lt;/script&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js&#34;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div data-nanogallery2=&#39;{
	 &#34;thumbnailDisplayTransition&#34;:          &#34;none&#34;,
     &#34;thumbnailDisplayTransitionDuration&#34;:  500,
     &#34;thumbnailDisplayInterval&#34;:            30,
     &#34;galleryDisplayTransition&#34;:            &#34;none&#34;,
     &#34;galleryDisplayTransitionDuration&#34;:    500,
     &#34;galleryDisplayMode&#34;: &#34;rows&#34;,
     &#34;thumbnailDisplayOutsideScreen&#34;: &#34;false&#34;,
     &#34;eventsDebounceDelay&#34;: 10,
     &#34;thumbnailL1BorderHorizontal&#34;: 0,
     &#34;thumbnailL1BorderVertical&#34;: 0,
     &#34;thumbnailLabel&#34;: {
        &#34;titleFontSize&#34;: &#34;0.6em&#34;
     },
     &#34;thumbnailHoverEffect2&#34;: &#34;image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)&#34;,
     &#34;galleryTheme&#34;: {
        &#34;thumbnail&#34;: {
            &#34;borderRadius&#34;: &#34;8px&#34;
        }
     },
     &#34;thumbnailToolbarImage&#34;: {
        &#34;topLeft&#34;: &#34;&#34;,
        &#34;topRight&#34;: &#34;&#34;,
        &#34;bottomLeft&#34;: &#34;&#34;,
        &#34;bottomRight&#34;: &#34;&#34;
     },
     &#34;viewerToolbar&#34;:   {
        &#34;display&#34;: true,
        &#34;standard&#34;: &#34;label&#34;
     },
     &#34;viewerTools&#34;:     {
        &#34;topLeft&#34;:    &#34;pageCounter, playPauseButton&#34;,
        &#34;topRight&#34;:   &#34;downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton&#34;
     },
     &#34;viewerGalleryTWidth&#34;: 40,
     &#34;viewerGalleryTHeight&#34;: 40
}&#39;&gt;
    
&lt;a href=&#34;https://bu.dusays.com/2023/01/26/63d1f0720ad8d.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/01/26/63d1f0720ad8d.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/01/26/63d1f077d1a00.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/01/26/63d1f077d1a00.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/01/26/63d1f082ea677.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/01/26/63d1f082ea677.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/01/26/63d1f0ba11137.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/01/26/63d1f0ba11137.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/01/26/63d1f08a6d71e.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/01/26/63d1f08a6d71e.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/01/26/63d1f0a058fbb.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/01/26/63d1f0a058fbb.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/01/26/63d1f0a24bb49.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/01/26/63d1f0a24bb49.jpg&#34;&gt;&lt;/a&gt;


&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

</description>
      <content:encoded><![CDATA[<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js"></script>
</head>
<body>

<div data-nanogallery2='{
	 "thumbnailDisplayTransition":          "none",
     "thumbnailDisplayTransitionDuration":  500,
     "thumbnailDisplayInterval":            30,
     "galleryDisplayTransition":            "none",
     "galleryDisplayTransitionDuration":    500,
     "galleryDisplayMode": "rows",
     "thumbnailDisplayOutsideScreen": "false",
     "eventsDebounceDelay": 10,
     "thumbnailL1BorderHorizontal": 0,
     "thumbnailL1BorderVertical": 0,
     "thumbnailLabel": {
        "titleFontSize": "0.6em"
     },
     "thumbnailHoverEffect2": "image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)",
     "galleryTheme": {
        "thumbnail": {
            "borderRadius": "8px"
        }
     },
     "thumbnailToolbarImage": {
        "topLeft": "",
        "topRight": "",
        "bottomLeft": "",
        "bottomRight": ""
     },
     "viewerToolbar":   {
        "display": true,
        "standard": "label"
     },
     "viewerTools":     {
        "topLeft":    "pageCounter, playPauseButton",
        "topRight":   "downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton"
     },
     "viewerGalleryTWidth": 40,
     "viewerGalleryTHeight": 40
}'>
    
<a href="https://bu.dusays.com/2023/01/26/63d1f0720ad8d.jpg" data-ngThumb="https://bu.dusays.com/2023/01/26/63d1f0720ad8d.jpg"></a>

<a href="https://bu.dusays.com/2023/01/26/63d1f077d1a00.jpg" data-ngThumb="https://bu.dusays.com/2023/01/26/63d1f077d1a00.jpg"></a>

<a href="https://bu.dusays.com/2023/01/26/63d1f082ea677.jpg" data-ngThumb="https://bu.dusays.com/2023/01/26/63d1f082ea677.jpg"></a>

<a href="https://bu.dusays.com/2023/01/26/63d1f0ba11137.jpg" data-ngThumb="https://bu.dusays.com/2023/01/26/63d1f0ba11137.jpg"></a>

<a href="https://bu.dusays.com/2023/01/26/63d1f08a6d71e.jpg" data-ngThumb="https://bu.dusays.com/2023/01/26/63d1f08a6d71e.jpg"></a>

<a href="https://bu.dusays.com/2023/01/26/63d1f0a058fbb.jpg" data-ngThumb="https://bu.dusays.com/2023/01/26/63d1f0a058fbb.jpg"></a>

<a href="https://bu.dusays.com/2023/01/26/63d1f0a24bb49.jpg" data-ngThumb="https://bu.dusays.com/2023/01/26/63d1f0a24bb49.jpg"></a>


</div>
</body>
</html>

]]></content:encoded>
    </item>
    
    <item>
      <title>烧烤</title>
      <link>https://xancoding.cn/posts/2023-01-23-22-40-50/</link>
      <pubDate>Mon, 23 Jan 2023 22:40:50 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-01-23-22-40-50/</guid>
      <description>&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;
&lt;head&gt;
    &lt;meta name=&#34;viewport&#34; content=&#34;user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js&#34;&gt;&lt;/script&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js&#34;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div data-nanogallery2=&#39;{
	 &#34;thumbnailDisplayTransition&#34;:          &#34;none&#34;,
     &#34;thumbnailDisplayTransitionDuration&#34;:  500,
     &#34;thumbnailDisplayInterval&#34;:            30,
     &#34;galleryDisplayTransition&#34;:            &#34;none&#34;,
     &#34;galleryDisplayTransitionDuration&#34;:    500,
     &#34;galleryDisplayMode&#34;: &#34;rows&#34;,
     &#34;thumbnailDisplayOutsideScreen&#34;: &#34;false&#34;,
     &#34;eventsDebounceDelay&#34;: 10,
     &#34;thumbnailL1BorderHorizontal&#34;: 0,
     &#34;thumbnailL1BorderVertical&#34;: 0,
     &#34;thumbnailLabel&#34;: {
        &#34;titleFontSize&#34;: &#34;0.6em&#34;
     },
     &#34;thumbnailHoverEffect2&#34;: &#34;image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)&#34;,
     &#34;galleryTheme&#34;: {
        &#34;thumbnail&#34;: {
            &#34;borderRadius&#34;: &#34;8px&#34;
        }
     },
     &#34;thumbnailToolbarImage&#34;: {
        &#34;topLeft&#34;: &#34;&#34;,
        &#34;topRight&#34;: &#34;&#34;,
        &#34;bottomLeft&#34;: &#34;&#34;,
        &#34;bottomRight&#34;: &#34;&#34;
     },
     &#34;viewerToolbar&#34;:   {
        &#34;display&#34;: true,
        &#34;standard&#34;: &#34;label&#34;
     },
     &#34;viewerTools&#34;:     {
        &#34;topLeft&#34;:    &#34;pageCounter, playPauseButton&#34;,
        &#34;topRight&#34;:   &#34;downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton&#34;
     },
     &#34;viewerGalleryTWidth&#34;: 40,
     &#34;viewerGalleryTHeight&#34;: 40
}&#39;&gt;
    
&lt;a href=&#34;https://bu.dusays.com/2023/01/23/63ce9cca663f6.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/01/23/63ce9cca663f6.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/01/23/63ce9cd98e59e.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/01/23/63ce9cd98e59e.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/01/23/63ce9cdd2a8d8.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/01/23/63ce9cdd2a8d8.jpg&#34;&gt;&lt;/a&gt;


&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

</description>
      <content:encoded><![CDATA[<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js"></script>
</head>
<body>

<div data-nanogallery2='{
	 "thumbnailDisplayTransition":          "none",
     "thumbnailDisplayTransitionDuration":  500,
     "thumbnailDisplayInterval":            30,
     "galleryDisplayTransition":            "none",
     "galleryDisplayTransitionDuration":    500,
     "galleryDisplayMode": "rows",
     "thumbnailDisplayOutsideScreen": "false",
     "eventsDebounceDelay": 10,
     "thumbnailL1BorderHorizontal": 0,
     "thumbnailL1BorderVertical": 0,
     "thumbnailLabel": {
        "titleFontSize": "0.6em"
     },
     "thumbnailHoverEffect2": "image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)",
     "galleryTheme": {
        "thumbnail": {
            "borderRadius": "8px"
        }
     },
     "thumbnailToolbarImage": {
        "topLeft": "",
        "topRight": "",
        "bottomLeft": "",
        "bottomRight": ""
     },
     "viewerToolbar":   {
        "display": true,
        "standard": "label"
     },
     "viewerTools":     {
        "topLeft":    "pageCounter, playPauseButton",
        "topRight":   "downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton"
     },
     "viewerGalleryTWidth": 40,
     "viewerGalleryTHeight": 40
}'>
    
<a href="https://bu.dusays.com/2023/01/23/63ce9cca663f6.jpg" data-ngThumb="https://bu.dusays.com/2023/01/23/63ce9cca663f6.jpg"></a>

<a href="https://bu.dusays.com/2023/01/23/63ce9cd98e59e.jpg" data-ngThumb="https://bu.dusays.com/2023/01/23/63ce9cd98e59e.jpg"></a>

<a href="https://bu.dusays.com/2023/01/23/63ce9cdd2a8d8.jpg" data-ngThumb="https://bu.dusays.com/2023/01/23/63ce9cdd2a8d8.jpg"></a>


</div>
</body>
</html>

]]></content:encoded>
    </item>
    
    <item>
      <title>永嘉电视塔</title>
      <link>https://xancoding.cn/posts/2023-01-18-12-29-48/</link>
      <pubDate>Wed, 18 Jan 2023 12:29:48 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-01-18-12-29-48/</guid>
      <description>&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;
&lt;head&gt;
    &lt;meta name=&#34;viewport&#34; content=&#34;user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js&#34;&gt;&lt;/script&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css&#34;&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js&#34;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div data-nanogallery2=&#39;{
	 &#34;thumbnailDisplayTransition&#34;:          &#34;none&#34;,
     &#34;thumbnailDisplayTransitionDuration&#34;:  500,
     &#34;thumbnailDisplayInterval&#34;:            30,
     &#34;galleryDisplayTransition&#34;:            &#34;none&#34;,
     &#34;galleryDisplayTransitionDuration&#34;:    500,
     &#34;galleryDisplayMode&#34;: &#34;rows&#34;,
     &#34;thumbnailDisplayOutsideScreen&#34;: &#34;false&#34;,
     &#34;eventsDebounceDelay&#34;: 10,
     &#34;thumbnailL1BorderHorizontal&#34;: 0,
     &#34;thumbnailL1BorderVertical&#34;: 0,
     &#34;thumbnailLabel&#34;: {
        &#34;titleFontSize&#34;: &#34;0.6em&#34;
     },
     &#34;thumbnailHoverEffect2&#34;: &#34;image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)&#34;,
     &#34;galleryTheme&#34;: {
        &#34;thumbnail&#34;: {
            &#34;borderRadius&#34;: &#34;8px&#34;
        }
     },
     &#34;thumbnailToolbarImage&#34;: {
        &#34;topLeft&#34;: &#34;&#34;,
        &#34;topRight&#34;: &#34;&#34;,
        &#34;bottomLeft&#34;: &#34;&#34;,
        &#34;bottomRight&#34;: &#34;&#34;
     },
     &#34;viewerToolbar&#34;:   {
        &#34;display&#34;: true,
        &#34;standard&#34;: &#34;label&#34;
     },
     &#34;viewerTools&#34;:     {
        &#34;topLeft&#34;:    &#34;pageCounter, playPauseButton&#34;,
        &#34;topRight&#34;:   &#34;downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton&#34;
     },
     &#34;viewerGalleryTWidth&#34;: 40,
     &#34;viewerGalleryTHeight&#34;: 40
}&#39;&gt;
    
&lt;a href=&#34;https://bu.dusays.com/2023/01/18/63c775e2b61f0.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/01/18/63c775e2b61f0.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/01/18/63c775e7d4d1f.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/01/18/63c775e7d4d1f.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/01/18/63c775eb4e3cd.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/01/18/63c775eb4e3cd.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/01/18/63c775ee4e9b3.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/01/18/63c775ee4e9b3.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/01/18/63c775f7e4d82.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/01/18/63c775f7e4d82.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/01/18/63c77607ad5f1.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/01/18/63c77607ad5f1.jpg&#34;&gt;&lt;/a&gt;

&lt;a href=&#34;https://bu.dusays.com/2023/01/18/63c7766b73709.jpg&#34; data-ngThumb=&#34;https://bu.dusays.com/2023/01/18/63c7766b73709.jpg&#34;&gt;&lt;/a&gt;


&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

</description>
      <content:encoded><![CDATA[<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js"></script>
</head>
<body>

<div data-nanogallery2='{
	 "thumbnailDisplayTransition":          "none",
     "thumbnailDisplayTransitionDuration":  500,
     "thumbnailDisplayInterval":            30,
     "galleryDisplayTransition":            "none",
     "galleryDisplayTransitionDuration":    500,
     "galleryDisplayMode": "rows",
     "thumbnailDisplayOutsideScreen": "false",
     "eventsDebounceDelay": 10,
     "thumbnailL1BorderHorizontal": 0,
     "thumbnailL1BorderVertical": 0,
     "thumbnailLabel": {
        "titleFontSize": "0.6em"
     },
     "thumbnailHoverEffect2": "image_scale_1.00_1.10|label_backgroundColor_rgba(0,0,0,0)_rgba(255,255,255,0)",
     "galleryTheme": {
        "thumbnail": {
            "borderRadius": "8px"
        }
     },
     "thumbnailToolbarImage": {
        "topLeft": "",
        "topRight": "",
        "bottomLeft": "",
        "bottomRight": ""
     },
     "viewerToolbar":   {
        "display": true,
        "standard": "label"
     },
     "viewerTools":     {
        "topLeft":    "pageCounter, playPauseButton",
        "topRight":   "downloadButton, rotateLeft, zoomButton, fullscreenButton, closeButton"
     },
     "viewerGalleryTWidth": 40,
     "viewerGalleryTHeight": 40
}'>
    
<a href="https://bu.dusays.com/2023/01/18/63c775e2b61f0.jpg" data-ngThumb="https://bu.dusays.com/2023/01/18/63c775e2b61f0.jpg"></a>

<a href="https://bu.dusays.com/2023/01/18/63c775e7d4d1f.jpg" data-ngThumb="https://bu.dusays.com/2023/01/18/63c775e7d4d1f.jpg"></a>

<a href="https://bu.dusays.com/2023/01/18/63c775eb4e3cd.jpg" data-ngThumb="https://bu.dusays.com/2023/01/18/63c775eb4e3cd.jpg"></a>

<a href="https://bu.dusays.com/2023/01/18/63c775ee4e9b3.jpg" data-ngThumb="https://bu.dusays.com/2023/01/18/63c775ee4e9b3.jpg"></a>

<a href="https://bu.dusays.com/2023/01/18/63c775f7e4d82.jpg" data-ngThumb="https://bu.dusays.com/2023/01/18/63c775f7e4d82.jpg"></a>

<a href="https://bu.dusays.com/2023/01/18/63c77607ad5f1.jpg" data-ngThumb="https://bu.dusays.com/2023/01/18/63c77607ad5f1.jpg"></a>

<a href="https://bu.dusays.com/2023/01/18/63c7766b73709.jpg" data-ngThumb="https://bu.dusays.com/2023/01/18/63c7766b73709.jpg"></a>


</div>
</body>
</html>

]]></content:encoded>
    </item>
    
    <item>
      <title>Useful Tools</title>
      <link>https://xancoding.cn/posts/2023-01-15-12-42-38/</link>
      <pubDate>Sun, 15 Jan 2023 12:42:38 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2023-01-15-12-42-38/</guid>
      <description>&lt;h1 id=&#34;desktop&#34;&gt;Desktop&lt;/h1&gt;
&lt;h2 id=&#34;wallpaper-engine&#34;&gt;Wallpaper Engine&lt;/h2&gt;
&lt;p&gt;这是STEAM平台上的一款动态壁纸软件，可以在创意工坊中找到自己感兴趣的壁纸&lt;/p&gt;
&lt;center&gt; 
	&lt;img style=&#34;border-radius: 0.3125em; box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; src=&#34;https://bu.dusays.com/2023/01/15/63c38603de093.png&#34;&gt;
	&lt;br&gt;
	&lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9; 
	display: inline-block; 
	color: #999; 
	padding: 2px;&#34;&gt;app icon&lt;/div&gt; 
 &lt;/center&gt;
&lt;center&gt; 
	&lt;img style=&#34;border-radius: 0.3125em; box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; src=&#34;https://bu.dusays.com/2023/01/15/63c3863682391.png&#34;&gt;
	&lt;br&gt;
	&lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9; 
	display: inline-block; 
	color: #999; 
	padding: 2px;&#34;&gt;目前正在使用的壁纸&lt;/div&gt; 
 &lt;/center&gt;
&lt;h2 id=&#34;auto-dark-mode&#34;&gt;Auto Dark Mode&lt;/h2&gt;
&lt;p&gt;一款可以为Windows 提供自动深色模式的系统主题软件，&lt;strong&gt;可以根据不同规则（时间、电量、应用）自动切换深色模式或浅色模式。&lt;/strong&gt; &lt;strong&gt;在调整模式的同时甚至还可以自动切换桌面壁纸&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;translucenttb&#34;&gt;TranslucentTb&lt;/h2&gt;
&lt;p&gt;一款有趣的小工具，它可以让Windows 任务栏透明显示，只留下按钮及系统托盘，让壁纸全屏显示，让桌面显得更加完整&lt;/p&gt;
&lt;h1 id=&#34;productivity&#34;&gt;Productivity&lt;/h1&gt;
&lt;h2 id=&#34;utools&#34;&gt;uTools&lt;/h2&gt;
&lt;p&gt;通过 &lt;code&gt;alt + 空格键&lt;/code&gt; 调出搜索栏，通过&lt;code&gt;Esc&lt;/code&gt; 退出。&lt;/p&gt;
&lt;p&gt;调出输入框后，可以通过在地址栏中输入快捷字词，实现网页快开&lt;/p&gt;
&lt;p&gt;安装 &lt;code&gt;Everything&lt;/code&gt; 插件后，还可以直接搜索电脑中的文件以及文件夹&lt;/p&gt;
&lt;h2 id=&#34;snipaste&#34;&gt;Snipaste&lt;/h2&gt;
&lt;p&gt;一个简单但强大的截图工具&lt;/p&gt;
&lt;center&gt; 
	&lt;img style=&#34;border-radius: 0.3125em; box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; src=&#34;https://bu.dusays.com/2023/01/15/63c38cad0588a.png&#34;&gt;
	&lt;br&gt;
	&lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9; 
	display: inline-block; 
	color: #999; 
	padding: 2px;&#34;&gt;app icon&lt;/div&gt; 
 &lt;/center&gt;
&lt;h2 id=&#34;7-zip&#34;&gt;7-Zip&lt;/h2&gt;
&lt;p&gt;一款高压缩比的压缩解压缩软件&lt;/p&gt;
&lt;center&gt; 
	&lt;img style=&#34;border-radius: 0.3125em; box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; src=&#34;https://bu.dusays.com/2023/01/15/63c38d1fb0cd7.png&#34;&gt;
	&lt;br&gt;
	&lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9; 
	display: inline-block; 
	color: #999; 
	padding: 2px;&#34;&gt;app icon&lt;/div&gt; 
 &lt;/center&gt;
&lt;h2 id=&#34;picgo--obsidian-image-auto-upload-plugin&#34;&gt;PicGo &amp;amp; Obsidian Image auto upload Plugin&lt;/h2&gt;
&lt;p&gt;我使用的图床是&lt;a href=&#34;https://7bu.top/upload&#34;&gt;去不图床&lt;/a&gt;，借助 &lt;code&gt;PicGo&lt;/code&gt;，方便将图片上传到图床，并生成访问链接用于访问图片（我的主要使用场景是博客中的图片），最后再借助 &lt;code&gt;Obsidian&lt;/code&gt; 中的 &lt;code&gt;Image auto upload Plugin&lt;/code&gt; 插件，简化我原先写博客时需要一张一张上传图片，复制链接的繁琐过程。&lt;br&gt;
如今，只用把图片拖拽到 &lt;code&gt;Obsidian&lt;/code&gt; 编辑器中，即可自动将图片通过 &lt;code&gt;PicGo&lt;/code&gt; 上传到 &lt;code&gt;去不图床&lt;/code&gt;，并生成链接，显示在 &lt;code&gt;Obsidian&lt;/code&gt; 中。&lt;/p&gt;
&lt;h2 id=&#34;alist--raidrive&#34;&gt;Alist &amp;amp; RaiDrive&lt;/h2&gt;
&lt;p&gt;网盘聚合，虚拟本地磁盘挂载&lt;/p&gt;
&lt;h2 id=&#34;idm&#34;&gt;IDM&lt;/h2&gt;
&lt;p&gt;超级强大下载工具，能和浏览器无缝配合，自动抓取网页视频&lt;/p&gt;
&lt;h2 id=&#34;onedrive&#34;&gt;OneDrive&lt;/h2&gt;
&lt;p&gt;在计算机与云之间同步文件，以便能够从任何位置访问你的文件&lt;/p&gt;
&lt;h2 id=&#34;cloudmusic&#34;&gt;CloudMusic&lt;/h2&gt;
&lt;p&gt;网易云音乐&lt;/p&gt;
&lt;h2 id=&#34;vieas&#34;&gt;Vieas&lt;/h2&gt;
&lt;p&gt;一款轻量级的快速看图工具&lt;/p&gt;
&lt;h1 id=&#34;computer-trash-removal&#34;&gt;Computer trash removal&lt;/h1&gt;
&lt;h2 id=&#34;geek-uninstalled&#34;&gt;Geek Uninstalled&lt;/h2&gt;
&lt;p&gt;卸载软件，可以卸载的比较干净&lt;/p&gt;
&lt;h2 id=&#34;spacesniffer&#34;&gt;SpaceSniffer&lt;/h2&gt;
&lt;p&gt;一款非常优秀的硬盘扫描和管理软件，能够通过颜色、图表的方式为用户直观地呈现硬盘中的文件表达情况&lt;/p&gt;
&lt;h2 id=&#34;ccleaner&#34;&gt;CCleaner&lt;/h2&gt;
&lt;p&gt;定时清理垃圾&lt;/p&gt;
&lt;h1 id=&#34;program--writing&#34;&gt;Program &amp;amp; Writing&lt;/h1&gt;
&lt;h2 id=&#34;jupyter-notebook&#34;&gt;Jupyter Notebook&lt;/h2&gt;
&lt;p&gt;基于网页的用于交互计算的应用程序，可被应用于 文档编写、代码运行和效果展示&lt;/p&gt;
&lt;h2 id=&#34;typora&#34;&gt;Typora&lt;/h2&gt;
&lt;p&gt;简易的 &lt;code&gt;Markdown&lt;/code&gt; 编辑器&lt;/p&gt;
&lt;h2 id=&#34;jetbrains&#34;&gt;JetBrains&lt;/h2&gt;
&lt;p&gt;学生可以申请免费使用，通过学生认证即可&lt;/p&gt;
&lt;h3 id=&#34;clion&#34;&gt;CLion&lt;/h3&gt;
&lt;p&gt;C/C++&lt;/p&gt;
&lt;h3 id=&#34;pycharm&#34;&gt;Pycharm&lt;/h3&gt;
&lt;p&gt;Python&lt;/p&gt;
&lt;h2 id=&#34;vscode&#34;&gt;VSCode&lt;/h2&gt;
&lt;p&gt;代码编辑器，可以通过下载合适的插件支持各种编程语言&lt;/p&gt;
&lt;h2 id=&#34;virtualbox&#34;&gt;VirtualBox&lt;/h2&gt;
&lt;p&gt;虚拟机&lt;/p&gt;
&lt;h2 id=&#34;git-for-windows&#34;&gt;Git for Windows&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Git的官方Windows版本&lt;/strong&gt;，可以在 &lt;code&gt;git bash&lt;/code&gt; 下运行大多数标准 &lt;code&gt;Unix&lt;/code&gt; 命令&lt;/p&gt;
&lt;h2 id=&#34;devdocs&#34;&gt;devdocs&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://devdocs.io/&#34;&gt;https://devdocs.io/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;各种文档&lt;/p&gt;
&lt;h1 id=&#34;outside&#34;&gt;Outside&lt;/h1&gt;
&lt;h2 id=&#34;clash&#34;&gt;Clash&lt;/h2&gt;
&lt;p&gt;代理软件&lt;/p&gt;
&lt;h2 id=&#34;tor-browser&#34;&gt;Tor Browser&lt;/h2&gt;
&lt;p&gt;一个免费的网络浏览器，提供对匿名和加密的 &lt;code&gt;Tor&lt;/code&gt; 网络的访问&lt;/p&gt;
&lt;h2 id=&#34;telegram&#34;&gt;Telegram&lt;/h2&gt;
&lt;p&gt;隐私聊天，设备间传输文件&lt;/p&gt;
&lt;h1 id=&#34;games&#34;&gt;Games&lt;/h1&gt;
&lt;h2 id=&#34;xianniu&#34;&gt;Xianniu&lt;/h2&gt;
&lt;p&gt;游戏加速器&lt;/p&gt;
&lt;h2 id=&#34;steam&#34;&gt;Steam&lt;/h2&gt;
&lt;p&gt;游戏平台&lt;/p&gt;
&lt;h2 id=&#34;完美世界竞技平台&#34;&gt;完美世界竞技平台&lt;/h2&gt;
&lt;p&gt;一个专注于竞技游戏的平台&lt;/p&gt;
</description>
      <content:encoded><![CDATA[<h1 id="desktop">Desktop</h1>
<h2 id="wallpaper-engine">Wallpaper Engine</h2>
<p>这是STEAM平台上的一款动态壁纸软件，可以在创意工坊中找到自己感兴趣的壁纸</p>
<center> 
	<img style="border-radius: 0.3125em; box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" src="https://bu.dusays.com/2023/01/15/63c38603de093.png">
	<br>
	<div style="color:orange; border-bottom: 1px solid #d9d9d9; 
	display: inline-block; 
	color: #999; 
	padding: 2px;">app icon</div> 
 </center>
<center> 
	<img style="border-radius: 0.3125em; box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" src="https://bu.dusays.com/2023/01/15/63c3863682391.png">
	<br>
	<div style="color:orange; border-bottom: 1px solid #d9d9d9; 
	display: inline-block; 
	color: #999; 
	padding: 2px;">目前正在使用的壁纸</div> 
 </center>
<h2 id="auto-dark-mode">Auto Dark Mode</h2>
<p>一款可以为Windows 提供自动深色模式的系统主题软件，<strong>可以根据不同规则（时间、电量、应用）自动切换深色模式或浅色模式。</strong> <strong>在调整模式的同时甚至还可以自动切换桌面壁纸</strong></p>
<h2 id="translucenttb">TranslucentTb</h2>
<p>一款有趣的小工具，它可以让Windows 任务栏透明显示，只留下按钮及系统托盘，让壁纸全屏显示，让桌面显得更加完整</p>
<h1 id="productivity">Productivity</h1>
<h2 id="utools">uTools</h2>
<p>通过 <code>alt + 空格键</code> 调出搜索栏，通过<code>Esc</code> 退出。</p>
<p>调出输入框后，可以通过在地址栏中输入快捷字词，实现网页快开</p>
<p>安装 <code>Everything</code> 插件后，还可以直接搜索电脑中的文件以及文件夹</p>
<h2 id="snipaste">Snipaste</h2>
<p>一个简单但强大的截图工具</p>
<center> 
	<img style="border-radius: 0.3125em; box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" src="https://bu.dusays.com/2023/01/15/63c38cad0588a.png">
	<br>
	<div style="color:orange; border-bottom: 1px solid #d9d9d9; 
	display: inline-block; 
	color: #999; 
	padding: 2px;">app icon</div> 
 </center>
<h2 id="7-zip">7-Zip</h2>
<p>一款高压缩比的压缩解压缩软件</p>
<center> 
	<img style="border-radius: 0.3125em; box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" src="https://bu.dusays.com/2023/01/15/63c38d1fb0cd7.png">
	<br>
	<div style="color:orange; border-bottom: 1px solid #d9d9d9; 
	display: inline-block; 
	color: #999; 
	padding: 2px;">app icon</div> 
 </center>
<h2 id="picgo--obsidian-image-auto-upload-plugin">PicGo &amp; Obsidian Image auto upload Plugin</h2>
<p>我使用的图床是<a href="https://7bu.top/upload">去不图床</a>，借助 <code>PicGo</code>，方便将图片上传到图床，并生成访问链接用于访问图片（我的主要使用场景是博客中的图片），最后再借助 <code>Obsidian</code> 中的 <code>Image auto upload Plugin</code> 插件，简化我原先写博客时需要一张一张上传图片，复制链接的繁琐过程。<br>
如今，只用把图片拖拽到 <code>Obsidian</code> 编辑器中，即可自动将图片通过 <code>PicGo</code> 上传到 <code>去不图床</code>，并生成链接，显示在 <code>Obsidian</code> 中。</p>
<h2 id="alist--raidrive">Alist &amp; RaiDrive</h2>
<p>网盘聚合，虚拟本地磁盘挂载</p>
<h2 id="idm">IDM</h2>
<p>超级强大下载工具，能和浏览器无缝配合，自动抓取网页视频</p>
<h2 id="onedrive">OneDrive</h2>
<p>在计算机与云之间同步文件，以便能够从任何位置访问你的文件</p>
<h2 id="cloudmusic">CloudMusic</h2>
<p>网易云音乐</p>
<h2 id="vieas">Vieas</h2>
<p>一款轻量级的快速看图工具</p>
<h1 id="computer-trash-removal">Computer trash removal</h1>
<h2 id="geek-uninstalled">Geek Uninstalled</h2>
<p>卸载软件，可以卸载的比较干净</p>
<h2 id="spacesniffer">SpaceSniffer</h2>
<p>一款非常优秀的硬盘扫描和管理软件，能够通过颜色、图表的方式为用户直观地呈现硬盘中的文件表达情况</p>
<h2 id="ccleaner">CCleaner</h2>
<p>定时清理垃圾</p>
<h1 id="program--writing">Program &amp; Writing</h1>
<h2 id="jupyter-notebook">Jupyter Notebook</h2>
<p>基于网页的用于交互计算的应用程序，可被应用于 文档编写、代码运行和效果展示</p>
<h2 id="typora">Typora</h2>
<p>简易的 <code>Markdown</code> 编辑器</p>
<h2 id="jetbrains">JetBrains</h2>
<p>学生可以申请免费使用，通过学生认证即可</p>
<h3 id="clion">CLion</h3>
<p>C/C++</p>
<h3 id="pycharm">Pycharm</h3>
<p>Python</p>
<h2 id="vscode">VSCode</h2>
<p>代码编辑器，可以通过下载合适的插件支持各种编程语言</p>
<h2 id="virtualbox">VirtualBox</h2>
<p>虚拟机</p>
<h2 id="git-for-windows">Git for Windows</h2>
<p><strong>Git的官方Windows版本</strong>，可以在 <code>git bash</code> 下运行大多数标准 <code>Unix</code> 命令</p>
<h2 id="devdocs">devdocs</h2>
<ul>
<li><a href="https://devdocs.io/">https://devdocs.io/</a></li>
</ul>
<p>各种文档</p>
<h1 id="outside">Outside</h1>
<h2 id="clash">Clash</h2>
<p>代理软件</p>
<h2 id="tor-browser">Tor Browser</h2>
<p>一个免费的网络浏览器，提供对匿名和加密的 <code>Tor</code> 网络的访问</p>
<h2 id="telegram">Telegram</h2>
<p>隐私聊天，设备间传输文件</p>
<h1 id="games">Games</h1>
<h2 id="xianniu">Xianniu</h2>
<p>游戏加速器</p>
<h2 id="steam">Steam</h2>
<p>游戏平台</p>
<h2 id="完美世界竞技平台">完美世界竞技平台</h2>
<p>一个专注于竞技游戏的平台</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>计算机系统基础</title>
      <link>https://xancoding.cn/posts/2022-11-15-21-37-17/</link>
      <pubDate>Tue, 15 Nov 2022 21:37:17 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2022-11-15-21-37-17/</guid>
      <description>&lt;h1 id=&#34;计算机系统基础一程序的表示转换与链接&#34;&gt;计算机系统基础(一)——程序的表示、转换与链接&lt;/h1&gt;
&lt;h2 id=&#34;原码移码补码&#34;&gt;原码&amp;amp;移码&amp;amp;补码&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;原码
&lt;ul&gt;
&lt;li&gt;&lt;u&gt;最高位放符号位，1 表示负&lt;/u&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;定点小数，用来表示浮点数的尾数&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;移码
&lt;ul&gt;
&lt;li&gt;&lt;u&gt;真值加上一个偏置值 bias&lt;/u&gt;， bias 常为 2&lt;sup&gt;n - 1&lt;/sup&gt; or 2&lt;sup&gt;n - 1&lt;/sup&gt; - 1 (如 IEEE 754)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;定点整数，用来表示浮点数的阶&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;移码的本意是为了方便两个数作比较&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;补码
&lt;ul&gt;
&lt;li&gt;假设补码有  n  位，则：&lt;strong&gt;x&lt;sub&gt;补&lt;/sub&gt; = 2&lt;sup&gt;n&lt;/sup&gt; + x&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;u&gt;数值为正数时，其值大小就是原码；为负时，其值的大小就是各位取反再加 1&lt;/u&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;补码表示带符号整数&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;补码的出现是为了解决计算机的减法运算问题&lt;/li&gt;
&lt;li&gt;求补码的真值——简便求法
&lt;ul&gt;
&lt;li&gt;符号为 0 ，则为正数，数值部分相同&lt;/li&gt;
&lt;li&gt;符号为 1，则为负数，数值各位取反，末位加 1&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;u&gt;各位取反，末位加 1 简便做法：从后往前看，找到第一个 1 ，将它前面的所有位取反&lt;/u&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;浮点数-ieee754-标准&#34;&gt;浮点数—— IEEE754 标准&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;u&gt;数符 + 阶码 + 尾数&lt;/u&gt;
&lt;ul&gt;
&lt;li&gt;Float  1 + 8 + 23
&lt;ul&gt;
&lt;li&gt;SP ： (-1) &lt;sup&gt;s&lt;/sup&gt;   *   (1 + Significand)   *   2 &lt;sup&gt;(Exponent  - 127)&lt;/sup&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Double  1 + 11 + 52
&lt;ul&gt;
&lt;li&gt;DP ： (-1) &lt;sup&gt;s&lt;/sup&gt;   *   (1 + Significand)   *   2 &lt;sup&gt;(Exponent  - 1023)&lt;/sup&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;数符  Sign bit
&lt;ul&gt;
&lt;li&gt;1 表示负数&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;阶码  Exponent
&lt;ul&gt;
&lt;li&gt;规格化阶码范围为  0000 0001(-126) —— 1111 1110(127)   (single)&lt;/li&gt;
&lt;li&gt;bias  为  127(single)   1023(double)&lt;/li&gt;
&lt;li&gt;规格化阶范围为  1——254  (single)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;全  0  和全  1  用来表示特殊值&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;为避免混淆，用&lt;u&gt;阶码表示阶的编码&lt;/u&gt;，用&lt;u&gt;阶或指数表示阶码的值&lt;/u&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;尾数  Significand
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;规格化尾数最高位总是  1 ，所以隐含表示，省  1  位，小数点前总是  1&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;特殊数的表示 (single)
&lt;ul&gt;
&lt;li&gt;0
&lt;ul&gt;
&lt;li&gt;阶码：all   zeros&lt;/li&gt;
&lt;li&gt;尾数：all   zeros&lt;/li&gt;
&lt;li&gt;+0：0   00000000   00000000000000000000000&lt;/li&gt;
&lt;li&gt;-0：1   00000000   00000000000000000000000&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;∞
&lt;ul&gt;
&lt;li&gt;阶码：all   ones&lt;/li&gt;
&lt;li&gt;尾数：all   zeros&lt;/li&gt;
&lt;li&gt;+∞：0   11111111   00000000000000000000000&lt;/li&gt;
&lt;li&gt;-∞：1   11111111   00000000000000000000000&lt;/li&gt;
&lt;li&gt;浮点数除以  0  的结果是  ∞ ，而不是溢出异常(整数除以  0  为异常)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;NaN   ( Not   a   Number )
&lt;ul&gt;
&lt;li&gt;阶码：all   ones&lt;/li&gt;
&lt;li&gt;尾数：nonzeros&lt;/li&gt;
&lt;li&gt;&lt;u&gt;可帮助调试程序&lt;/u&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;非规格化数  Denorms&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;阶码：all   zeros&lt;/li&gt;
&lt;li&gt;尾数：nonzeros&lt;/li&gt;
&lt;li&gt;用于表示  0  与规格化数间的 Gap&lt;/li&gt;
&lt;li&gt;SP ： (-1) &lt;sup&gt;s&lt;/sup&gt;   *   (0.xxxx&amp;hellip;xxx)   *   2 &lt;sup&gt;-126&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;为了让非规格化单精度浮点数能够平缓过渡到规格化单精度浮点数，所以取  2 &lt;sup&gt;-126&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;&lt;u&gt;当输入数据为不可表示数时，机器将其转换为最邻近的可表示数&lt;/u&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;汉字内码ascii码&#34;&gt;汉字内码&amp;amp;ASCII码&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;u&gt;ASCII码为 7 位编码&lt;/u&gt;&lt;/li&gt;
&lt;li&gt;Ex：汉字 &amp;quot; 大 &amp;quot; 在码表中位于第  20  行、第  83  列。因此&lt;u&gt;区位码&lt;/u&gt;为  0010100   1010011 ，在区、位码上各加  32  得到两个字节编码（&lt;u&gt;GB2312国标码&lt;/u&gt;），即  00110100   01110011B   =   3473H 。前面的  34 H  和 字符  4  的  ACSII  的最高位相同，后面的  73H  和字符  s  的  ACSII  码相同。但是，将每个字节的最高位各设为  1  后，就得到其&lt;u&gt;内码&lt;/u&gt;：  B4F3H  ( 0110100   11110011B )，因而不会和  ASCII  码混淆&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;逻辑电路&#34;&gt;逻辑电路&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;异或： n  个数做异或运算，若有奇数个  1  ，则输出  1&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;推荐阅读&#34;&gt;推荐阅读&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/118432554&#34;&gt;# 原码、反码、补码&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1gx411n7aG/?spm_id_from=333.337.search-card.all.click&amp;amp;vd_source=ae16ff6478eb15c1b87880540263910b&#34;&gt;计算机系统基础(一)——程序的表示、转换与链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1Xx411E7qn/?spm_id_from=333.337.search-card.all.click&amp;amp;vd_source=ae16ff6478eb15c1b87880540263910b&#34;&gt;计算机系统基础(二)——异常、中断和输入/输出&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1jE411874k/?spm_id_from=333.337.search-card.all.click&amp;amp;vd_source=ae16ff6478eb15c1b87880540263910b&#34;&gt;计算机系统基础(三)——程序的执行和存储访问&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;以 &lt;code&gt;IA-32 + Linux + C + gcc&lt;/code&gt; 为平台&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1iW411d7hd?p=1&amp;amp;vd_source=ae16ff6478eb15c1b87880540263910b&#34;&gt;【精校中英字幕】2015 CMU 15-213 CSAPP 深入理解计算机系统&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&#34;https://book.douban.com/subject/26912767/&#34;&gt;《深入理解计算机系统（原书第3版）》CSAPP&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
      <content:encoded><![CDATA[<h1 id="计算机系统基础一程序的表示转换与链接">计算机系统基础(一)——程序的表示、转换与链接</h1>
<h2 id="原码移码补码">原码&amp;移码&amp;补码</h2>
<ol>
<li>原码
<ul>
<li><u>最高位放符号位，1 表示负</u></li>
<li><code>定点小数，用来表示浮点数的尾数</code></li>
</ul>
</li>
<li>移码
<ul>
<li><u>真值加上一个偏置值 bias</u>， bias 常为 2<sup>n - 1</sup> or 2<sup>n - 1</sup> - 1 (如 IEEE 754)</li>
<li><code>定点整数，用来表示浮点数的阶</code></li>
<li>移码的本意是为了方便两个数作比较</li>
</ul>
</li>
<li>补码
<ul>
<li>假设补码有  n  位，则：<strong>x<sub>补</sub> = 2<sup>n</sup> + x</strong></li>
<li><u>数值为正数时，其值大小就是原码；为负时，其值的大小就是各位取反再加 1</u></li>
<li><code>补码表示带符号整数</code></li>
<li>补码的出现是为了解决计算机的减法运算问题</li>
<li>求补码的真值——简便求法
<ul>
<li>符号为 0 ，则为正数，数值部分相同</li>
<li>符号为 1，则为负数，数值各位取反，末位加 1</li>
</ul>
</li>
</ul>
</li>
</ol>
<ul>
<li><u>各位取反，末位加 1 简便做法：从后往前看，找到第一个 1 ，将它前面的所有位取反</u></li>
</ul>
<h2 id="浮点数-ieee754-标准">浮点数—— IEEE754 标准</h2>
<ul>
<li><u>数符 + 阶码 + 尾数</u>
<ul>
<li>Float  1 + 8 + 23
<ul>
<li>SP ： (-1) <sup>s</sup>   *   (1 + Significand)   *   2 <sup>(Exponent  - 127)</sup></li>
</ul>
</li>
<li>Double  1 + 11 + 52
<ul>
<li>DP ： (-1) <sup>s</sup>   *   (1 + Significand)   *   2 <sup>(Exponent  - 1023)</sup></li>
</ul>
</li>
</ul>
</li>
</ul>
<ol>
<li>数符  Sign bit
<ul>
<li>1 表示负数</li>
</ul>
</li>
<li>阶码  Exponent
<ul>
<li>规格化阶码范围为  0000 0001(-126) —— 1111 1110(127)   (single)</li>
<li>bias  为  127(single)   1023(double)</li>
<li>规格化阶范围为  1——254  (single)</li>
<li><strong>全  0  和全  1  用来表示特殊值</strong></li>
<li>为避免混淆，用<u>阶码表示阶的编码</u>，用<u>阶或指数表示阶码的值</u></li>
</ul>
</li>
<li>尾数  Significand
<ul>
<li><strong>规格化尾数最高位总是  1 ，所以隐含表示，省  1  位，小数点前总是  1</strong></li>
</ul>
</li>
</ol>
<ul>
<li>特殊数的表示 (single)
<ul>
<li>0
<ul>
<li>阶码：all   zeros</li>
<li>尾数：all   zeros</li>
<li>+0：0   00000000   00000000000000000000000</li>
<li>-0：1   00000000   00000000000000000000000</li>
</ul>
</li>
<li>∞
<ul>
<li>阶码：all   ones</li>
<li>尾数：all   zeros</li>
<li>+∞：0   11111111   00000000000000000000000</li>
<li>-∞：1   11111111   00000000000000000000000</li>
<li>浮点数除以  0  的结果是  ∞ ，而不是溢出异常(整数除以  0  为异常)</li>
</ul>
</li>
<li>NaN   ( Not   a   Number )
<ul>
<li>阶码：all   ones</li>
<li>尾数：nonzeros</li>
<li><u>可帮助调试程序</u></li>
</ul>
</li>
<li><strong>非规格化数  Denorms</strong>
<ul>
<li>阶码：all   zeros</li>
<li>尾数：nonzeros</li>
<li>用于表示  0  与规格化数间的 Gap</li>
<li>SP ： (-1) <sup>s</sup>   *   (0.xxxx&hellip;xxx)   *   2 <sup>-126</sup></li>
<li>为了让非规格化单精度浮点数能够平缓过渡到规格化单精度浮点数，所以取  2 <sup>-126</sup></li>
<li><u>当输入数据为不可表示数时，机器将其转换为最邻近的可表示数</u></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="汉字内码ascii码">汉字内码&amp;ASCII码</h2>
<ul>
<li><u>ASCII码为 7 位编码</u></li>
<li>Ex：汉字 &quot; 大 &quot; 在码表中位于第  20  行、第  83  列。因此<u>区位码</u>为  0010100   1010011 ，在区、位码上各加  32  得到两个字节编码（<u>GB2312国标码</u>），即  00110100   01110011B   =   3473H 。前面的  34 H  和 字符  4  的  ACSII  的最高位相同，后面的  73H  和字符  s  的  ACSII  码相同。但是，将每个字节的最高位各设为  1  后，就得到其<u>内码</u>：  B4F3H  ( 0110100   11110011B )，因而不会和  ASCII  码混淆</li>
</ul>
<h2 id="逻辑电路">逻辑电路</h2>
<ul>
<li>异或： n  个数做异或运算，若有奇数个  1  ，则输出  1</li>
</ul>
<h1 id="推荐阅读">推荐阅读</h1>
<ol>
<li><a href="https://zhuanlan.zhihu.com/p/118432554"># 原码、反码、补码</a></li>
</ol>
<hr>
<ul>
<li><a href="https://www.bilibili.com/video/BV1gx411n7aG/?spm_id_from=333.337.search-card.all.click&amp;vd_source=ae16ff6478eb15c1b87880540263910b">计算机系统基础(一)——程序的表示、转换与链接</a></li>
<li><a href="https://www.bilibili.com/video/BV1Xx411E7qn/?spm_id_from=333.337.search-card.all.click&amp;vd_source=ae16ff6478eb15c1b87880540263910b">计算机系统基础(二)——异常、中断和输入/输出</a></li>
<li><a href="https://www.bilibili.com/video/BV1jE411874k/?spm_id_from=333.337.search-card.all.click&amp;vd_source=ae16ff6478eb15c1b87880540263910b">计算机系统基础(三)——程序的执行和存储访问</a>
<ul>
<li>以 <code>IA-32 + Linux + C + gcc</code> 为平台</li>
</ul>
</li>
<li><a href="https://www.bilibili.com/video/BV1iW411d7hd?p=1&amp;vd_source=ae16ff6478eb15c1b87880540263910b">【精校中英字幕】2015 CMU 15-213 CSAPP 深入理解计算机系统</a></li>
</ul>
<hr>
<ul>
<li><strong><a href="https://book.douban.com/subject/26912767/">《深入理解计算机系统（原书第3版）》CSAPP</a></strong></li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>Self-study</title>
      <link>https://xancoding.cn/posts/2022-11-14-15-56-45/</link>
      <pubDate>Mon, 14 Nov 2022 15:56:45 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2022-11-14-15-56-45/</guid>
      <description>&lt;h1 id=&#34;positive-attitude&#34;&gt;Positive Attitude&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;排除不必要的干扰&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;摆正心&lt;/strong&gt;态：从来都没有什么捷径，要打好基础。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;多肯定自己&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;how-to-start&#34;&gt;How to start?&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;带目的、带问题&lt;/strong&gt; 的学习：在开始一个新东西的学习时，先问问自己几个问题：我为什么要学它？我需要学到什么程度？&lt;/li&gt;
&lt;li&gt;在学习一个新东西时，要&lt;strong&gt;先对其知识体系有个大致的了解&lt;/strong&gt;，先有了全面的认识之后，再对细枝末节做深入的了解。当然，对细枝末节的了解，也是要有优先级之分的&lt;/li&gt;
&lt;li&gt;在开始之前，准备工作是必不可少的。你需要&lt;strong&gt;尽可能的找到你所需要的所有资源&lt;/strong&gt;，可以从问答论坛、搜索引擎、好友推荐等等途径，主要是筛选学习过程中所要读的书籍，包括入门以及深入学习的书籍&lt;/li&gt;
&lt;li&gt;阅读书籍也不能采取从头看到尾的做法，而是根据自己的情况，&lt;strong&gt;做一些取舍&lt;/strong&gt;。同时看多本书籍也是不错的选择，它们往往会给你带来不一样的启发&lt;/li&gt;
&lt;li&gt;还要学会&lt;strong&gt;边学边做&lt;/strong&gt;，通过一些具体的项目带动学习。这在学习技术方面的知识时，尤其重要。毕竟，你学习它，为的是最后的应用&lt;/li&gt;
&lt;li&gt;学习应该是阶梯式的，要懂得&lt;strong&gt;循序渐进&lt;/strong&gt;，不能一开始就是困难模式。这不仅会打击自己的自信心，也不利于后续的学习&lt;/li&gt;
&lt;li&gt;以文字媒介代替视频媒介，即使是视屏媒介，也尝试去搜索文字稿&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;how-to-check-the-mastery&#34;&gt;How to check the mastery?&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;你要先能在脑子里有个清楚的脉络，&lt;strong&gt;多多问自己问题&lt;/strong&gt;，从 WHY 到 HOW，再到 WHY。发现自己卡壳的地方，要借助搜索引擎、书籍或是别的途径及时解决&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;写下来&lt;/strong&gt;：知识点可能会很杂很乱，有时候做一个知识导图可以很好的帮助理解。过一段时间，当因为不怎么用到某一个知识点而忘得差不多时，你自己写的文字或者做的图，可以很好的帮助你回忆起来——前提是这是你经过思考的出的，而不只是复制粘贴——那将毫无用处&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;讲出来&lt;/strong&gt;：你可以跟别人（也可以自己跟自己讲）将你最近学到的东西。通过语言的形式，用嘴讲出来（一定是用嘴讲，而不只是停留在脑子里想）。每当这个时候，你都会意识到自己以为掌握的东西，实际上并没有。多数时候，你会讲述的很混乱。但不必灰心，多尝试尝试，自然会理顺的。当你可以流利的讲出来时，自然就说明它已经成为了你自己的东西&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;key&#34;&gt;Key&lt;/h1&gt;
&lt;p&gt;多实践&lt;/p&gt;
&lt;p&gt;多交流&lt;/p&gt;
&lt;p&gt;多动笔（言简意赅）&lt;/p&gt;
&lt;h1 id=&#34;推荐阅读&#34;&gt;推荐阅读&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://program-think.blogspot.com/2017/08/Some-Reasons-to-Watch-Less-Videos.html&#34;&gt;为啥俺很少看视频？——兼谈“视频”与“文本”在认知心理学方面的差异&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://program-think.blogspot.com/2012/02/microblog-and-time-management.html&#34;&gt;为啥俺不常用微博？——兼谈时间管理心得&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://program-think.blogspot.com/2013/04/why-write-blog.html&#34;&gt;为啥俺要写这个博客——动机的自我分析&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
      <content:encoded><![CDATA[<h1 id="positive-attitude">Positive Attitude</h1>
<ol>
<li><strong>排除不必要的干扰</strong></li>
<li><strong>摆正心</strong>态：从来都没有什么捷径，要打好基础。</li>
<li><strong>多肯定自己</strong></li>
</ol>
<h1 id="how-to-start">How to start?</h1>
<ol>
<li><strong>带目的、带问题</strong> 的学习：在开始一个新东西的学习时，先问问自己几个问题：我为什么要学它？我需要学到什么程度？</li>
<li>在学习一个新东西时，要<strong>先对其知识体系有个大致的了解</strong>，先有了全面的认识之后，再对细枝末节做深入的了解。当然，对细枝末节的了解，也是要有优先级之分的</li>
<li>在开始之前，准备工作是必不可少的。你需要<strong>尽可能的找到你所需要的所有资源</strong>，可以从问答论坛、搜索引擎、好友推荐等等途径，主要是筛选学习过程中所要读的书籍，包括入门以及深入学习的书籍</li>
<li>阅读书籍也不能采取从头看到尾的做法，而是根据自己的情况，<strong>做一些取舍</strong>。同时看多本书籍也是不错的选择，它们往往会给你带来不一样的启发</li>
<li>还要学会<strong>边学边做</strong>，通过一些具体的项目带动学习。这在学习技术方面的知识时，尤其重要。毕竟，你学习它，为的是最后的应用</li>
<li>学习应该是阶梯式的，要懂得<strong>循序渐进</strong>，不能一开始就是困难模式。这不仅会打击自己的自信心，也不利于后续的学习</li>
<li>以文字媒介代替视频媒介，即使是视屏媒介，也尝试去搜索文字稿</li>
</ol>
<h1 id="how-to-check-the-mastery">How to check the mastery?</h1>
<ol>
<li>你要先能在脑子里有个清楚的脉络，<strong>多多问自己问题</strong>，从 WHY 到 HOW，再到 WHY。发现自己卡壳的地方，要借助搜索引擎、书籍或是别的途径及时解决</li>
<li><strong>写下来</strong>：知识点可能会很杂很乱，有时候做一个知识导图可以很好的帮助理解。过一段时间，当因为不怎么用到某一个知识点而忘得差不多时，你自己写的文字或者做的图，可以很好的帮助你回忆起来——前提是这是你经过思考的出的，而不只是复制粘贴——那将毫无用处</li>
<li><strong>讲出来</strong>：你可以跟别人（也可以自己跟自己讲）将你最近学到的东西。通过语言的形式，用嘴讲出来（一定是用嘴讲，而不只是停留在脑子里想）。每当这个时候，你都会意识到自己以为掌握的东西，实际上并没有。多数时候，你会讲述的很混乱。但不必灰心，多尝试尝试，自然会理顺的。当你可以流利的讲出来时，自然就说明它已经成为了你自己的东西</li>
</ol>
<h1 id="key">Key</h1>
<p>多实践</p>
<p>多交流</p>
<p>多动笔（言简意赅）</p>
<h1 id="推荐阅读">推荐阅读</h1>
<ol>
<li><a href="https://program-think.blogspot.com/2017/08/Some-Reasons-to-Watch-Less-Videos.html">为啥俺很少看视频？——兼谈“视频”与“文本”在认知心理学方面的差异</a></li>
<li><a href="https://program-think.blogspot.com/2012/02/microblog-and-time-management.html">为啥俺不常用微博？——兼谈时间管理心得</a></li>
<li><a href="https://program-think.blogspot.com/2013/04/why-write-blog.html">为啥俺要写这个博客——动机的自我分析</a></li>
</ol>
]]></content:encoded>
    </item>
    
    <item>
      <title>AcWing Web 应用课</title>
      <link>https://xancoding.cn/posts/2022-11-02-15-49-03/</link>
      <pubDate>Wed, 02 Nov 2022 15:49:03 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2022-11-02-15-49-03/</guid>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.colopen-blog.com/Engineer/acw_web/&#34;&gt;AcWing Web 应用课 | Colopen&amp;rsquo;s blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/activity/content/punch_the_clock/1150/&#34;&gt;AcWing Web 应用课&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/file_system/file/content/whole/index/content/4078555/&#34;&gt;HTML 基础标签&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/file_system/file/content/whole/index/content/4194723/&#34;&gt;CSS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/file_system/file/content/whole/index/content/4719082/&#34;&gt;JavaScript&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/file_system/file/content/whole/index/content/5501588/&#34;&gt;React&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/file_system/file/content/whole/index/content/5639568/&#34;&gt;Vue3&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://developer.mozilla.org/zh-CN/&#34;&gt;MDN官方文档&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://developer.mozilla.org/zh-CN/docs/Learn/Getting_started_with_the_web&#34;&gt;Web 入门&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://developer.mozilla.org/zh-CN/docs/Learn/HTML&#34;&gt;HTML —— 构建 Web&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://developer.mozilla.org/zh-CN/docs/Learn/CSS&#34;&gt;CSS —— 设计Web&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript&#34;&gt;JavaScript —— 用户端动态脚本&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://developer.mozilla.org/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_getting_started&#34;&gt;React 入门&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://developer.mozilla.org/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_getting_started&#34;&gt;Vue 入门&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API/Tutorial&#34;&gt;Canvas 教程&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://www.dute.org/weird-fonts&#34;&gt;怪异英文生成器&lt;/a&gt; 生成比较好看的英文字体，支持复制粘贴&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://colorhunt.co/&#34;&gt;Color Hunt&lt;/a&gt; 设计师和艺术家的调色板&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://game-icons.net/&#34;&gt;Game-icons&lt;/a&gt; 游戏图标在线存储库&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;VSCode&lt;/code&gt; 自动生成缺省的 &lt;code&gt;HTML&lt;/code&gt; 代码框架&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-HTML&#34; data-lang=&#34;HTML&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0f0;font-weight:bold&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;font-weight:bold&#34;&gt;html&lt;/span&gt; &lt;span style=&#34;color:#007f7f&#34;&gt;lang&lt;/span&gt;=&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;en&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;font-weight:bold&#34;&gt;head&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &amp;lt;&lt;span style=&#34;font-weight:bold&#34;&gt;meta&lt;/span&gt; &lt;span style=&#34;color:#007f7f&#34;&gt;charset&lt;/span&gt;=&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;UTF-8&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &amp;lt;&lt;span style=&#34;font-weight:bold&#34;&gt;meta&lt;/span&gt; &lt;span style=&#34;color:#007f7f&#34;&gt;http-equiv&lt;/span&gt;=&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;X-UA-Compatible&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#007f7f&#34;&gt;content&lt;/span&gt;=&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;IE=edge&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &amp;lt;&lt;span style=&#34;font-weight:bold&#34;&gt;meta&lt;/span&gt; &lt;span style=&#34;color:#007f7f&#34;&gt;name&lt;/span&gt;=&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;viewport&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#007f7f&#34;&gt;content&lt;/span&gt;=&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;width=device-width, initial-scale=1.0&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &amp;lt;&lt;span style=&#34;font-weight:bold&#34;&gt;title&lt;/span&gt;&amp;gt;Document&amp;lt;/&lt;span style=&#34;font-weight:bold&#34;&gt;title&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;/&lt;span style=&#34;font-weight:bold&#34;&gt;head&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;font-weight:bold&#34;&gt;body&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;/&lt;span style=&#34;font-weight:bold&#34;&gt;body&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;/&lt;span style=&#34;font-weight:bold&#34;&gt;html&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol&gt;
&lt;li&gt;输入&lt;code&gt;！&lt;/code&gt;，接着输入 &lt;code&gt;tab&lt;/code&gt; 键，自动生成缺省的 &lt;code&gt;HTML&lt;/code&gt; 代码框架&lt;/li&gt;
&lt;li&gt;再按三下 &lt;code&gt;tab&lt;/code&gt; 键，光标会移动到 &lt;code&gt;&amp;lt;body&amp;gt;&lt;/code&gt; 与 &lt;code&gt;&amp;lt;/body&amp;gt;&lt;/code&gt; 之间的空行&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;kof&#34;&gt;KOF&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/Xancoding/Leaning-jQuery&#34;&gt;KOF&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/video/3830/&#34;&gt;AcWing Web 应用课 | 中期项目——拳皇（上） | Vedio&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/video/3833/&#34;&gt;AcWing Web 应用课 | 中期项目——拳皇（下） | Vedio&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;基础操作&#34;&gt;基础操作&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;操作如下：
角色一: w 跳 a 左移 d 右移 j 拳击 
角色二: ↑ 跳 ← 左移 → 右移 1 拳击
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;文件结构&#34;&gt;文件结构&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;|-- README.md
|-- static
|   |-- css
|   |   `-- base.css
|   |-- images
|   |   |-- background
|   |   |   `-- 0.gif
|   |   `-- player
|   |       `-- kyo
|   |           |-- 0.gif
|   |           |-- 1.gif
|   |           |-- 2.gif
|   |           |-- 3.gif
|   |           |-- 4.gif
|   |           |-- 5.gif
|   |           `-- 6.gif
|   `-- js
|       |-- ac_game_object
|       |   `-- base.js
|       |-- base.js
|       |-- controller
|       |   `-- base.js
|       |-- game_map
|       |   `-- base.js
|       |-- player
|       |   |-- base.js
|       |   `-- kyo.js
|       `-- utils
|           `-- gif.js
`-- templates
    `-- index.html
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;整体架构&#34;&gt;整体架构&lt;/h3&gt;
&lt;p&gt;
&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2022/11/02/63627b3105c46.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2022/11/02/63627b3105c46.png&#34; alt=&#34;KOFStructure&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/p&gt;
&lt;h3 id=&#34;逻辑结构&#34;&gt;逻辑结构&lt;/h3&gt;
&lt;center&gt; 
	&lt;img style=&#34;border-radius: 0.3125em; box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; src=&#34;https://bu.dusays.com/2022/11/02/63627ace5a2f9.png&#34;&gt;
	&lt;br&gt;
	&lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9; 
	display: inline-block; 
	color: #999; 
	padding: 2px;&#34;&gt;Retrieved from：https://www.acwing.com/solution/content/139831/&lt;/div&gt; 
 &lt;/center&gt;
&lt;h3 id=&#34;html&#34;&gt;HTML&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;templates/index.html&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;lt;!DOCTYPE html&amp;gt;

&amp;lt;html lang=&amp;#34;en&amp;#34;&amp;gt;

&amp;lt;head&amp;gt;

  &amp;lt;meta charset=&amp;#34;UTF-8&amp;#34;&amp;gt;

  &amp;lt;meta http-equiv=&amp;#34;X-UA-Compatible&amp;#34; content=&amp;#34;IE=edge&amp;#34;&amp;gt;

  &amp;lt;meta name=&amp;#34;viewport&amp;#34; content=&amp;#34;width=device-width, initial-scale=1.0&amp;#34;&amp;gt;

  &amp;lt;title&amp;gt;KOF&amp;lt;/title&amp;gt;

  &amp;lt;link rel=&amp;#34;stylesheet&amp;#34; href=&amp;#34;../static/css/base.css&amp;#34;&amp;gt;

  &amp;lt;script src=&amp;#34;https://cdn.acwing.com/static/jquery/js/jquery-3.3.1.min.js&amp;#34;&amp;gt;&amp;lt;/script&amp;gt;

&amp;lt;/head&amp;gt;

&amp;lt;body&amp;gt;

  &amp;lt;div id=&amp;#34;kof&amp;#34;&amp;gt;&amp;lt;/div&amp;gt;

  

  &amp;lt;script type=&amp;#34;module&amp;#34;&amp;gt;

    import {KOF} from &amp;#39;../static/js/base.js&amp;#39;;

  

    let kof = new KOF(&amp;#39;kof&amp;#39;);

  &amp;lt;/script&amp;gt;

&amp;lt;/body&amp;gt;

&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;css&#34;&gt;CSS&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;css/base.css&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;#kof {

  width: 1280px;

  height: 720px;

  background-image: url(&amp;#39;../images/background/0.gif&amp;#39;);

  background-size: 200% 100%;

  background-position: top;

  position: absolute;

}

  

#kof&amp;gt;.kof-head {

  width: 100%;

  height: 80px;

  position: absolute;

  top: 0;

  display: flex;

  align-items: center;

}

  

#kof&amp;gt;.kof-head&amp;gt;.kof-head-hp-0 {

  height: 40px;

  width: calc(50% - 60px);

  margin-left: 20px;

  border: white 5px solid;

  box-sizing: border-box;

  border-right: none;

}

  

#kof&amp;gt;.kof-head&amp;gt;.kof-head-timer {

  height: 60px;

  width: 80px;

  background-color: orange;

  border: white 5px solid;

  box-sizing: border-box;

  color: white;

  font-size: 30px;

  font-weight: 800;

  text-align: center;

  line-height: 50px;

  user-select: none;

}

  

#kof&amp;gt;.kof-head&amp;gt;.kof-head-hp-1 {

  height: 40px;

  width: calc(50% - 60px);

  border: white 5px solid;

  box-sizing: border-box;

  border-left: none;

}

  

#kof&amp;gt;.kof-head&amp;gt;.kof-head-hp-0&amp;gt;div {

  background-color: red;

  height: 100%;

  width: 100%;

  float: right;

}

  

#kof&amp;gt;.kof-head&amp;gt;.kof-head-hp-1&amp;gt;div {

  background-color: red;

  height: 100%;

  width: 100%;

}

  

#kof&amp;gt;.kof-head&amp;gt;.kof-head-hp-0&amp;gt;div&amp;gt;div {

  background-color: lightgreen;

  height: 100%;

  width: 100%;

  float: right;

}

  

#kof&amp;gt;.kof-head&amp;gt;.kof-head-hp-1&amp;gt;div&amp;gt;div {

  background-color: lightgreen;

  height: 100%;

  width: 100%;

}
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;javascript&#34;&gt;JavaScript&lt;/h3&gt;
&lt;h4 id=&#34;逻辑结构-1&#34;&gt;逻辑结构&lt;/h4&gt;
&lt;p&gt;
&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2022/11/03/63631ec3461ef.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2022/11/03/63631ec3461ef.png&#34; alt=&#34;逻辑结构&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/p&gt;
&lt;h4 id=&#34;kof-1&#34;&gt;KOF&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;js/base.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;import { GameMap } from &amp;#39;../js/game_map/base.js&amp;#39;

import { Kyo } from &amp;#39;../js/player/kyo.js&amp;#39;;

  

export class KOF {

  constructor(id) {

    this.$kof = $(&amp;#39;#&amp;#39; + id);

  

    this.game_map = new GameMap(this);

    this.players = [

      new Kyo(this, {

        id: 0,

        x: 200,

        y: 0,

        width: 120,

        height: 200,

        color: &amp;#39;blue&amp;#39;

      }),

      new Kyo(this, {

        id: 1,

        x: 900,

        y: 0,

        width: 120,

        height: 200,

        color: &amp;#39;red&amp;#39;

      })

    ]

  }

}
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;acgameobject&#34;&gt;AcGameObject&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;js/ac_game_object/base.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;let AC_GAME_OBJECTS = [];

  

export class AcGameObject {

  constructor() {

    AC_GAME_OBJECTS.push(this);

  

    this.timedelta = 0;

    this.has_call_start = false;

  }

  

  start() {  // 初始化

  
  

  }

  

  update() {  // 每一帧执行一次

  

  }

  

  destory() {  // 删除当前对象

    for (let i in AC_GAME_OBJECTS) {

      if (AC_GAME_OBJECTS[i] === this) {

        AC_GAME_OBJECTS.splice(i, 1);

        break;

      }

    }

  }

}

  

let last_timestamp;   // 上一次执行函数时的时刻

  

/**

 * @description 该函数每一帧执行一次

 * @param {number} timestamp 当前执行函数时的时刻

 */

  

let AC_GAME_OBJECTS_FRAME = (timestamp) =&amp;gt; {

  for (let obj of AC_GAME_OBJECTS) {

    if (!obj.has_call_start) {

      obj.start();

      obj.has_call_start = true;

    } else {

      obj.timedelta = timestamp - last_timestamp;

      obj.update();

    }

  }

  

  last_timestamp = timestamp;

  requestAnimationFrame(AC_GAME_OBJECTS_FRAME);

}

  

requestAnimationFrame(AC_GAME_OBJECTS_FRAME);
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;controller&#34;&gt;Controller&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;controller&lt;/code&gt; 控制器，读取玩家的输入
&lt;code&gt;js/constroller/base.js&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;export class Controller {   // 手动实现键盘触发事件——当前按住的按键（效果不同于keydown）

  constructor($canvas) {

    this.$canvas = $canvas;

    this.pressed_keys = new Set();    // Set 对象允许你存储任何类型的唯一值

    this.start();

  }

  

  start() {

    let outer = this;

    this.$canvas.keydown(function(e){   // keydown：某个键是否被按住，事件会连续触发

      outer.pressed_keys.add(e.key);

    });

  

    this.$canvas.keyup(function(e){   // keyup：某个按键是否被释放

      outer.pressed_keys.delete(e.key);

    });

  

  }

}
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;gamemap&#34;&gt;GameMap&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;js/game_map/base.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;import {AcGameObject} from &amp;#39;../ac_game_object/base.js&amp;#39;

import { Controller } from &amp;#39;../controller/base.js&amp;#39;;

  

export class GameMap extends AcGameObject {

  constructor(root) {

    super();

  

    this.root = root;

    this.$canvas = $(&amp;#39;&amp;lt;canvas width=&amp;#34;1280&amp;#34; height=&amp;#34;720&amp;#34; tabindex=0&amp;gt;&amp;lt;/canvas&amp;gt;&amp;#39;);   // 构造一个jQuery对象  其中，tabindex=&amp;#34;0&amp;#34;使&amp;lt;canvas&amp;gt;元素可以聚焦

    this.ctx = this.$canvas[0].getContext(&amp;#39;2d&amp;#39;);  // this.$canvas[0]是&amp;lt;canvas&amp;gt;元素的DOM对象   this.ctx用于画布的渲染

    this.root.$kof.append(this.$canvas);

    this.$canvas.focus();   // 聚焦，使之可以获取输入

  

    this.controller = new Controller(this.$canvas);

  

    // 加入血条

    this.root.$kof.append($(`

      &amp;lt;div class=&amp;#34;kof-head&amp;#34;&amp;gt;

        &amp;lt;div class=&amp;#34;kof-head-hp-0&amp;#34;&amp;gt;&amp;lt;div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;

        &amp;lt;div class=&amp;#34;kof-head-timer&amp;#34;&amp;gt;&amp;lt;/div&amp;gt;

        &amp;lt;div class=&amp;#34;kof-head-hp-1&amp;#34;&amp;gt;&amp;lt;div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;

      &amp;lt;/div&amp;gt;

    `));

  

    // 加入计时表

    this.time_left = 60000;  //单位：毫秒（因为定义的timedelta单位是ms）

    this.$timer = this.root.$kof.find(&amp;#39;.kof-head-timer&amp;#39;);

  }

  

  start() {

  

  }

  

  update() {

    this.update_time();

  

    this.render();

  }

  

  update_time() {

    this.time_left -= this.timedelta;

    if (this.time_left &amp;lt; 0) {   // 时间到，游戏结束

      this.time_left = 0;

  

      let [a, b] = this.root.players;

      if (a.status !== 6 &amp;amp;&amp;amp; b.status !== 6) {

        a.statu = b.status = 6;

        a.frame_current_cnt = b.frame_current_cnt = 0;

        a.vx = b.vx = 0;

      }

    }

    this.$timer.text(parseInt(this.time_left / 1000));

  }

  

  render() {

    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);

  }

}
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;player&#34;&gt;Player&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;js/player/base.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;import { AcGameObject } from &amp;#39;../ac_game_object/base.js&amp;#39;;

  

export class Player extends AcGameObject {

  constructor(root, info) {

    super();

  

    this.root = root;

    this.id = info.id;

    this.x = info.x;

    this.y = info.y;

    this.width = info.width;

    this.height = info.height;

    this.color = info.color;

  

    this.direction = 1;

  

    this.vx = 0;

    this.vy = 0;

  

    this.speedx = 400;  // 水平速度

    this.speedy = -1000;  // 跳跃初始速度

  

    this.gravity = 50;

  

    this.ctx = this.root.game_map.ctx;

    this.pressed_keys = this.root.game_map.controller.pressed_keys;

    this.status = 3;  // 0：静止， 1：向前，2：向后，3：跳跃，4：攻击，5：被攻击，6：死亡   随着项目的完善，动作会变的很多，这时用数组存储字符串代替this.status会更方便

    this.animations = new Map();  // 存储GIF动画的每一帧

    this.frame_current_cnt = 0;  // 记录当前的帧数

  

    this.hp = 100;

    this.$hp = this.root.$kof.find(`.kof-head-hp-${this.id}&amp;gt;div`);

    this.$hp_div = this.$hp.find(&amp;#39;div&amp;#39;);

  }

  start() {

  }

  

  update_control() {

    let w, a, d, j;

    if (this.id === 0) {

      w = this.pressed_keys.has(&amp;#39;w&amp;#39;);

      a = this.pressed_keys.has(&amp;#39;a&amp;#39;);

      d = this.pressed_keys.has(&amp;#39;d&amp;#39;);

      j = this.pressed_keys.has(&amp;#39;j&amp;#39;);

    } else {

      w = this.pressed_keys.has(&amp;#39;ArrowUp&amp;#39;);

      a = this.pressed_keys.has(&amp;#39;ArrowLeft&amp;#39;);

      d = this.pressed_keys.has(&amp;#39;ArrowRight&amp;#39;);

      j = this.pressed_keys.has(&amp;#39;1&amp;#39;);

    }

  

    if (this.status === 0 || this.status === 1) {   // 静止状态 || 移动状态

      if (j) {  // 攻击

        this.status = 4;

        this.vx = 0;

        this.frame_current_cnt = 0;

      } else if (w) {  // 跳跃

        if (d) {  // 向右跳

          this.vx = this.speedx;

        } else if (a) {  // 向左跳

          this.vx = -this.speedx;

        } else {  // 垂直跳

          this.vx = 0;

        }

        this.vy = this.speedy;

        this.status = 3;

        this.frame_current_cnt = 0; // 每次跳跃重新记录帧数，确保跳跃动画正常

  

      } else if (d) {  // 向右移动

        this.vx = this.speedx;

        this.status = 1;

      } else if (a) {  // 向左移动

        this.vx = - this.speedx;

        this.status = 1;

      } else {  // 静止

        this.vx = 0;

      }

    }

  

  }

  update_move() {

    this.vy += this.gravity;

  

    this.x += this.vx * this.timedelta / 1000;

    this.y += this.vy * this.timedelta / 1000;

  

    // 确保两个角色不会重叠   a 是自己、b 是对手

    // let [a, b] = this.root.players;

    // if (a !== this) [a,b] = [b, a];

  

    // let r1 = {

    //   x1: a.x,

    //   y1: a.y,

    //   x2: a.x + a.width,

    //   y2: a.x + a.height,

    // };

    // let r2 = {

    //   x1: b.x,

    //   y1: b.y,

    //   x2: b.x + b.width,

    //   y2: b.x + b.height,

    // };

  

    // if (this.is_collusion(r1, r2)) {

    //   b.x += this.vx * this.timedelta / 1000 / 2;

    //   b.y += this.vy * this.timedelta / 1000 / 2;

    //   a.x -= this.vx * this.timedelta / 1000 / 2;

    //   a.y -= this.vy * this.timedelta / 1000 / 2;

  

    //   if (this.status === 3) this.status = 0;

    // }

  

    // 落到平地上后静止

    if (this.y &amp;gt; 450) {

      this.y = 450;

      this.vy = 0;

      if (this.status === 3) this.status = 0;   // 因为任何时刻都有重力施加，不加这一句会导致状态只有静止状态

    }

  

    // 不能超出左右边界

    if (this.x &amp;lt; 0) {

      this.x = 0;

    } else if (this.x + this.width &amp;gt; this.root.game_map.$canvas.width()) {

      this.x = this.root.game_map.$canvas.width() - this.width;

    }

  

  }

  

  update_direction() {  // 确保两个角色始终相对

    if (this.status === 6) return;

  

    let players = this.root.players;

    if (players[0] &amp;amp;&amp;amp; players[1]) {

      let me = this, you = players[1 - this.id];

      if (me.x &amp;lt; you.x) me.direction = 1;

      else me.direction = -1;

    }

  }

  

  is_collusion(r1, r2) {  // 判断两个矩阵是否有交集

    if (Math.max(r1.x1, r2.x1) &amp;gt; Math.min(r1.x2, r2.x2))

      return false;

    if (Math.max(r1.y1, r2.y1) &amp;gt; Math.min(r1.y2,r2.y2))

      return false;

    return true;

  }

  

  is_attack() {

    if (this.status === 6) return;  // 已经倒地，无法再被攻击

  

    this.status = 5;

    this.frame_current_cnt = 0;

  

    this.hp = Math.max(this.hp - 10, 0);

  

    this.$hp_div.animate({  // 血条减少，渐变

      width: this.$hp.parent().width() * this.hp / 100,

    }, 350);

  

    this.$hp.animate({  // 血条减少，渐变

      width: this.$hp.parent().width() * this.hp / 100,

    }, 600);

  

    if (this.hp &amp;lt;= 0) {

      this.status = 6;

      this.frame_current_cnt = 0;

      this.vx = 0;

    }

  }

  

  update_attack() {   // 判定是否被攻击到

    if (this.status === 4 &amp;amp;&amp;amp; this.frame_current_cnt === 18) {   // 第18帧时动画挥出拳，判断此时是否拳头与对方有碰撞

      let me = this, you = this.root.players[1 - this.id];

      let r1;  // 攻击判定矩形

      let r2;  // 敌方人物矩形

      if (this.direction &amp;gt; 0) {

        r1 = {

          x1: me.x + 120,

          y1: me.y + 40,

          x2: me.x + 120 + 100,

          y2: me.y + 40 + 20,

        }

      } else {

        r1 = {

          x1: me.x + me.width - 120 - 100,

          y1: me.y + 40,

          x2: me.x + me.width - 120 - 100 + 100,

          y2: me.y + 40 + 20,

        }

      }

  

      r2 = {

        x1: you.x,

        y2: you.y,

        x2: you.x + you.width,

        y2: you.y + you.height

      };

  

      if (this.is_collusion(r1, r2)) {

        you.is_attack();

      }

    }

  }

  

  update() {

    this.update_attack();

    this.update_direction();

    this.update_control();

    this.update_move();

    this.render();

  }

  

  render() {

  

    let status = this.status;

  

    if (this.status === 1 &amp;amp;&amp;amp; this.direction * this.vx &amp;lt; 0) status = 2;    // 后退状态

  

    let obj = this.animations.get(status);

    if (obj &amp;amp;&amp;amp; obj.loaded) {    // GIF 已经加载完成

      if (this.direction &amp;gt; 0) {  // 正方向

        let k = parseInt(this.frame_current_cnt / obj.frame_rate) % obj.frame_cnt;  // 通过obj.frame_rate控制渲染动画的速率，方便控制动画，而不只是单纯的每一帧都渲染一次

        let image = obj.gif.frames[k].image;

        this.ctx.drawImage(image, this.x, this.y + obj.offset_y, image.width * obj.scale, image.height * obj.scale);

      } else {  // 反方向   通过调整坐标系来翻转方向

        this.ctx.save();

        this.ctx.scale(-1, 1);

        this.ctx.translate(-this.root.game_map.$canvas.width(), 0);

  

        let k = parseInt(this.frame_current_cnt / obj.frame_rate) % obj.frame_cnt;

        let image = obj.gif.frames[k].image;

        this.ctx.drawImage(image, this.root.game_map.$canvas.width() - this.width - this.x, this.y + obj.offset_y, image.width * obj.scale, image.height * obj.scale);  // 不同于正方向时的渲染，因为此时坐标系改变，需要在对称的位置渲染

  

        this.ctx.restore();

      }

    }

  

    if (status === 4 || status === 5 || status === 6) {  // 确保不会一直循环GIF

      if (this.frame_current_cnt === obj.frame_rate * (obj.frame_cnt - 1)) {  // 确保此时已经播放完一次GIF动画

        if (status === 6) {   // 死亡倒地不起，这里的 -- 和 下面的 ++ 相抵消，使之在最后一帧不再变化

          this.frame_current_cnt--;

        } else {

          this.status = 0;

        }

      }

    }

  

    this.frame_current_cnt++;

  }

}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;js/player/kyo.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;import { Player } from &amp;#34;../player/base.js&amp;#34;;

import {GIF} from &amp;#39;../utils/gif.js&amp;#39;

  

export class Kyo extends Player {

  constructor(root, info) {

    super(root, info);

  

    this.init_animations();   // 初始化动画

  }

  

  init_animations() {

    let outer = this;

    let offsets = [0, -22, -22, -150, 0, 0, 0];   // 偏移量 不同的动画高度不同，因此需要借助竖直方向上的偏移量将他们调整至同一水平面

    for (let i = 0; i &amp;lt; 7; ++ i) {  // 7个动作

      let gif = GIF();

      gif.load(`/static/images/player/kyo/${i}.gif`);

      this.animations.set(i, {  // 动画

        gif: gif,

        frame_cnt: 0,  // GIF帧数

        frame_rate: 5,  // 每5帧过渡一次

        offset_y: offsets[i],  // y方向偏移量

        loaded: false,  // 是否加载完成

        scale: 2,  // 放大2倍

      });

  

      gif.onload = function() {   // 加载完成

        let obj = outer.animations.get(i);

        obj.frame_cnt = gif.frames.length;

        obj.loaded = true;

  

        if (i === 3) {  // 调整跳跃时GIF播放速率

          obj.frame_rate = 4;

        }

      }

    }

  }

}
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;gif&#34;&gt;GIF&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://stackoverflow.com/questions/48234696/how-to-put-a-gif-with-canvas/48348567#48348567&#34;&gt;Loading and playing GIF image to canvas&lt;/a&gt;    把玩家的&lt;code&gt;GIF&lt;/code&gt;动画渲染在&lt;code&gt;canvas&lt;/code&gt;上&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;code&gt;js/utils/gif.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;const GIF = function () {

  // **NOT** for commercial use.

  var timerID;                          // timer handle for set time out usage

  var st;                               // holds the stream object when loading.

  var interlaceOffsets = [0, 4, 2, 1]; // used in de-interlacing.

  var interlaceSteps = [8, 8, 4, 2];

  var interlacedBufSize;  // this holds a buffer to de interlace. Created on the first frame and when size changed

  var deinterlaceBuf;

  var pixelBufSize;    // this holds a buffer for pixels. Created on the first frame and when size changed

  var pixelBuf;

  const GIF_FILE = { // gif file data headers

    GCExt: 0xF9,

    COMMENT: 0xFE,

    APPExt: 0xFF,

    UNKNOWN: 0x01, // not sure what this is but need to skip it in parser

    IMAGE: 0x2C,

    EOF: 59,   // This is entered as decimal

    EXT: 0x21,

  };

  // simple buffered stream used to read from the file

  var Stream = function (data) {

      this.data = new Uint8ClampedArray(data);

      this.pos = 0;

      var len = this.data.length;

      this.getString = function (count) { // returns a string from current pos of len count

          var s = &amp;#34;&amp;#34;;

          while (count--) { s += String.fromCharCode(this.data[this.pos++]) }

          return s;

      };

      this.readSubBlocks = function () { // reads a set of blocks as a string

          var size, count, data = &amp;#34;&amp;#34;;

          do {

              count = size = this.data[this.pos++];

              while (count--) { data += String.fromCharCode(this.data[this.pos++]) }

          } while (size !== 0 &amp;amp;&amp;amp; this.pos &amp;lt; len);

          return data;

      }

      this.readSubBlocksB = function () { // reads a set of blocks as binary

          var size, count, data = [];

          do {

              count = size = this.data[this.pos++];

              while (count--) { data.push(this.data[this.pos++]); }

          } while (size !== 0 &amp;amp;&amp;amp; this.pos &amp;lt; len);

          return data;

      }

  };

  // LZW decoder uncompressed each frames pixels

  // this needs to be optimised.

  // minSize is the min dictionary as powers of two

  // size and data is the compressed pixels

  function lzwDecode(minSize, data) {

      var i, pixelPos, pos, clear, eod, size, done, dic, code, last, d, len;

      pos = pixelPos = 0;

      dic = [];

      clear = 1 &amp;lt;&amp;lt; minSize;

      eod = clear + 1;

      size = minSize + 1;

      done = false;

      while (!done) { // JavaScript optimisers like a clear exit though I never use &amp;#39;done&amp;#39; apart from fooling the optimiser

          last = code;

          code = 0;

          for (i = 0; i &amp;lt; size; i++) {

              if (data[pos &amp;gt;&amp;gt; 3] &amp;amp; (1 &amp;lt;&amp;lt; (pos &amp;amp; 7))) { code |= 1 &amp;lt;&amp;lt; i }

              pos++;

          }

          if (code === clear) { // clear and reset the dictionary

              dic = [];

              size = minSize + 1;

              for (i = 0; i &amp;lt; clear; i++) { dic[i] = [i] }

              dic[clear] = [];

              dic[eod] = null;

          } else {

              if (code === eod) { done = true; return }

              if (code &amp;gt;= dic.length) { dic.push(dic[last].concat(dic[last][0])) }

              else if (last !== clear) { dic.push(dic[last].concat(dic[code][0])) }

              d = dic[code];

              len = d.length;

              for (i = 0; i &amp;lt; len; i++) { pixelBuf[pixelPos++] = d[i] }

              if (dic.length === (1 &amp;lt;&amp;lt; size) &amp;amp;&amp;amp; size &amp;lt; 12) { size++ }

          }

      }

  };

  function parseColourTable(count) { // get a colour table of length count  Each entry is 3 bytes, for RGB.

      var colours = [];

      for (var i = 0; i &amp;lt; count; i++) { colours.push([st.data[st.pos++], st.data[st.pos++], st.data[st.pos++]]) }

      return colours;

  }

  function parse() {        // read the header. This is the starting point of the decode and async calls parseBlock

      var bitField;

      st.pos += 6;

      gif.width = (st.data[st.pos++]) + ((st.data[st.pos++]) &amp;lt;&amp;lt; 8);

      gif.height = (st.data[st.pos++]) + ((st.data[st.pos++]) &amp;lt;&amp;lt; 8);

      bitField = st.data[st.pos++];

      gif.colorRes = (bitField &amp;amp; 0b1110000) &amp;gt;&amp;gt; 4;

      gif.globalColourCount = 1 &amp;lt;&amp;lt; ((bitField &amp;amp; 0b111) + 1);

      gif.bgColourIndex = st.data[st.pos++];

      st.pos++;                    // ignoring pixel aspect ratio. if not 0, aspectRatio = (pixelAspectRatio + 15) / 64

      if (bitField &amp;amp; 0b10000000) { gif.globalColourTable = parseColourTable(gif.globalColourCount) } // global colour flag

      setTimeout(parseBlock, 0);

  }

  function parseAppExt() { // get application specific data. Netscape added iterations and terminator. Ignoring that

      st.pos += 1;

      if (&amp;#39;NETSCAPE&amp;#39; === st.getString(8)) { st.pos += 8 }  // ignoring this data. iterations (word) and terminator (byte)

      else {

          st.pos += 3;            // 3 bytes of string usually &amp;#34;2.0&amp;#34; when identifier is NETSCAPE

          st.readSubBlocks();     // unknown app extension

      }

  };

  function parseGCExt() { // get GC data

      var bitField;

      st.pos++;

      bitField = st.data[st.pos++];

      gif.disposalMethod = (bitField &amp;amp; 0b11100) &amp;gt;&amp;gt; 2;

      gif.transparencyGiven = bitField &amp;amp; 0b1 ? true : false; // ignoring bit two that is marked as  userInput???

      gif.delayTime = (st.data[st.pos++]) + ((st.data[st.pos++]) &amp;lt;&amp;lt; 8);

      gif.transparencyIndex = st.data[st.pos++];

      st.pos++;

  };

  function parseImg() {                           // decodes image data to create the indexed pixel image

      var deinterlace, frame, bitField;

      deinterlace = function (width) {                   // de interlace pixel data if needed

          var lines, fromLine, pass, toline;

          lines = pixelBufSize / width;

          fromLine = 0;

          if (interlacedBufSize !== pixelBufSize) {      // create the buffer if size changed or undefined.

              deinterlaceBuf = new Uint8Array(pixelBufSize);

              interlacedBufSize = pixelBufSize;

          }

          for (pass = 0; pass &amp;lt; 4; pass++) {

              for (toLine = interlaceOffsets[pass]; toLine &amp;lt; lines; toLine += interlaceSteps[pass]) {

                  deinterlaceBuf.set(pixelBuf.subarray(fromLine, fromLine + width), toLine * width);

                  fromLine += width;

              }

          }

      };

      frame = {}

      gif.frames.push(frame);

      frame.disposalMethod = gif.disposalMethod;

      frame.time = gif.length;

      frame.delay = gif.delayTime * 10;

      gif.length += frame.delay;

      if (gif.transparencyGiven) { frame.transparencyIndex = gif.transparencyIndex }

      else { frame.transparencyIndex = undefined }

      frame.leftPos = (st.data[st.pos++]) + ((st.data[st.pos++]) &amp;lt;&amp;lt; 8);

      frame.topPos = (st.data[st.pos++]) + ((st.data[st.pos++]) &amp;lt;&amp;lt; 8);

      frame.width = (st.data[st.pos++]) + ((st.data[st.pos++]) &amp;lt;&amp;lt; 8);

      frame.height = (st.data[st.pos++]) + ((st.data[st.pos++]) &amp;lt;&amp;lt; 8);

      bitField = st.data[st.pos++];

      frame.localColourTableFlag = bitField &amp;amp; 0b10000000 ? true : false;

      if (frame.localColourTableFlag) { frame.localColourTable = parseColourTable(1 &amp;lt;&amp;lt; ((bitField &amp;amp; 0b111) + 1)) }

      if (pixelBufSize !== frame.width * frame.height) { // create a pixel buffer if not yet created or if current frame size is different from previous

          pixelBuf = new Uint8Array(frame.width * frame.height);

          pixelBufSize = frame.width * frame.height;

      }

      lzwDecode(st.data[st.pos++], st.readSubBlocksB()); // decode the pixels

      if (bitField &amp;amp; 0b1000000) {                        // de interlace if needed

          frame.interlaced = true;

          deinterlace(frame.width);

      } else { frame.interlaced = false }

      processFrame(frame);                               // convert to canvas image

  };

  function processFrame(frame) { // creates a RGBA canvas image from the indexed pixel data.

      var ct, cData, dat, pixCount, ind, useT, i, pixel, pDat, col, frame, ti;

      frame.image = document.createElement(&amp;#39;canvas&amp;#39;);

      frame.image.width = gif.width;

      frame.image.height = gif.height;

      frame.image.ctx = frame.image.getContext(&amp;#34;2d&amp;#34;);

      ct = frame.localColourTableFlag ? frame.localColourTable : gif.globalColourTable;

      if (gif.lastFrame === null) { gif.lastFrame = frame }

      useT = (gif.lastFrame.disposalMethod === 2 || gif.lastFrame.disposalMethod === 3) ? true : false;

      if (!useT) { frame.image.ctx.drawImage(gif.lastFrame.image, 0, 0, gif.width, gif.height) }

      cData = frame.image.ctx.getImageData(frame.leftPos, frame.topPos, frame.width, frame.height);

      ti = frame.transparencyIndex;

      dat = cData.data;

      if (frame.interlaced) { pDat = deinterlaceBuf }

      else { pDat = pixelBuf }

      pixCount = pDat.length;

      ind = 0;

      for (i = 0; i &amp;lt; pixCount; i++) {

          pixel = pDat[i];

          col = ct[pixel];

          if (ti !== pixel) {

              dat[ind++] = col[0];

              dat[ind++] = col[1];

              dat[ind++] = col[2];

              dat[ind++] = 255;      // Opaque.

          } else

              if (useT) {

                  dat[ind + 3] = 0; // Transparent.

                  ind += 4;

              } else { ind += 4 }

      }

      frame.image.ctx.putImageData(cData, frame.leftPos, frame.topPos);

      gif.lastFrame = frame;

      if (!gif.waitTillDone &amp;amp;&amp;amp; typeof gif.onload === &amp;#34;function&amp;#34;) { doOnloadEvent() }// if !waitTillDone the call onload now after first frame is loaded

  };

  // **NOT** for commercial use.

  function finnished() { // called when the load has completed

      gif.loading = false;

      gif.frameCount = gif.frames.length;

      gif.lastFrame = null;

      st = undefined;

      gif.complete = true;

      gif.disposalMethod = undefined;

      gif.transparencyGiven = undefined;

      gif.delayTime = undefined;

      gif.transparencyIndex = undefined;

      gif.waitTillDone = undefined;

      pixelBuf = undefined; // dereference pixel buffer

      deinterlaceBuf = undefined; // dereference interlace buff (may or may not be used);

      pixelBufSize = undefined;

      deinterlaceBuf = undefined;

      gif.currentFrame = 0;

      if (gif.frames.length &amp;gt; 0) { gif.image = gif.frames[0].image }

      doOnloadEvent();

      if (typeof gif.onloadall === &amp;#34;function&amp;#34;) {

          (gif.onloadall.bind(gif))({ type: &amp;#39;loadall&amp;#39;, path: [gif] });

      }

      if (gif.playOnLoad) { gif.play() }

  }

  function canceled() { // called if the load has been cancelled

      finnished();

      if (typeof gif.cancelCallback === &amp;#34;function&amp;#34;) { (gif.cancelCallback.bind(gif))({ type: &amp;#39;canceled&amp;#39;, path: [gif] }) }

  }

  function parseExt() {              // parse extended blocks

      const blockID = st.data[st.pos++];

      if (blockID === GIF_FILE.GCExt) { parseGCExt() }

      else if (blockID === GIF_FILE.COMMENT) { gif.comment += st.readSubBlocks() }

      else if (blockID === GIF_FILE.APPExt) { parseAppExt() }

      else {

          if (blockID === GIF_FILE.UNKNOWN) { st.pos += 13; } // skip unknow block

          st.readSubBlocks();

      }

  

  }

  function parseBlock() { // parsing the blocks

      if (gif.cancel !== undefined &amp;amp;&amp;amp; gif.cancel === true) { canceled(); return }

  

      const blockId = st.data[st.pos++];

      if (blockId === GIF_FILE.IMAGE) { // image block

          parseImg();

          if (gif.firstFrameOnly) { finnished(); return }

      } else if (blockId === GIF_FILE.EOF) { finnished(); return }

      else { parseExt() }

      if (typeof gif.onprogress === &amp;#34;function&amp;#34;) {

          gif.onprogress({ bytesRead: st.pos, totalBytes: st.data.length, frame: gif.frames.length });

      }

      setTimeout(parseBlock, 0); // parsing frame async so processes can get some time in.

  };

  function cancelLoad(callback) { // cancels the loading. This will cancel the load before the next frame is decoded

      if (gif.complete) { return false }

      gif.cancelCallback = callback;

      gif.cancel = true;

      return true;

  }

  function error(type) {

      if (typeof gif.onerror === &amp;#34;function&amp;#34;) { (gif.onerror.bind(this))({ type: type, path: [this] }) }

      gif.onload = gif.onerror = undefined;

      gif.loading = false;

  }

  function doOnloadEvent() { // fire onload event if set

      gif.currentFrame = 0;

      gif.nextFrameAt = gif.lastFrameAt = new Date().valueOf(); // just sets the time now

      if (typeof gif.onload === &amp;#34;function&amp;#34;) { (gif.onload.bind(gif))({ type: &amp;#39;load&amp;#39;, path: [gif] }) }

      gif.onerror = gif.onload = undefined;

  }

  function dataLoaded(data) { // Data loaded create stream and parse

      st = new Stream(data);

      parse();

  }

  function loadGif(filename) { // starts the load

      var ajax = new XMLHttpRequest();

      ajax.responseType = &amp;#34;arraybuffer&amp;#34;;

      ajax.onload = function (e) {

          if (e.target.status === 404) { error(&amp;#34;File not found&amp;#34;) }

          else if (e.target.status &amp;gt;= 200 &amp;amp;&amp;amp; e.target.status &amp;lt; 300) { dataLoaded(ajax.response) }

          else { error(&amp;#34;Loading error : &amp;#34; + e.target.status) }

      };

      ajax.open(&amp;#39;GET&amp;#39;, filename, true);

      ajax.send();

      ajax.onerror = function (e) { error(&amp;#34;File error&amp;#34;) };

      this.src = filename;

      this.loading = true;

  }

  function play() { // starts play if paused

      if (!gif.playing) {

          gif.paused = false;

          gif.playing = true;

          playing();

      }

  }

  function pause() { // stops play

      gif.paused = true;

      gif.playing = false;

      clearTimeout(timerID);

  }

  function togglePlay() {

      if (gif.paused || !gif.playing) { gif.play() }

      else { gif.pause() }

  }

  function seekFrame(frame) { // seeks to frame number.

      clearTimeout(timerID);

      gif.currentFrame = frame % gif.frames.length;

      if (gif.playing) { playing() }

      else { gif.image = gif.frames[gif.currentFrame].image }

  }

  function seek(time) { // time in Seconds  // seek to frame that would be displayed at time

      clearTimeout(timerID);

      if (time &amp;lt; 0) { time = 0 }

      time *= 1000; // in ms

      time %= gif.length;

      var frame = 0;

      while (time &amp;gt; gif.frames[frame].time + gif.frames[frame].delay &amp;amp;&amp;amp; frame &amp;lt; gif.frames.length) { frame += 1 }

      gif.currentFrame = frame;

      if (gif.playing) { playing() }

      else { gif.image = gif.frames[gif.currentFrame].image }

  }

  function playing() {

      var delay;

      var frame;

      if (gif.playSpeed === 0) {

          gif.pause();

          return;

      } else {

          if (gif.playSpeed &amp;lt; 0) {

              gif.currentFrame -= 1;

              if (gif.currentFrame &amp;lt; 0) { gif.currentFrame = gif.frames.length - 1 }

              frame = gif.currentFrame;

              frame -= 1;

              if (frame &amp;lt; 0) { frame = gif.frames.length - 1 }

              delay = -gif.frames[frame].delay * 1 / gif.playSpeed;

          } else {

              gif.currentFrame += 1;

              gif.currentFrame %= gif.frames.length;

              delay = gif.frames[gif.currentFrame].delay * 1 / gif.playSpeed;

          }

          gif.image = gif.frames[gif.currentFrame].image;

          timerID = setTimeout(playing, delay);

      }

  }

  var gif = {                      // the gif image object

      onload: null,       // fire on load. Use waitTillDone = true to have load fire at end or false to fire on first frame

      onerror: null,       // fires on error

      onprogress: null,       // fires a load progress event

      onloadall: null,       // event fires when all frames have loaded and gif is ready

      paused: false,      // true if paused

      playing: false,      // true if playing

      waitTillDone: true,       // If true onload will fire when all frames loaded, if false, onload will fire when first frame has loaded

      loading: false,      // true if still loading

      firstFrameOnly: false,      // if true only load the first frame

      width: null,       // width in pixels

      height: null,       // height in pixels

      frames: [],         // array of frames

      comment: &amp;#34;&amp;#34;,         // comments if found in file. Note I remember that some gifs have comments per frame if so this will be all comment concatenated

      length: 0,          // gif length in ms (1/1000 second)

      currentFrame: 0,          // current frame.

      frameCount: 0,          // number of frames

      playSpeed: 1,          // play speed 1 normal, 2 twice 0.5 half, -1 reverse etc...

      lastFrame: null,       // temp hold last frame loaded so you can display the gif as it loads

      image: null,       // the current image at the currentFrame

      playOnLoad: true,       // if true starts playback when loaded

      // functions

      load: loadGif,    // call this to load a file

      cancel: cancelLoad, // call to stop loading

      play: play,       // call to start play

      pause: pause,      // call to pause

      seek: seek,       // call to seek to time

      seekFrame: seekFrame,  // call to seek to frame

      togglePlay: togglePlay, // call to toggle play and pause state

  };

  return gif;

}

  

export {

  GIF

}
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;状态机&#34;&gt;状态机&lt;/h4&gt;
&lt;center&gt; 
	&lt;img style=&#34;border-radius: 0.3125em; box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);&#34; src=&#34;https://bu.dusays.com/2022/11/03/6363d89220c15.png&#34;&gt;
	&lt;br&gt;
	&lt;div style=&#34;color:orange; border-bottom: 1px solid #d9d9d9; 
	display: inline-block; 
	color: #999; 
	padding: 2px;&#34;&gt;0：静止    1：移动     3：跳跃    4：攻击&lt;/div&gt; 
 &lt;/center&gt;
&lt;h2 id=&#34;myspace&#34;&gt;MySpace&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/Xancoding/Learning-Vue&#34;&gt;MySpace&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/video/3867/&#34;&gt;AcWing Web 应用课 | Vue3——网站整体布局、用户动态页面 | Vedio&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/video/3875/&#34;&gt;AcWing Web 应用课 | Vue3——用户列表、登录、注册页面 | Vedio&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
</description>
      <content:encoded><![CDATA[<ul>
<li><a href="https://www.colopen-blog.com/Engineer/acw_web/">AcWing Web 应用课 | Colopen&rsquo;s blog</a></li>
<li><a href="https://www.acwing.com/activity/content/punch_the_clock/1150/">AcWing Web 应用课</a>
<ul>
<li><a href="https://www.acwing.com/file_system/file/content/whole/index/content/4078555/">HTML 基础标签</a></li>
<li><a href="https://www.acwing.com/file_system/file/content/whole/index/content/4194723/">CSS</a></li>
<li><a href="https://www.acwing.com/file_system/file/content/whole/index/content/4719082/">JavaScript</a></li>
<li><a href="https://www.acwing.com/file_system/file/content/whole/index/content/5501588/">React</a></li>
<li><a href="https://www.acwing.com/file_system/file/content/whole/index/content/5639568/">Vue3</a></li>
</ul>
</li>
<li><a href="https://developer.mozilla.org/zh-CN/">MDN官方文档</a>
<ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Learn/Getting_started_with_the_web">Web 入门</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Learn/HTML">HTML —— 构建 Web</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS">CSS —— 设计Web</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript">JavaScript —— 用户端动态脚本</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_getting_started">React 入门</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_getting_started">Vue 入门</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API/Tutorial">Canvas 教程</a></li>
</ul>
</li>
</ul>
<hr>
<ol>
<li><a href="https://www.dute.org/weird-fonts">怪异英文生成器</a> 生成比较好看的英文字体，支持复制粘贴</li>
<li><a href="https://colorhunt.co/">Color Hunt</a> 设计师和艺术家的调色板</li>
<li><a href="https://game-icons.net/">Game-icons</a> 游戏图标在线存储库</li>
</ol>
<hr>
<ul>
<li><code>VSCode</code> 自动生成缺省的 <code>HTML</code> 代码框架</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-HTML" data-lang="HTML"><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">&lt;!DOCTYPE html&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">html</span> <span style="color:#007f7f">lang</span>=<span style="color:#0ff;font-weight:bold">&#34;en&#34;</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">head</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  &lt;<span style="font-weight:bold">meta</span> <span style="color:#007f7f">charset</span>=<span style="color:#0ff;font-weight:bold">&#34;UTF-8&#34;</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  &lt;<span style="font-weight:bold">meta</span> <span style="color:#007f7f">http-equiv</span>=<span style="color:#0ff;font-weight:bold">&#34;X-UA-Compatible&#34;</span> <span style="color:#007f7f">content</span>=<span style="color:#0ff;font-weight:bold">&#34;IE=edge&#34;</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  &lt;<span style="font-weight:bold">meta</span> <span style="color:#007f7f">name</span>=<span style="color:#0ff;font-weight:bold">&#34;viewport&#34;</span> <span style="color:#007f7f">content</span>=<span style="color:#0ff;font-weight:bold">&#34;width=device-width, initial-scale=1.0&#34;</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  &lt;<span style="font-weight:bold">title</span>&gt;Document&lt;/<span style="font-weight:bold">title</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">head</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">body</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">body</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">html</span>&gt;
</span></span></code></pre></div><ol>
<li>输入<code>！</code>，接着输入 <code>tab</code> 键，自动生成缺省的 <code>HTML</code> 代码框架</li>
<li>再按三下 <code>tab</code> 键，光标会移动到 <code>&lt;body&gt;</code> 与 <code>&lt;/body&gt;</code> 之间的空行</li>
</ol>
<hr>
<h2 id="kof">KOF</h2>
<ul>
<li><a href="https://github.com/Xancoding/Leaning-jQuery">KOF</a></li>
<li><a href="https://www.acwing.com/video/3830/">AcWing Web 应用课 | 中期项目——拳皇（上） | Vedio</a></li>
<li><a href="https://www.acwing.com/video/3833/">AcWing Web 应用课 | 中期项目——拳皇（下） | Vedio</a></li>
</ul>
<hr>
<h3 id="基础操作">基础操作</h3>
<pre tabindex="0"><code>操作如下：
角色一: w 跳 a 左移 d 右移 j 拳击 
角色二: ↑ 跳 ← 左移 → 右移 1 拳击
</code></pre><h3 id="文件结构">文件结构</h3>
<pre tabindex="0"><code>|-- README.md
|-- static
|   |-- css
|   |   `-- base.css
|   |-- images
|   |   |-- background
|   |   |   `-- 0.gif
|   |   `-- player
|   |       `-- kyo
|   |           |-- 0.gif
|   |           |-- 1.gif
|   |           |-- 2.gif
|   |           |-- 3.gif
|   |           |-- 4.gif
|   |           |-- 5.gif
|   |           `-- 6.gif
|   `-- js
|       |-- ac_game_object
|       |   `-- base.js
|       |-- base.js
|       |-- controller
|       |   `-- base.js
|       |-- game_map
|       |   `-- base.js
|       |-- player
|       |   |-- base.js
|       |   `-- kyo.js
|       `-- utils
|           `-- gif.js
`-- templates
    `-- index.html
</code></pre><h3 id="整体架构">整体架构</h3>
<p>
<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2022/11/02/63627b3105c46.png">
<img src="https://bu.dusays.com/2022/11/02/63627b3105c46.png" alt="KOFStructure"  />
</a>
</div>

</p>
<h3 id="逻辑结构">逻辑结构</h3>
<center> 
	<img style="border-radius: 0.3125em; box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" src="https://bu.dusays.com/2022/11/02/63627ace5a2f9.png">
	<br>
	<div style="color:orange; border-bottom: 1px solid #d9d9d9; 
	display: inline-block; 
	color: #999; 
	padding: 2px;">Retrieved from：https://www.acwing.com/solution/content/139831/</div> 
 </center>
<h3 id="html">HTML</h3>
<p><code>templates/index.html</code></p>
<pre tabindex="0"><code>&lt;!DOCTYPE html&gt;

&lt;html lang=&#34;en&#34;&gt;

&lt;head&gt;

  &lt;meta charset=&#34;UTF-8&#34;&gt;

  &lt;meta http-equiv=&#34;X-UA-Compatible&#34; content=&#34;IE=edge&#34;&gt;

  &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt;

  &lt;title&gt;KOF&lt;/title&gt;

  &lt;link rel=&#34;stylesheet&#34; href=&#34;../static/css/base.css&#34;&gt;

  &lt;script src=&#34;https://cdn.acwing.com/static/jquery/js/jquery-3.3.1.min.js&#34;&gt;&lt;/script&gt;

&lt;/head&gt;

&lt;body&gt;

  &lt;div id=&#34;kof&#34;&gt;&lt;/div&gt;

  

  &lt;script type=&#34;module&#34;&gt;

    import {KOF} from &#39;../static/js/base.js&#39;;

  

    let kof = new KOF(&#39;kof&#39;);

  &lt;/script&gt;

&lt;/body&gt;

&lt;/html&gt;
</code></pre><h3 id="css">CSS</h3>
<p><code>css/base.css</code></p>
<pre tabindex="0"><code>#kof {

  width: 1280px;

  height: 720px;

  background-image: url(&#39;../images/background/0.gif&#39;);

  background-size: 200% 100%;

  background-position: top;

  position: absolute;

}

  

#kof&gt;.kof-head {

  width: 100%;

  height: 80px;

  position: absolute;

  top: 0;

  display: flex;

  align-items: center;

}

  

#kof&gt;.kof-head&gt;.kof-head-hp-0 {

  height: 40px;

  width: calc(50% - 60px);

  margin-left: 20px;

  border: white 5px solid;

  box-sizing: border-box;

  border-right: none;

}

  

#kof&gt;.kof-head&gt;.kof-head-timer {

  height: 60px;

  width: 80px;

  background-color: orange;

  border: white 5px solid;

  box-sizing: border-box;

  color: white;

  font-size: 30px;

  font-weight: 800;

  text-align: center;

  line-height: 50px;

  user-select: none;

}

  

#kof&gt;.kof-head&gt;.kof-head-hp-1 {

  height: 40px;

  width: calc(50% - 60px);

  border: white 5px solid;

  box-sizing: border-box;

  border-left: none;

}

  

#kof&gt;.kof-head&gt;.kof-head-hp-0&gt;div {

  background-color: red;

  height: 100%;

  width: 100%;

  float: right;

}

  

#kof&gt;.kof-head&gt;.kof-head-hp-1&gt;div {

  background-color: red;

  height: 100%;

  width: 100%;

}

  

#kof&gt;.kof-head&gt;.kof-head-hp-0&gt;div&gt;div {

  background-color: lightgreen;

  height: 100%;

  width: 100%;

  float: right;

}

  

#kof&gt;.kof-head&gt;.kof-head-hp-1&gt;div&gt;div {

  background-color: lightgreen;

  height: 100%;

  width: 100%;

}
</code></pre><h3 id="javascript">JavaScript</h3>
<h4 id="逻辑结构-1">逻辑结构</h4>
<p>
<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2022/11/03/63631ec3461ef.png">
<img src="https://bu.dusays.com/2022/11/03/63631ec3461ef.png" alt="逻辑结构"  />
</a>
</div>

</p>
<h4 id="kof-1">KOF</h4>
<p><code>js/base.js</code></p>
<pre tabindex="0"><code>import { GameMap } from &#39;../js/game_map/base.js&#39;

import { Kyo } from &#39;../js/player/kyo.js&#39;;

  

export class KOF {

  constructor(id) {

    this.$kof = $(&#39;#&#39; + id);

  

    this.game_map = new GameMap(this);

    this.players = [

      new Kyo(this, {

        id: 0,

        x: 200,

        y: 0,

        width: 120,

        height: 200,

        color: &#39;blue&#39;

      }),

      new Kyo(this, {

        id: 1,

        x: 900,

        y: 0,

        width: 120,

        height: 200,

        color: &#39;red&#39;

      })

    ]

  }

}
</code></pre><h4 id="acgameobject">AcGameObject</h4>
<p><code>js/ac_game_object/base.js</code></p>
<pre tabindex="0"><code>let AC_GAME_OBJECTS = [];

  

export class AcGameObject {

  constructor() {

    AC_GAME_OBJECTS.push(this);

  

    this.timedelta = 0;

    this.has_call_start = false;

  }

  

  start() {  // 初始化

  
  

  }

  

  update() {  // 每一帧执行一次

  

  }

  

  destory() {  // 删除当前对象

    for (let i in AC_GAME_OBJECTS) {

      if (AC_GAME_OBJECTS[i] === this) {

        AC_GAME_OBJECTS.splice(i, 1);

        break;

      }

    }

  }

}

  

let last_timestamp;   // 上一次执行函数时的时刻

  

/**

 * @description 该函数每一帧执行一次

 * @param {number} timestamp 当前执行函数时的时刻

 */

  

let AC_GAME_OBJECTS_FRAME = (timestamp) =&gt; {

  for (let obj of AC_GAME_OBJECTS) {

    if (!obj.has_call_start) {

      obj.start();

      obj.has_call_start = true;

    } else {

      obj.timedelta = timestamp - last_timestamp;

      obj.update();

    }

  }

  

  last_timestamp = timestamp;

  requestAnimationFrame(AC_GAME_OBJECTS_FRAME);

}

  

requestAnimationFrame(AC_GAME_OBJECTS_FRAME);
</code></pre><h4 id="controller">Controller</h4>
<ul>
<li><code>controller</code> 控制器，读取玩家的输入
<code>js/constroller/base.js</code></li>
</ul>
<pre tabindex="0"><code>export class Controller {   // 手动实现键盘触发事件——当前按住的按键（效果不同于keydown）

  constructor($canvas) {

    this.$canvas = $canvas;

    this.pressed_keys = new Set();    // Set 对象允许你存储任何类型的唯一值

    this.start();

  }

  

  start() {

    let outer = this;

    this.$canvas.keydown(function(e){   // keydown：某个键是否被按住，事件会连续触发

      outer.pressed_keys.add(e.key);

    });

  

    this.$canvas.keyup(function(e){   // keyup：某个按键是否被释放

      outer.pressed_keys.delete(e.key);

    });

  

  }

}
</code></pre><h4 id="gamemap">GameMap</h4>
<p><code>js/game_map/base.js</code></p>
<pre tabindex="0"><code>import {AcGameObject} from &#39;../ac_game_object/base.js&#39;

import { Controller } from &#39;../controller/base.js&#39;;

  

export class GameMap extends AcGameObject {

  constructor(root) {

    super();

  

    this.root = root;

    this.$canvas = $(&#39;&lt;canvas width=&#34;1280&#34; height=&#34;720&#34; tabindex=0&gt;&lt;/canvas&gt;&#39;);   // 构造一个jQuery对象  其中，tabindex=&#34;0&#34;使&lt;canvas&gt;元素可以聚焦

    this.ctx = this.$canvas[0].getContext(&#39;2d&#39;);  // this.$canvas[0]是&lt;canvas&gt;元素的DOM对象   this.ctx用于画布的渲染

    this.root.$kof.append(this.$canvas);

    this.$canvas.focus();   // 聚焦，使之可以获取输入

  

    this.controller = new Controller(this.$canvas);

  

    // 加入血条

    this.root.$kof.append($(`

      &lt;div class=&#34;kof-head&#34;&gt;

        &lt;div class=&#34;kof-head-hp-0&#34;&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;

        &lt;div class=&#34;kof-head-timer&#34;&gt;&lt;/div&gt;

        &lt;div class=&#34;kof-head-hp-1&#34;&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;

      &lt;/div&gt;

    `));

  

    // 加入计时表

    this.time_left = 60000;  //单位：毫秒（因为定义的timedelta单位是ms）

    this.$timer = this.root.$kof.find(&#39;.kof-head-timer&#39;);

  }

  

  start() {

  

  }

  

  update() {

    this.update_time();

  

    this.render();

  }

  

  update_time() {

    this.time_left -= this.timedelta;

    if (this.time_left &lt; 0) {   // 时间到，游戏结束

      this.time_left = 0;

  

      let [a, b] = this.root.players;

      if (a.status !== 6 &amp;&amp; b.status !== 6) {

        a.statu = b.status = 6;

        a.frame_current_cnt = b.frame_current_cnt = 0;

        a.vx = b.vx = 0;

      }

    }

    this.$timer.text(parseInt(this.time_left / 1000));

  }

  

  render() {

    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);

  }

}
</code></pre><h4 id="player">Player</h4>
<p><code>js/player/base.js</code></p>
<pre tabindex="0"><code>import { AcGameObject } from &#39;../ac_game_object/base.js&#39;;

  

export class Player extends AcGameObject {

  constructor(root, info) {

    super();

  

    this.root = root;

    this.id = info.id;

    this.x = info.x;

    this.y = info.y;

    this.width = info.width;

    this.height = info.height;

    this.color = info.color;

  

    this.direction = 1;

  

    this.vx = 0;

    this.vy = 0;

  

    this.speedx = 400;  // 水平速度

    this.speedy = -1000;  // 跳跃初始速度

  

    this.gravity = 50;

  

    this.ctx = this.root.game_map.ctx;

    this.pressed_keys = this.root.game_map.controller.pressed_keys;

    this.status = 3;  // 0：静止， 1：向前，2：向后，3：跳跃，4：攻击，5：被攻击，6：死亡   随着项目的完善，动作会变的很多，这时用数组存储字符串代替this.status会更方便

    this.animations = new Map();  // 存储GIF动画的每一帧

    this.frame_current_cnt = 0;  // 记录当前的帧数

  

    this.hp = 100;

    this.$hp = this.root.$kof.find(`.kof-head-hp-${this.id}&gt;div`);

    this.$hp_div = this.$hp.find(&#39;div&#39;);

  }

  start() {

  }

  

  update_control() {

    let w, a, d, j;

    if (this.id === 0) {

      w = this.pressed_keys.has(&#39;w&#39;);

      a = this.pressed_keys.has(&#39;a&#39;);

      d = this.pressed_keys.has(&#39;d&#39;);

      j = this.pressed_keys.has(&#39;j&#39;);

    } else {

      w = this.pressed_keys.has(&#39;ArrowUp&#39;);

      a = this.pressed_keys.has(&#39;ArrowLeft&#39;);

      d = this.pressed_keys.has(&#39;ArrowRight&#39;);

      j = this.pressed_keys.has(&#39;1&#39;);

    }

  

    if (this.status === 0 || this.status === 1) {   // 静止状态 || 移动状态

      if (j) {  // 攻击

        this.status = 4;

        this.vx = 0;

        this.frame_current_cnt = 0;

      } else if (w) {  // 跳跃

        if (d) {  // 向右跳

          this.vx = this.speedx;

        } else if (a) {  // 向左跳

          this.vx = -this.speedx;

        } else {  // 垂直跳

          this.vx = 0;

        }

        this.vy = this.speedy;

        this.status = 3;

        this.frame_current_cnt = 0; // 每次跳跃重新记录帧数，确保跳跃动画正常

  

      } else if (d) {  // 向右移动

        this.vx = this.speedx;

        this.status = 1;

      } else if (a) {  // 向左移动

        this.vx = - this.speedx;

        this.status = 1;

      } else {  // 静止

        this.vx = 0;

      }

    }

  

  }

  update_move() {

    this.vy += this.gravity;

  

    this.x += this.vx * this.timedelta / 1000;

    this.y += this.vy * this.timedelta / 1000;

  

    // 确保两个角色不会重叠   a 是自己、b 是对手

    // let [a, b] = this.root.players;

    // if (a !== this) [a,b] = [b, a];

  

    // let r1 = {

    //   x1: a.x,

    //   y1: a.y,

    //   x2: a.x + a.width,

    //   y2: a.x + a.height,

    // };

    // let r2 = {

    //   x1: b.x,

    //   y1: b.y,

    //   x2: b.x + b.width,

    //   y2: b.x + b.height,

    // };

  

    // if (this.is_collusion(r1, r2)) {

    //   b.x += this.vx * this.timedelta / 1000 / 2;

    //   b.y += this.vy * this.timedelta / 1000 / 2;

    //   a.x -= this.vx * this.timedelta / 1000 / 2;

    //   a.y -= this.vy * this.timedelta / 1000 / 2;

  

    //   if (this.status === 3) this.status = 0;

    // }

  

    // 落到平地上后静止

    if (this.y &gt; 450) {

      this.y = 450;

      this.vy = 0;

      if (this.status === 3) this.status = 0;   // 因为任何时刻都有重力施加，不加这一句会导致状态只有静止状态

    }

  

    // 不能超出左右边界

    if (this.x &lt; 0) {

      this.x = 0;

    } else if (this.x + this.width &gt; this.root.game_map.$canvas.width()) {

      this.x = this.root.game_map.$canvas.width() - this.width;

    }

  

  }

  

  update_direction() {  // 确保两个角色始终相对

    if (this.status === 6) return;

  

    let players = this.root.players;

    if (players[0] &amp;&amp; players[1]) {

      let me = this, you = players[1 - this.id];

      if (me.x &lt; you.x) me.direction = 1;

      else me.direction = -1;

    }

  }

  

  is_collusion(r1, r2) {  // 判断两个矩阵是否有交集

    if (Math.max(r1.x1, r2.x1) &gt; Math.min(r1.x2, r2.x2))

      return false;

    if (Math.max(r1.y1, r2.y1) &gt; Math.min(r1.y2,r2.y2))

      return false;

    return true;

  }

  

  is_attack() {

    if (this.status === 6) return;  // 已经倒地，无法再被攻击

  

    this.status = 5;

    this.frame_current_cnt = 0;

  

    this.hp = Math.max(this.hp - 10, 0);

  

    this.$hp_div.animate({  // 血条减少，渐变

      width: this.$hp.parent().width() * this.hp / 100,

    }, 350);

  

    this.$hp.animate({  // 血条减少，渐变

      width: this.$hp.parent().width() * this.hp / 100,

    }, 600);

  

    if (this.hp &lt;= 0) {

      this.status = 6;

      this.frame_current_cnt = 0;

      this.vx = 0;

    }

  }

  

  update_attack() {   // 判定是否被攻击到

    if (this.status === 4 &amp;&amp; this.frame_current_cnt === 18) {   // 第18帧时动画挥出拳，判断此时是否拳头与对方有碰撞

      let me = this, you = this.root.players[1 - this.id];

      let r1;  // 攻击判定矩形

      let r2;  // 敌方人物矩形

      if (this.direction &gt; 0) {

        r1 = {

          x1: me.x + 120,

          y1: me.y + 40,

          x2: me.x + 120 + 100,

          y2: me.y + 40 + 20,

        }

      } else {

        r1 = {

          x1: me.x + me.width - 120 - 100,

          y1: me.y + 40,

          x2: me.x + me.width - 120 - 100 + 100,

          y2: me.y + 40 + 20,

        }

      }

  

      r2 = {

        x1: you.x,

        y2: you.y,

        x2: you.x + you.width,

        y2: you.y + you.height

      };

  

      if (this.is_collusion(r1, r2)) {

        you.is_attack();

      }

    }

  }

  

  update() {

    this.update_attack();

    this.update_direction();

    this.update_control();

    this.update_move();

    this.render();

  }

  

  render() {

  

    let status = this.status;

  

    if (this.status === 1 &amp;&amp; this.direction * this.vx &lt; 0) status = 2;    // 后退状态

  

    let obj = this.animations.get(status);

    if (obj &amp;&amp; obj.loaded) {    // GIF 已经加载完成

      if (this.direction &gt; 0) {  // 正方向

        let k = parseInt(this.frame_current_cnt / obj.frame_rate) % obj.frame_cnt;  // 通过obj.frame_rate控制渲染动画的速率，方便控制动画，而不只是单纯的每一帧都渲染一次

        let image = obj.gif.frames[k].image;

        this.ctx.drawImage(image, this.x, this.y + obj.offset_y, image.width * obj.scale, image.height * obj.scale);

      } else {  // 反方向   通过调整坐标系来翻转方向

        this.ctx.save();

        this.ctx.scale(-1, 1);

        this.ctx.translate(-this.root.game_map.$canvas.width(), 0);

  

        let k = parseInt(this.frame_current_cnt / obj.frame_rate) % obj.frame_cnt;

        let image = obj.gif.frames[k].image;

        this.ctx.drawImage(image, this.root.game_map.$canvas.width() - this.width - this.x, this.y + obj.offset_y, image.width * obj.scale, image.height * obj.scale);  // 不同于正方向时的渲染，因为此时坐标系改变，需要在对称的位置渲染

  

        this.ctx.restore();

      }

    }

  

    if (status === 4 || status === 5 || status === 6) {  // 确保不会一直循环GIF

      if (this.frame_current_cnt === obj.frame_rate * (obj.frame_cnt - 1)) {  // 确保此时已经播放完一次GIF动画

        if (status === 6) {   // 死亡倒地不起，这里的 -- 和 下面的 ++ 相抵消，使之在最后一帧不再变化

          this.frame_current_cnt--;

        } else {

          this.status = 0;

        }

      }

    }

  

    this.frame_current_cnt++;

  }

}
</code></pre><p><code>js/player/kyo.js</code></p>
<pre tabindex="0"><code>import { Player } from &#34;../player/base.js&#34;;

import {GIF} from &#39;../utils/gif.js&#39;

  

export class Kyo extends Player {

  constructor(root, info) {

    super(root, info);

  

    this.init_animations();   // 初始化动画

  }

  

  init_animations() {

    let outer = this;

    let offsets = [0, -22, -22, -150, 0, 0, 0];   // 偏移量 不同的动画高度不同，因此需要借助竖直方向上的偏移量将他们调整至同一水平面

    for (let i = 0; i &lt; 7; ++ i) {  // 7个动作

      let gif = GIF();

      gif.load(`/static/images/player/kyo/${i}.gif`);

      this.animations.set(i, {  // 动画

        gif: gif,

        frame_cnt: 0,  // GIF帧数

        frame_rate: 5,  // 每5帧过渡一次

        offset_y: offsets[i],  // y方向偏移量

        loaded: false,  // 是否加载完成

        scale: 2,  // 放大2倍

      });

  

      gif.onload = function() {   // 加载完成

        let obj = outer.animations.get(i);

        obj.frame_cnt = gif.frames.length;

        obj.loaded = true;

  

        if (i === 3) {  // 调整跳跃时GIF播放速率

          obj.frame_rate = 4;

        }

      }

    }

  }

}
</code></pre><h4 id="gif">GIF</h4>
<ul>
<li><a href="https://stackoverflow.com/questions/48234696/how-to-put-a-gif-with-canvas/48348567#48348567">Loading and playing GIF image to canvas</a>    把玩家的<code>GIF</code>动画渲染在<code>canvas</code>上</li>
</ul>
<hr>
<p><code>js/utils/gif.js</code></p>
<pre tabindex="0"><code>const GIF = function () {

  // **NOT** for commercial use.

  var timerID;                          // timer handle for set time out usage

  var st;                               // holds the stream object when loading.

  var interlaceOffsets = [0, 4, 2, 1]; // used in de-interlacing.

  var interlaceSteps = [8, 8, 4, 2];

  var interlacedBufSize;  // this holds a buffer to de interlace. Created on the first frame and when size changed

  var deinterlaceBuf;

  var pixelBufSize;    // this holds a buffer for pixels. Created on the first frame and when size changed

  var pixelBuf;

  const GIF_FILE = { // gif file data headers

    GCExt: 0xF9,

    COMMENT: 0xFE,

    APPExt: 0xFF,

    UNKNOWN: 0x01, // not sure what this is but need to skip it in parser

    IMAGE: 0x2C,

    EOF: 59,   // This is entered as decimal

    EXT: 0x21,

  };

  // simple buffered stream used to read from the file

  var Stream = function (data) {

      this.data = new Uint8ClampedArray(data);

      this.pos = 0;

      var len = this.data.length;

      this.getString = function (count) { // returns a string from current pos of len count

          var s = &#34;&#34;;

          while (count--) { s += String.fromCharCode(this.data[this.pos++]) }

          return s;

      };

      this.readSubBlocks = function () { // reads a set of blocks as a string

          var size, count, data = &#34;&#34;;

          do {

              count = size = this.data[this.pos++];

              while (count--) { data += String.fromCharCode(this.data[this.pos++]) }

          } while (size !== 0 &amp;&amp; this.pos &lt; len);

          return data;

      }

      this.readSubBlocksB = function () { // reads a set of blocks as binary

          var size, count, data = [];

          do {

              count = size = this.data[this.pos++];

              while (count--) { data.push(this.data[this.pos++]); }

          } while (size !== 0 &amp;&amp; this.pos &lt; len);

          return data;

      }

  };

  // LZW decoder uncompressed each frames pixels

  // this needs to be optimised.

  // minSize is the min dictionary as powers of two

  // size and data is the compressed pixels

  function lzwDecode(minSize, data) {

      var i, pixelPos, pos, clear, eod, size, done, dic, code, last, d, len;

      pos = pixelPos = 0;

      dic = [];

      clear = 1 &lt;&lt; minSize;

      eod = clear + 1;

      size = minSize + 1;

      done = false;

      while (!done) { // JavaScript optimisers like a clear exit though I never use &#39;done&#39; apart from fooling the optimiser

          last = code;

          code = 0;

          for (i = 0; i &lt; size; i++) {

              if (data[pos &gt;&gt; 3] &amp; (1 &lt;&lt; (pos &amp; 7))) { code |= 1 &lt;&lt; i }

              pos++;

          }

          if (code === clear) { // clear and reset the dictionary

              dic = [];

              size = minSize + 1;

              for (i = 0; i &lt; clear; i++) { dic[i] = [i] }

              dic[clear] = [];

              dic[eod] = null;

          } else {

              if (code === eod) { done = true; return }

              if (code &gt;= dic.length) { dic.push(dic[last].concat(dic[last][0])) }

              else if (last !== clear) { dic.push(dic[last].concat(dic[code][0])) }

              d = dic[code];

              len = d.length;

              for (i = 0; i &lt; len; i++) { pixelBuf[pixelPos++] = d[i] }

              if (dic.length === (1 &lt;&lt; size) &amp;&amp; size &lt; 12) { size++ }

          }

      }

  };

  function parseColourTable(count) { // get a colour table of length count  Each entry is 3 bytes, for RGB.

      var colours = [];

      for (var i = 0; i &lt; count; i++) { colours.push([st.data[st.pos++], st.data[st.pos++], st.data[st.pos++]]) }

      return colours;

  }

  function parse() {        // read the header. This is the starting point of the decode and async calls parseBlock

      var bitField;

      st.pos += 6;

      gif.width = (st.data[st.pos++]) + ((st.data[st.pos++]) &lt;&lt; 8);

      gif.height = (st.data[st.pos++]) + ((st.data[st.pos++]) &lt;&lt; 8);

      bitField = st.data[st.pos++];

      gif.colorRes = (bitField &amp; 0b1110000) &gt;&gt; 4;

      gif.globalColourCount = 1 &lt;&lt; ((bitField &amp; 0b111) + 1);

      gif.bgColourIndex = st.data[st.pos++];

      st.pos++;                    // ignoring pixel aspect ratio. if not 0, aspectRatio = (pixelAspectRatio + 15) / 64

      if (bitField &amp; 0b10000000) { gif.globalColourTable = parseColourTable(gif.globalColourCount) } // global colour flag

      setTimeout(parseBlock, 0);

  }

  function parseAppExt() { // get application specific data. Netscape added iterations and terminator. Ignoring that

      st.pos += 1;

      if (&#39;NETSCAPE&#39; === st.getString(8)) { st.pos += 8 }  // ignoring this data. iterations (word) and terminator (byte)

      else {

          st.pos += 3;            // 3 bytes of string usually &#34;2.0&#34; when identifier is NETSCAPE

          st.readSubBlocks();     // unknown app extension

      }

  };

  function parseGCExt() { // get GC data

      var bitField;

      st.pos++;

      bitField = st.data[st.pos++];

      gif.disposalMethod = (bitField &amp; 0b11100) &gt;&gt; 2;

      gif.transparencyGiven = bitField &amp; 0b1 ? true : false; // ignoring bit two that is marked as  userInput???

      gif.delayTime = (st.data[st.pos++]) + ((st.data[st.pos++]) &lt;&lt; 8);

      gif.transparencyIndex = st.data[st.pos++];

      st.pos++;

  };

  function parseImg() {                           // decodes image data to create the indexed pixel image

      var deinterlace, frame, bitField;

      deinterlace = function (width) {                   // de interlace pixel data if needed

          var lines, fromLine, pass, toline;

          lines = pixelBufSize / width;

          fromLine = 0;

          if (interlacedBufSize !== pixelBufSize) {      // create the buffer if size changed or undefined.

              deinterlaceBuf = new Uint8Array(pixelBufSize);

              interlacedBufSize = pixelBufSize;

          }

          for (pass = 0; pass &lt; 4; pass++) {

              for (toLine = interlaceOffsets[pass]; toLine &lt; lines; toLine += interlaceSteps[pass]) {

                  deinterlaceBuf.set(pixelBuf.subarray(fromLine, fromLine + width), toLine * width);

                  fromLine += width;

              }

          }

      };

      frame = {}

      gif.frames.push(frame);

      frame.disposalMethod = gif.disposalMethod;

      frame.time = gif.length;

      frame.delay = gif.delayTime * 10;

      gif.length += frame.delay;

      if (gif.transparencyGiven) { frame.transparencyIndex = gif.transparencyIndex }

      else { frame.transparencyIndex = undefined }

      frame.leftPos = (st.data[st.pos++]) + ((st.data[st.pos++]) &lt;&lt; 8);

      frame.topPos = (st.data[st.pos++]) + ((st.data[st.pos++]) &lt;&lt; 8);

      frame.width = (st.data[st.pos++]) + ((st.data[st.pos++]) &lt;&lt; 8);

      frame.height = (st.data[st.pos++]) + ((st.data[st.pos++]) &lt;&lt; 8);

      bitField = st.data[st.pos++];

      frame.localColourTableFlag = bitField &amp; 0b10000000 ? true : false;

      if (frame.localColourTableFlag) { frame.localColourTable = parseColourTable(1 &lt;&lt; ((bitField &amp; 0b111) + 1)) }

      if (pixelBufSize !== frame.width * frame.height) { // create a pixel buffer if not yet created or if current frame size is different from previous

          pixelBuf = new Uint8Array(frame.width * frame.height);

          pixelBufSize = frame.width * frame.height;

      }

      lzwDecode(st.data[st.pos++], st.readSubBlocksB()); // decode the pixels

      if (bitField &amp; 0b1000000) {                        // de interlace if needed

          frame.interlaced = true;

          deinterlace(frame.width);

      } else { frame.interlaced = false }

      processFrame(frame);                               // convert to canvas image

  };

  function processFrame(frame) { // creates a RGBA canvas image from the indexed pixel data.

      var ct, cData, dat, pixCount, ind, useT, i, pixel, pDat, col, frame, ti;

      frame.image = document.createElement(&#39;canvas&#39;);

      frame.image.width = gif.width;

      frame.image.height = gif.height;

      frame.image.ctx = frame.image.getContext(&#34;2d&#34;);

      ct = frame.localColourTableFlag ? frame.localColourTable : gif.globalColourTable;

      if (gif.lastFrame === null) { gif.lastFrame = frame }

      useT = (gif.lastFrame.disposalMethod === 2 || gif.lastFrame.disposalMethod === 3) ? true : false;

      if (!useT) { frame.image.ctx.drawImage(gif.lastFrame.image, 0, 0, gif.width, gif.height) }

      cData = frame.image.ctx.getImageData(frame.leftPos, frame.topPos, frame.width, frame.height);

      ti = frame.transparencyIndex;

      dat = cData.data;

      if (frame.interlaced) { pDat = deinterlaceBuf }

      else { pDat = pixelBuf }

      pixCount = pDat.length;

      ind = 0;

      for (i = 0; i &lt; pixCount; i++) {

          pixel = pDat[i];

          col = ct[pixel];

          if (ti !== pixel) {

              dat[ind++] = col[0];

              dat[ind++] = col[1];

              dat[ind++] = col[2];

              dat[ind++] = 255;      // Opaque.

          } else

              if (useT) {

                  dat[ind + 3] = 0; // Transparent.

                  ind += 4;

              } else { ind += 4 }

      }

      frame.image.ctx.putImageData(cData, frame.leftPos, frame.topPos);

      gif.lastFrame = frame;

      if (!gif.waitTillDone &amp;&amp; typeof gif.onload === &#34;function&#34;) { doOnloadEvent() }// if !waitTillDone the call onload now after first frame is loaded

  };

  // **NOT** for commercial use.

  function finnished() { // called when the load has completed

      gif.loading = false;

      gif.frameCount = gif.frames.length;

      gif.lastFrame = null;

      st = undefined;

      gif.complete = true;

      gif.disposalMethod = undefined;

      gif.transparencyGiven = undefined;

      gif.delayTime = undefined;

      gif.transparencyIndex = undefined;

      gif.waitTillDone = undefined;

      pixelBuf = undefined; // dereference pixel buffer

      deinterlaceBuf = undefined; // dereference interlace buff (may or may not be used);

      pixelBufSize = undefined;

      deinterlaceBuf = undefined;

      gif.currentFrame = 0;

      if (gif.frames.length &gt; 0) { gif.image = gif.frames[0].image }

      doOnloadEvent();

      if (typeof gif.onloadall === &#34;function&#34;) {

          (gif.onloadall.bind(gif))({ type: &#39;loadall&#39;, path: [gif] });

      }

      if (gif.playOnLoad) { gif.play() }

  }

  function canceled() { // called if the load has been cancelled

      finnished();

      if (typeof gif.cancelCallback === &#34;function&#34;) { (gif.cancelCallback.bind(gif))({ type: &#39;canceled&#39;, path: [gif] }) }

  }

  function parseExt() {              // parse extended blocks

      const blockID = st.data[st.pos++];

      if (blockID === GIF_FILE.GCExt) { parseGCExt() }

      else if (blockID === GIF_FILE.COMMENT) { gif.comment += st.readSubBlocks() }

      else if (blockID === GIF_FILE.APPExt) { parseAppExt() }

      else {

          if (blockID === GIF_FILE.UNKNOWN) { st.pos += 13; } // skip unknow block

          st.readSubBlocks();

      }

  

  }

  function parseBlock() { // parsing the blocks

      if (gif.cancel !== undefined &amp;&amp; gif.cancel === true) { canceled(); return }

  

      const blockId = st.data[st.pos++];

      if (blockId === GIF_FILE.IMAGE) { // image block

          parseImg();

          if (gif.firstFrameOnly) { finnished(); return }

      } else if (blockId === GIF_FILE.EOF) { finnished(); return }

      else { parseExt() }

      if (typeof gif.onprogress === &#34;function&#34;) {

          gif.onprogress({ bytesRead: st.pos, totalBytes: st.data.length, frame: gif.frames.length });

      }

      setTimeout(parseBlock, 0); // parsing frame async so processes can get some time in.

  };

  function cancelLoad(callback) { // cancels the loading. This will cancel the load before the next frame is decoded

      if (gif.complete) { return false }

      gif.cancelCallback = callback;

      gif.cancel = true;

      return true;

  }

  function error(type) {

      if (typeof gif.onerror === &#34;function&#34;) { (gif.onerror.bind(this))({ type: type, path: [this] }) }

      gif.onload = gif.onerror = undefined;

      gif.loading = false;

  }

  function doOnloadEvent() { // fire onload event if set

      gif.currentFrame = 0;

      gif.nextFrameAt = gif.lastFrameAt = new Date().valueOf(); // just sets the time now

      if (typeof gif.onload === &#34;function&#34;) { (gif.onload.bind(gif))({ type: &#39;load&#39;, path: [gif] }) }

      gif.onerror = gif.onload = undefined;

  }

  function dataLoaded(data) { // Data loaded create stream and parse

      st = new Stream(data);

      parse();

  }

  function loadGif(filename) { // starts the load

      var ajax = new XMLHttpRequest();

      ajax.responseType = &#34;arraybuffer&#34;;

      ajax.onload = function (e) {

          if (e.target.status === 404) { error(&#34;File not found&#34;) }

          else if (e.target.status &gt;= 200 &amp;&amp; e.target.status &lt; 300) { dataLoaded(ajax.response) }

          else { error(&#34;Loading error : &#34; + e.target.status) }

      };

      ajax.open(&#39;GET&#39;, filename, true);

      ajax.send();

      ajax.onerror = function (e) { error(&#34;File error&#34;) };

      this.src = filename;

      this.loading = true;

  }

  function play() { // starts play if paused

      if (!gif.playing) {

          gif.paused = false;

          gif.playing = true;

          playing();

      }

  }

  function pause() { // stops play

      gif.paused = true;

      gif.playing = false;

      clearTimeout(timerID);

  }

  function togglePlay() {

      if (gif.paused || !gif.playing) { gif.play() }

      else { gif.pause() }

  }

  function seekFrame(frame) { // seeks to frame number.

      clearTimeout(timerID);

      gif.currentFrame = frame % gif.frames.length;

      if (gif.playing) { playing() }

      else { gif.image = gif.frames[gif.currentFrame].image }

  }

  function seek(time) { // time in Seconds  // seek to frame that would be displayed at time

      clearTimeout(timerID);

      if (time &lt; 0) { time = 0 }

      time *= 1000; // in ms

      time %= gif.length;

      var frame = 0;

      while (time &gt; gif.frames[frame].time + gif.frames[frame].delay &amp;&amp; frame &lt; gif.frames.length) { frame += 1 }

      gif.currentFrame = frame;

      if (gif.playing) { playing() }

      else { gif.image = gif.frames[gif.currentFrame].image }

  }

  function playing() {

      var delay;

      var frame;

      if (gif.playSpeed === 0) {

          gif.pause();

          return;

      } else {

          if (gif.playSpeed &lt; 0) {

              gif.currentFrame -= 1;

              if (gif.currentFrame &lt; 0) { gif.currentFrame = gif.frames.length - 1 }

              frame = gif.currentFrame;

              frame -= 1;

              if (frame &lt; 0) { frame = gif.frames.length - 1 }

              delay = -gif.frames[frame].delay * 1 / gif.playSpeed;

          } else {

              gif.currentFrame += 1;

              gif.currentFrame %= gif.frames.length;

              delay = gif.frames[gif.currentFrame].delay * 1 / gif.playSpeed;

          }

          gif.image = gif.frames[gif.currentFrame].image;

          timerID = setTimeout(playing, delay);

      }

  }

  var gif = {                      // the gif image object

      onload: null,       // fire on load. Use waitTillDone = true to have load fire at end or false to fire on first frame

      onerror: null,       // fires on error

      onprogress: null,       // fires a load progress event

      onloadall: null,       // event fires when all frames have loaded and gif is ready

      paused: false,      // true if paused

      playing: false,      // true if playing

      waitTillDone: true,       // If true onload will fire when all frames loaded, if false, onload will fire when first frame has loaded

      loading: false,      // true if still loading

      firstFrameOnly: false,      // if true only load the first frame

      width: null,       // width in pixels

      height: null,       // height in pixels

      frames: [],         // array of frames

      comment: &#34;&#34;,         // comments if found in file. Note I remember that some gifs have comments per frame if so this will be all comment concatenated

      length: 0,          // gif length in ms (1/1000 second)

      currentFrame: 0,          // current frame.

      frameCount: 0,          // number of frames

      playSpeed: 1,          // play speed 1 normal, 2 twice 0.5 half, -1 reverse etc...

      lastFrame: null,       // temp hold last frame loaded so you can display the gif as it loads

      image: null,       // the current image at the currentFrame

      playOnLoad: true,       // if true starts playback when loaded

      // functions

      load: loadGif,    // call this to load a file

      cancel: cancelLoad, // call to stop loading

      play: play,       // call to start play

      pause: pause,      // call to pause

      seek: seek,       // call to seek to time

      seekFrame: seekFrame,  // call to seek to frame

      togglePlay: togglePlay, // call to toggle play and pause state

  };

  return gif;

}

  

export {

  GIF

}
</code></pre><h4 id="状态机">状态机</h4>
<center> 
	<img style="border-radius: 0.3125em; box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" src="https://bu.dusays.com/2022/11/03/6363d89220c15.png">
	<br>
	<div style="color:orange; border-bottom: 1px solid #d9d9d9; 
	display: inline-block; 
	color: #999; 
	padding: 2px;">0：静止    1：移动     3：跳跃    4：攻击</div> 
 </center>
<h2 id="myspace">MySpace</h2>
<ul>
<li><a href="https://github.com/Xancoding/Learning-Vue">MySpace</a></li>
<li><a href="https://www.acwing.com/video/3867/">AcWing Web 应用课 | Vue3——网站整体布局、用户动态页面 | Vedio</a></li>
<li><a href="https://www.acwing.com/video/3875/">AcWing Web 应用课 | Vue3——用户列表、登录、注册页面 | Vedio</a></li>
</ul>
<hr>
]]></content:encoded>
    </item>
    
    <item>
      <title>Output message</title>
      <link>https://xancoding.cn/posts/2022-10-30-15-28-22/</link>
      <pubDate>Sun, 30 Oct 2022 15:28:22 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2022-10-30-15-28-22/</guid>
      <description>&lt;h1 id=&#34;blog&#34;&gt;Blog&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://xancoding.cn/posts/2023-04-30-09-43-31/&#34;&gt;Blog&lt;/a&gt;
前前后后花了大概是有一个月的时间，把这个博客从零到有，再到功能的补充完善，到目前已经是一个很满意的状态，自我感觉投入的时间确实也是很值得的。建立这个博客，作为我对外输出的一个途径，也可以算是我的学习笔记的存放处，再加上我一些有感悟的点，想要记录下来的内容，都是写在这上面。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;obsidian-快捷键&#34;&gt;Obsidian 快捷键&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;打开 &lt;code&gt;Obsidian&lt;/code&gt; 编辑器，通过 &lt;code&gt;ctrl + s&lt;/code&gt; 快捷键创建新博客&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ctrl + d&lt;/code&gt;：删除当前文件&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ctrl + t&lt;/code&gt;：打开新标签页&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ctrl + w&lt;/code&gt;：关闭当前标签页&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ctrl + o&lt;/code&gt;：切换或创建文件&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ctrl + e&lt;/code&gt;：切换预览与编辑模式&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;obsidian&#34;&gt;Obsidian&lt;/h1&gt;
&lt;p&gt;我的笔记记录工作，都是在 &lt;code&gt;obsidian&lt;/code&gt; 上完成的，现在也是建立起了一个很方便的工作流，是我可以只用思考要写什么内容，其余的步骤已经可以完全交给自动化来完成了，诸如同步到&lt;code&gt;github&lt;/code&gt;、编译博客的源文件再发表等等&lt;/p&gt;
&lt;p&gt;下面列出一些我正在用的插件👇&lt;/p&gt;
&lt;h2 id=&#34;appearance&#34;&gt;Appearance&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1r94y1v7eH/?vd_source=ae16ff6478eb15c1b87880540263910b&#34;&gt;【Obsidian搭建系列教程】 主题配置 | 美化篇——Part 1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;主题：AnuPpuccin&lt;/li&gt;
&lt;li&gt;字体：霞鹜文楷 ，安装地址：&lt;a href=&#34;https://github.com/lxgw/LxgwWenKai&#34;&gt;https://github.com/lxgw/LxgwWenKai&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;大纲：Quiet Outline&lt;/li&gt;
&lt;li&gt;样式设置：Style Setting&lt;/li&gt;
&lt;li&gt;代码高亮：Editor Syntax Highlight&lt;/li&gt;
&lt;li&gt;链接图标：Link Favicons&lt;/li&gt;
&lt;li&gt;文件图标：Icon Floder&lt;/li&gt;
&lt;li&gt;Light/Dark自动切换：System Dark Mode&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;quiet-outline&#34;&gt;Quiet Outline&lt;/h3&gt;
&lt;p&gt;一个让大纲更好用的插件&lt;/p&gt;
&lt;p&gt;打开命令面板输入&lt;code&gt;Quiet Outline&lt;/code&gt;，然后回车，就可以打开大纲面板。&lt;/p&gt;
&lt;p&gt;其他详细功能在设置中查看&lt;/p&gt;
&lt;h3 id=&#34;style-setting&#34;&gt;Style Setting&lt;/h3&gt;
&lt;p&gt;这个插件允许代码片段、主题和插件CSS文件定义一组配置选项&lt;/p&gt;
&lt;h3 id=&#34;editor-syntax-highlight&#34;&gt;Editor Syntax Highlight&lt;/h3&gt;
&lt;p&gt;将最流行的编程语言的语法高亮显示到Obsidian代码块中&lt;/p&gt;
&lt;h3 id=&#34;link-favicons&#34;&gt;Link Favicons&lt;/h3&gt;
&lt;p&gt;自动拉取链接网站的图标&lt;/p&gt;
&lt;h3 id=&#34;icon-floder&#34;&gt;Icon Floder&lt;/h3&gt;
&lt;p&gt;自定义文件的图标&lt;/p&gt;
&lt;h3 id=&#34;system-dark-mode&#34;&gt;System Dark Mode&lt;/h3&gt;
&lt;p&gt;将自动根据操作系统将主题设置为亮或暗模式&lt;/p&gt;
&lt;h2 id=&#34;toolbar&#34;&gt;Toolbar&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;工具栏：Editing Toolbar&lt;/li&gt;
&lt;li&gt;Emoji：Emoji Toolbar&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;editing-toolbar&#34;&gt;Editing Toolbar&lt;/h3&gt;
&lt;p&gt;提供类似于 MS-Word 的工具栏，，以获得更顺畅的写作/编辑体验。&lt;/p&gt;
&lt;h3 id=&#34;emoji-toolbar&#34;&gt;Emoji Toolbar&lt;/h3&gt;
&lt;p&gt;让你可以快速搜索和添加表情符号到你的编辑器。&lt;/p&gt;
&lt;h2 id=&#34;others&#34;&gt;Others&lt;/h2&gt;
&lt;h3 id=&#34;epub-reader&#34;&gt;&lt;strong&gt;ePUb Reader&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;在 &lt;code&gt;Obsidian&lt;/code&gt; 中可以阅读 &lt;code&gt;Epub&lt;/code&gt; 电子书&lt;/p&gt;
&lt;h3 id=&#34;image-auto-upload-plugin&#34;&gt;Image auto upload Plugin&lt;/h3&gt;
&lt;p&gt;通过 &lt;code&gt;PicGo&lt;/code&gt; 自动上传图像，只需要将图片粘贴即可自动上传&lt;/p&gt;
&lt;h3 id=&#34;obsidian-git--quickadd&#34;&gt;Obsidian Git &amp;amp; QuickAdd&lt;/h3&gt;
&lt;p&gt;搭建 Obsidian 博客自动发布系统&lt;/p&gt;
&lt;h3 id=&#34;various-complements&#34;&gt;Various Complements&lt;/h3&gt;
&lt;p&gt;单词提示，自动补全&lt;/p&gt;
&lt;h3 id=&#34;vimrc-support&#34;&gt;&lt;strong&gt;Vimrc Support&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;从 &lt;code&gt;VAULT_ROOT/.obsidian.vimrc&lt;/code&gt; 加载 Vim 命令文件，实现加载持久配置的功能并添加一些额外功能&lt;/p&gt;
&lt;h3 id=&#34;wakatime&#34;&gt;WakaTime&lt;/h3&gt;
&lt;p&gt;统计你在不同语言、项目上写代码的时长&lt;/p&gt;
&lt;h3 id=&#34;commander---hover-editor&#34;&gt;Commander  &amp;amp; Hover Editor&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;Commder&lt;/code&gt; 可以利用 &lt;code&gt;macros&lt;/code&gt; 自定义命令&lt;/p&gt;
&lt;p&gt;我们自定义命令后，绑定快捷键 &lt;code&gt;Ctrl+Shift+X&lt;/code&gt;，使&lt;code&gt; Style Settings&lt;/code&gt; 面板悬浮，方便配置美观的编辑界面&lt;/p&gt;
&lt;h1 id=&#34;flomo-浮墨笔记&#34;&gt;flomo 浮墨笔记&lt;/h1&gt;
&lt;p&gt;在日常生活中，有碰到想法和灵感需要记录的时候，我会使用它进行一个快速的记录&lt;/p&gt;
&lt;p&gt;在想回顾时，可以方便知晓过去的想法

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2023/01/13/63c0ef3e0c721.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2023/01/13/63c0ef3e0c721.png&#34; alt=&#34;Snipaste_2023-01-13_13-42-13.png&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/p&gt;
&lt;h1 id=&#34;推荐阅读&#34;&gt;推荐阅读&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.zhihu.com/question/384309878/answer/2713962647&#34;&gt;什么是 Zettelkasten 卡片盒笔记法？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=MzA5MzUzODA1OA==&amp;amp;mid=2247483947&amp;amp;idx=1&amp;amp;sn=2cccb76ee58ddd11541d91c4b283b594&amp;amp;chksm=905d104ea72a9958d71c70313d5a4799641aa903e62f32ac1038ec5fb8c903fc7db36c261d26&amp;amp;scene=178&amp;amp;cur_album_id=1477367917246726144#rd&#34;&gt;卢曼：与卡片盒交流&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://catcoding.me/p/my-notes-taking-tools-and-experience/&#34;&gt;我的知识管理工具和经验&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://catcoding.me/p/obsidian-for-programmer/&#34;&gt;我的 Obsidian 使用经验&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.owenyoung.com/blog/about-notes/&#34;&gt;不要再碎片化笔记了 - 关于笔记的思考&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://space.bilibili.com/477825203/channel/collectiondetail?sid=365656&#34;&gt;程序员的喵喵 | Obsidian 使用&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1Di4y1y7df/?spm_id_from=333.337.search-card.all.click&amp;amp;vd_source=03fea8b80d1864616f56adac92aa2617&#34;&gt;【中文字幕】Zettelkasten笔记系统的搭建 | 手把手教学 | Zettelkasten in Obsidian&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
      <content:encoded><![CDATA[<h1 id="blog">Blog</h1>
<ul>
<li><a href="https://xancoding.cn/posts/2023-04-30-09-43-31/">Blog</a>
前前后后花了大概是有一个月的时间，把这个博客从零到有，再到功能的补充完善，到目前已经是一个很满意的状态，自我感觉投入的时间确实也是很值得的。建立这个博客，作为我对外输出的一个途径，也可以算是我的学习笔记的存放处，再加上我一些有感悟的点，想要记录下来的内容，都是写在这上面。</li>
</ul>
<h2 id="obsidian-快捷键">Obsidian 快捷键</h2>
<ol>
<li>打开 <code>Obsidian</code> 编辑器，通过 <code>ctrl + s</code> 快捷键创建新博客</li>
<li><code>ctrl + d</code>：删除当前文件</li>
<li><code>ctrl + t</code>：打开新标签页</li>
<li><code>ctrl + w</code>：关闭当前标签页</li>
<li><code>ctrl + o</code>：切换或创建文件</li>
<li><code>ctrl + e</code>：切换预览与编辑模式</li>
</ol>
<h1 id="obsidian">Obsidian</h1>
<p>我的笔记记录工作，都是在 <code>obsidian</code> 上完成的，现在也是建立起了一个很方便的工作流，是我可以只用思考要写什么内容，其余的步骤已经可以完全交给自动化来完成了，诸如同步到<code>github</code>、编译博客的源文件再发表等等</p>
<p>下面列出一些我正在用的插件👇</p>
<h2 id="appearance">Appearance</h2>
<ul>
<li><a href="https://www.bilibili.com/video/BV1r94y1v7eH/?vd_source=ae16ff6478eb15c1b87880540263910b">【Obsidian搭建系列教程】 主题配置 | 美化篇——Part 1</a></li>
<li>主题：AnuPpuccin</li>
<li>字体：霞鹜文楷 ，安装地址：<a href="https://github.com/lxgw/LxgwWenKai">https://github.com/lxgw/LxgwWenKai</a></li>
<li>大纲：Quiet Outline</li>
<li>样式设置：Style Setting</li>
<li>代码高亮：Editor Syntax Highlight</li>
<li>链接图标：Link Favicons</li>
<li>文件图标：Icon Floder</li>
<li>Light/Dark自动切换：System Dark Mode</li>
</ul>
<h3 id="quiet-outline">Quiet Outline</h3>
<p>一个让大纲更好用的插件</p>
<p>打开命令面板输入<code>Quiet Outline</code>，然后回车，就可以打开大纲面板。</p>
<p>其他详细功能在设置中查看</p>
<h3 id="style-setting">Style Setting</h3>
<p>这个插件允许代码片段、主题和插件CSS文件定义一组配置选项</p>
<h3 id="editor-syntax-highlight">Editor Syntax Highlight</h3>
<p>将最流行的编程语言的语法高亮显示到Obsidian代码块中</p>
<h3 id="link-favicons">Link Favicons</h3>
<p>自动拉取链接网站的图标</p>
<h3 id="icon-floder">Icon Floder</h3>
<p>自定义文件的图标</p>
<h3 id="system-dark-mode">System Dark Mode</h3>
<p>将自动根据操作系统将主题设置为亮或暗模式</p>
<h2 id="toolbar">Toolbar</h2>
<ul>
<li>工具栏：Editing Toolbar</li>
<li>Emoji：Emoji Toolbar</li>
</ul>
<h3 id="editing-toolbar">Editing Toolbar</h3>
<p>提供类似于 MS-Word 的工具栏，，以获得更顺畅的写作/编辑体验。</p>
<h3 id="emoji-toolbar">Emoji Toolbar</h3>
<p>让你可以快速搜索和添加表情符号到你的编辑器。</p>
<h2 id="others">Others</h2>
<h3 id="epub-reader"><strong>ePUb Reader</strong></h3>
<p>在 <code>Obsidian</code> 中可以阅读 <code>Epub</code> 电子书</p>
<h3 id="image-auto-upload-plugin">Image auto upload Plugin</h3>
<p>通过 <code>PicGo</code> 自动上传图像，只需要将图片粘贴即可自动上传</p>
<h3 id="obsidian-git--quickadd">Obsidian Git &amp; QuickAdd</h3>
<p>搭建 Obsidian 博客自动发布系统</p>
<h3 id="various-complements">Various Complements</h3>
<p>单词提示，自动补全</p>
<h3 id="vimrc-support"><strong>Vimrc Support</strong></h3>
<p>从 <code>VAULT_ROOT/.obsidian.vimrc</code> 加载 Vim 命令文件，实现加载持久配置的功能并添加一些额外功能</p>
<h3 id="wakatime">WakaTime</h3>
<p>统计你在不同语言、项目上写代码的时长</p>
<h3 id="commander---hover-editor">Commander  &amp; Hover Editor</h3>
<p><code>Commder</code> 可以利用 <code>macros</code> 自定义命令</p>
<p>我们自定义命令后，绑定快捷键 <code>Ctrl+Shift+X</code>，使<code> Style Settings</code> 面板悬浮，方便配置美观的编辑界面</p>
<h1 id="flomo-浮墨笔记">flomo 浮墨笔记</h1>
<p>在日常生活中，有碰到想法和灵感需要记录的时候，我会使用它进行一个快速的记录</p>
<p>在想回顾时，可以方便知晓过去的想法

<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2023/01/13/63c0ef3e0c721.png">
<img src="https://bu.dusays.com/2023/01/13/63c0ef3e0c721.png" alt="Snipaste_2023-01-13_13-42-13.png"  />
</a>
</div>

</p>
<h1 id="推荐阅读">推荐阅读</h1>
<ul>
<li><a href="https://www.zhihu.com/question/384309878/answer/2713962647">什么是 Zettelkasten 卡片盒笔记法？</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA5MzUzODA1OA==&amp;mid=2247483947&amp;idx=1&amp;sn=2cccb76ee58ddd11541d91c4b283b594&amp;chksm=905d104ea72a9958d71c70313d5a4799641aa903e62f32ac1038ec5fb8c903fc7db36c261d26&amp;scene=178&amp;cur_album_id=1477367917246726144#rd">卢曼：与卡片盒交流</a></li>
<li><a href="https://catcoding.me/p/my-notes-taking-tools-and-experience/">我的知识管理工具和经验</a></li>
<li><a href="https://catcoding.me/p/obsidian-for-programmer/">我的 Obsidian 使用经验</a></li>
<li><a href="https://www.owenyoung.com/blog/about-notes/">不要再碎片化笔记了 - 关于笔记的思考</a></li>
</ul>
<hr>
<ul>
<li><a href="https://space.bilibili.com/477825203/channel/collectiondetail?sid=365656">程序员的喵喵 | Obsidian 使用</a></li>
<li><a href="https://www.bilibili.com/video/BV1Di4y1y7df/?spm_id_from=333.337.search-card.all.click&amp;vd_source=03fea8b80d1864616f56adac92aa2617">【中文字幕】Zettelkasten笔记系统的搭建 | 手把手教学 | Zettelkasten in Obsidian</a></li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>WarOfWarlock--AcWing Django 框架课</title>
      <link>https://xancoding.cn/posts/2022-10-29-18-23-59/</link>
      <pubDate>Sat, 29 Oct 2022 18:23:59 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2022-10-29-18-23-59/</guid>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.colopen-blog.com/Engineer/acw_django/&#34;&gt;AcWing Django 框架课 | Colopen&amp;rsquo;s blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/activity/content/punch_the_clock/72/&#34;&gt;AcWing Django 框架课&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;warofwarlockhttpsgithubcomxancodingwarofwarlock&#34;&gt;&lt;a href=&#34;https://github.com/Xancoding/WarOfWarlock&#34;&gt;WarOfWarlock&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&#34;搭建工具&#34;&gt;搭建工具&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;HTML &amp;amp; CSS &amp;amp; JavaScript &amp;amp; Django&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;参考资料&#34;&gt;参考资料&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.colopen-blog.com/Engineer/acw_django/&#34;&gt;AcWing Django 框架课 | Colopen&amp;rsquo;s blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/activity/content/punch_the_clock/72/&#34;&gt;AcWing Django框架课&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;django-项目创建&#34;&gt;Django 项目创建&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/solution/content/72577/&#34;&gt;2.1上课笔记 | 栎&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/solution/content/73097/&#34;&gt;2.1上课笔记 | Andrew1729&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;启动初始项目&#34;&gt;启动初始项目&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;django-admin startproject acapp&lt;/code&gt;：在当前目录下创建名为&lt;code&gt;acapp&lt;/code&gt;的&lt;code&gt;django&lt;/code&gt;项目&lt;/li&gt;
&lt;li&gt;&lt;code&gt;python3 manage.py runserver 0.0.0.0:8000&lt;/code&gt;：启动项目
&lt;ol&gt;
&lt;li&gt;打开&lt;code&gt;settings.py&lt;/code&gt;，找到&lt;code&gt;ALLOWED_HOSTS=[]&lt;/code&gt;，修改成&lt;code&gt;ALLOWED_HOSTS=[&amp;quot;自己的服务器的公网IP&amp;quot;]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;通过&lt;code&gt;自己的服务器公网IP:8000&lt;/code&gt; 打开Django页面&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;创建管理员登录页面&#34;&gt;创建管理员登录页面&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;在一级&lt;code&gt;acapp&lt;/code&gt;文件夹下，&lt;code&gt;python3 manage.py startapp XXX&lt;/code&gt;，&lt;code&gt;XXX&lt;/code&gt;是可以自定义的app名，这里用&lt;code&gt;game&lt;/code&gt;示例，这时候会多一个文件夹&lt;code&gt;game&lt;/code&gt;，树形结构如图：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;|-- game
|   |-- __init__.py
|   |-- admin.py          # 管理员页面
|   |-- apps.py           # 用的不多
|   |-- migrations        # 存储数据库
|   |   `-- __init__.py
|   |-- models.py         # 定义网站里的数据库表
|   |-- tests.py
|   `-- views.py          # 视图，即函数
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;code&gt;python3 manage.py migrate&lt;/code&gt;：将所有修改更新进数据库&lt;/li&gt;
&lt;li&gt;创建一个 &lt;strong&gt;管理员用户&lt;/strong&gt;：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ python3 manage.py createsuperuser
&amp;gt; Username (leave blank to use &amp;#39;acs&amp;#39;): admin
&amp;gt; Email address: 
&amp;gt; Password: 123456
&amp;gt; Password (again): 123456
&amp;gt; Superuser created successfully.
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;然后利用该 &lt;strong&gt;管理员用户&lt;/strong&gt; 登录 &lt;code&gt;admin&lt;/code&gt; 页面，即可成功登陆&lt;/p&gt;
&lt;h2 id=&#34;创建用户登录页面&#34;&gt;创建用户登录页面&lt;/h2&gt;
&lt;h3 id=&#34;game-下的各个文件作用&#34;&gt;&lt;code&gt;game&lt;/code&gt; 下的各个文件作用&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;templates&lt;/code&gt;目录：管理 &lt;code&gt;html&lt;/code&gt;  文件&lt;/li&gt;
&lt;li&gt;&lt;code&gt;urls&lt;/code&gt;目录：管理路由，即链接与函数的对应关系 (接收链接，调用相对应的函数)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;views&lt;/code&gt;目录：管理 &lt;code&gt;http&lt;/code&gt; 函数（接收浏览器请求，返回字符串至浏览器）&lt;/li&gt;
&lt;li&gt;&lt;code&gt;models&lt;/code&gt;目录：管理数据库数据&lt;/li&gt;
&lt;li&gt;&lt;code&gt;static&lt;/code&gt;目录：管理静态文件&lt;/li&gt;
&lt;li&gt;&lt;code&gt;consumers&lt;/code&gt;目录：管理&lt;code&gt;websocket&lt;/code&gt;函数&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;实现一个路由重定向&#34;&gt;实现一个路由重定向&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;url&lt;/code&gt; 输入网址 -&amp;gt; &lt;code&gt;acapp.urls&lt;/code&gt; -&amp;gt; &lt;code&gt;game.urls&lt;/code&gt; -&amp;gt; &lt;code&gt;game.views.index&lt;/code&gt; -&amp;gt; 展示页面&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;game.views&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这其中，&lt;code&gt;HttpResponse()&lt;/code&gt;内部使用&lt;code&gt;html&lt;/code&gt;的语法，返回的响应就直接用这个字符串作为页面，转换成&lt;code&gt;html&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;from django.http import HttpResponse

def index(request):
    line1 = &amp;#39;&amp;lt;h1 style=&amp;#34;text-align: center&amp;#34;&amp;gt; 第一个网页 &amp;lt;/h1&amp;gt;&amp;#39;
    return HttpResponse(line1)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;game.urls&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这其中，&lt;code&gt;path(&#39;PATH&#39;, function, name)&lt;/code&gt;的含义是，在用户访问网站的时候，如果是&lt;code&gt;网站/game/PATH&lt;/code&gt;，就会调用&lt;code&gt;function&lt;/code&gt;，名字为&lt;code&gt;name&lt;/code&gt;，这是在&lt;code&gt;/game/&lt;/code&gt;目录下的调用，所以这个&lt;code&gt;PATH&lt;/code&gt;是在&lt;code&gt;/game/&lt;/code&gt;的基础上的&lt;strong&gt;相对路径&lt;/strong&gt;，所以他的&lt;strong&gt;绝对路径&lt;/strong&gt;是&lt;code&gt;网站/game/PATH&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;from django.urls import path
from game.views import index

urlpatterns = [ 
    path(&amp;#34;&amp;#34;, index, name=&amp;#34;index&amp;#34;),
]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;acapp.urls&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这其中，&lt;code&gt;path(&#39;PATH&#39;, include(&#39;game.urls&#39;))&lt;/code&gt;的含义是：在用户访问网站的时候，如果是&lt;code&gt;网站/PATH&lt;/code&gt;，就会走到&lt;code&gt;/game/urls&lt;/code&gt;，并根据&lt;code&gt;/game/urls.py&lt;/code&gt;来跑路由，就是说，用户在访问&lt;code&gt;网站/&lt;/code&gt;的时候，由于此时调用的函数是&lt;code&gt;include(&#39;game.urls&#39;)&lt;/code&gt;，所以访问&lt;code&gt;网站/&lt;/code&gt;相当于根据&lt;code&gt;game/urls&lt;/code&gt;访问&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;from django.contrib import admin
from django.urls import path, include

urlpatterns = [ 
    path(&amp;#39;&amp;#39;, include(&amp;#39;game.urls&amp;#39;)),
    path(&amp;#39;admin/&amp;#39;, admin.site.urls),
] 
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;然后直接打开 &lt;code&gt;ip:socket&lt;/code&gt; 可以直接显示 &lt;code&gt;index&lt;/code&gt; 返回的网页&lt;/p&gt;
&lt;h1 id=&#34;创建菜单界面&#34;&gt;创建菜单界面&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/file_system/file/content/whole/index/content/3199626/&#34;&gt;3. 创建菜单界面 | 讲义&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/solution/content/73121/&#34;&gt;3.1 上课笔记 | 大家好今天是&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/solution/content/73707/&#34;&gt;3.1 上课笔记 | 栎&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;构建项目框架&#34;&gt;构建项目框架&lt;/h2&gt;
&lt;h3 id=&#34;项目系统设计&#34;&gt;项目系统设计&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;menu&lt;/code&gt;：菜单页面&lt;/li&gt;
&lt;li&gt;&lt;code&gt;playground&lt;/code&gt;：游戏界面&lt;/li&gt;
&lt;li&gt;&lt;code&gt;settings&lt;/code&gt;：设置界面&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;项目文件结构&#34;&gt;项目文件结构&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;.
|-- README.md
|-- acapp
|   |-- __init__.py    # 文件夹在加上 __init__.py 文件后，python 便可以通过 import 来引用该文件夹
|   |-- asgi.py
|   |-- settings.py
|   |-- urls.py
|   `-- wsgi.py
|-- db.sqlite3
|-- game
|   |-- __init__.py
|   |-- admin.py
|   |-- apps.py
|   |-- migrations
|   |   `-- __init__.py
|   |-- models
|   |   `-- __init__.py
|   |-- static
|   |   |-- css
|   |   |   `-- game.css    # 一般一个工程，只有一个 css 文件就足够了
|   |   |-- image
|   |   |   `-- menu
|   |   |       `-- background.gif
|   |   `-- js
|   |       |-- dist
|   |       |   `-- game.js
|   |       `-- src
|   |           `-- zbase.js    # 总的 js 文件，命名以 z 开头会自动在字典序最后
|   |-- templates
|   |   `-- multiends
|   |       `-- web.html
|   |-- tests.py
|   |-- urls
|   |   |-- __init__.py
|   |   |-- index.py
|   |   |-- menu
|   |   |   |-- __init__.py
|   |   |   `-- index.py
|   |   |-- playground
|   |   |   |-- __init__.py
|   |   |   `-- index.py
|   |   `-- settings
|   |       |-- __init__.py
|   |       `-- index.py
|   `-- views
|       |-- __init__.py
|       |-- index.py
|       |-- menu
|       |   `-- __init__.py
|       |-- playground
|       |   `-- __init__.py
|       `-- settings
|           `-- __init__.py
|-- manage.py
`-- scripts
    `-- compress_game_js.sh
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;js-文件管理&#34;&gt;&lt;code&gt;js&lt;/code&gt; 文件管理&lt;/h4&gt;
&lt;p&gt;一般一个工程会有很多个 &lt;code&gt;.js&lt;/code&gt; 源文件，为了加快网络的传输，也为了每次写新的 &lt;code&gt;.js&lt;/code&gt; 文件不用每个 &lt;code&gt;html&lt;/code&gt; 都额外引入一次&lt;/p&gt;
&lt;p&gt;考虑用一个 &lt;code&gt;src&lt;/code&gt; 源文件夹来存储所有的 &lt;code&gt;.js&lt;/code&gt; 源文件&lt;/p&gt;
&lt;p&gt;然后用 &lt;code&gt;dist&lt;/code&gt; 文件夹来存放由 &lt;code&gt;src&lt;/code&gt; 下所有源文件整合生成的一个目标 &lt;code&gt;.js&lt;/code&gt; 文件&lt;/p&gt;
&lt;p&gt;这样既实现了快速传输的好处，也方便了后续编写 &lt;code&gt;html&lt;/code&gt; 文件时，引入 &lt;code&gt;.js&lt;/code&gt; 的便利&lt;/p&gt;
&lt;p&gt;创建一个脚本实现上述 &lt;strong&gt;整合&lt;/strong&gt; 的功能
&lt;code&gt;~/acapp/scripts/compress_game_js.sh&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;#! /bin/bash

JS_PATH=/home/acs/acapp/game/static/js/
JS_PATH_DIST=${JS_PATH}dist/
JS_PATH_SRC=${JS_PATH}src/

find $JS_PATH_SRC -type f -name &amp;#39;*.js&amp;#39; | sort | xargs cat &amp;gt; ${JS_PATH_DIST}game.js
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;html-文件管理&#34;&gt;&lt;code&gt;html&lt;/code&gt; 文件管理&lt;/h4&gt;
&lt;p&gt;在 &lt;code&gt;templates&lt;/code&gt; 文件夹下创建 &lt;code&gt;menu&lt;/code&gt;、&lt;code&gt;playground&lt;/code&gt;、&lt;code&gt;settings&lt;/code&gt;、&lt;code&gt;multiends&lt;/code&gt; 四个文件夹，用于存储三个模块和终端的 &lt;code&gt;html&lt;/code&gt; 文件&lt;/p&gt;
&lt;p&gt;在 &lt;code&gt;multiends&lt;/code&gt; 下创建 &lt;code&gt;web.html&lt;/code&gt; 文件&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{% load static %}
&amp;lt;!-- Django 中引入全局setting里的变量 static 的语法--&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;link rel=&amp;#34;stylesheet&amp;#34; href=&amp;#34;https://cdn.acwing.com/static/jquery-ui-dist/jquery-ui.min.css&amp;#34;&amp;gt;
    &amp;lt;script src=&amp;#34;https://cdn.acwing.com/static/jquery/js/jquery-3.3.1.min.js&amp;#34;&amp;gt;&amp;lt;/script&amp;gt;
    &amp;lt;!-- 上述两句引入 jQuery 库 --&amp;gt;
    &amp;lt;!-- 使用引入的变量 static 的语法如下 --&amp;gt;
    &amp;lt;link rel=&amp;#34;stylesheet&amp;#34; href=&amp;#34;{% static &amp;#39;css/game.css&amp;#39; %}&amp;#34;&amp;gt;
    &amp;lt;script src=&amp;#34;{% static &amp;#39;js/dist/game.js&amp;#39; %}&amp;#34;&amp;gt;&amp;lt;/script&amp;gt;
    &amp;lt;!-- 分别引入 css 文件和总的 js 文件 --&amp;gt;
&amp;lt;/head&amp;gt;

&amp;lt;body style=&amp;#34;margin: 0&amp;#34;&amp;gt;
    &amp;lt;div id=&amp;#34;ac_game_12345678&amp;#34;&amp;gt;&amp;lt;/div&amp;gt;
    &amp;lt;script&amp;gt;
        $(document).ready(function(){
            let ac_game = new AcGame(&amp;#34;ac_game_12345678&amp;#34;)
        })
    &amp;lt;/script&amp;gt;
&amp;lt;/body&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;views-视图管理&#34;&gt;&lt;code&gt;views&lt;/code&gt; 视图管理&lt;/h4&gt;
&lt;p&gt;在 &lt;code&gt;views&lt;/code&gt; 文件夹下新建三个模块的视图文件夹&lt;/p&gt;
&lt;p&gt;写一个 &lt;code&gt;index.py&lt;/code&gt; 文件，目的是在 &lt;code&gt;web&lt;/code&gt; 端被访问时，返回上面写的 &lt;code&gt;web.html&lt;/code&gt; 文件&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;from django.shortcuts import render

def index(request):
  return render(request, &amp;#34;multiends/web.html&amp;#34;)
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;urls-路由管理&#34;&gt;&lt;code&gt;urls&lt;/code&gt; 路由管理&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;                                     /-- &amp;#34;&amp;#34; -- index
                                    / -- &amp;#34;menu/&amp;#34; -- menu.index
             / &amp;#34;&amp;#34; --&amp;gt; &amp;#34;game.url&amp;#34; --&amp;gt; 
            /                       \ -- &amp;#34;playground/&amp;#34; -- playground.index
id:scoket -&amp;gt;                         \-- &amp;#34;settings/&amp;#34; -- settings.index
            \
             \ &amp;#34;/admin&amp;#34; -- 到达管理员页面
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;~/acapp/acapp/urls.py&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;from django.contrib import admin
from django.urls import path, include

urlpatterns = [
  path(&amp;#39;&amp;#39;, include(&amp;#39;game.urls.index&amp;#39;)),
  path(&amp;#39;admin/&amp;#39;, admin.site.urls),
]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;~/acapp/game/urls/index.py&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;from django.urls import path, include
from game.views.index import index

urlpatterns = [ 
    path(&amp;#34;&amp;#34;, index, name=&amp;#34;index&amp;#34;),
    path(&amp;#34;menu/&amp;#34;, include(&amp;#34;game.urls.menu.index&amp;#34;)),
    path(&amp;#34;playground/&amp;#34;, include(&amp;#34;game.urls.playground.index&amp;#34;)),
    path(&amp;#34;settings/&amp;#34;, include(&amp;#34;game.urls.settings.index&amp;#34;))
]
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;网页渲染流程&#34;&gt;网页渲染流程&lt;/h4&gt;
&lt;p&gt;根据用户的链接，首先进入&lt;code&gt;acapp/urls.py&lt;/code&gt;，根据&lt;code&gt;path&lt;/code&gt;再进入&lt;code&gt;game/urls/index.py&lt;/code&gt;，再根据&lt;code&gt;path&lt;/code&gt;进入下一层&lt;code&gt;url&lt;/code&gt;或调用相对应的&lt;code&gt;views&lt;/code&gt;中的&lt;code&gt;index.py&lt;/code&gt;函数，函数接收参数，在网页端渲染&lt;code&gt;templates/multiends&lt;/code&gt;下的&lt;code&gt;web.html&lt;/code&gt;，&lt;code&gt;html&lt;/code&gt;中有&lt;code&gt;JS&lt;/code&gt;执行&lt;/p&gt;
&lt;p&gt;注意：本项目为前后端分离，即通过&lt;code&gt;JS&lt;/code&gt;在&lt;code&gt;client&lt;/code&gt;中渲染项目(动态生成页面)，而不是在&lt;code&gt;server&lt;/code&gt;渲染项目&lt;/p&gt;
&lt;h3 id=&#34;修改全局配置&#34;&gt;修改全局配置&lt;/h3&gt;
&lt;h4 id=&#34;设置时区&#34;&gt;设置时区&lt;/h4&gt;
&lt;p&gt;修改项目的 &lt;strong&gt;UTC&lt;/strong&gt; 时间为 &lt;strong&gt;CN&lt;/strong&gt; 时间&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ vim /acapp/settings.py

******
TIME_ZONE = &amp;#39;Asia/Shanghai&amp;#39; # 原来默认是 UTC
******
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;添加配置文件&#34;&gt;添加配置文件&lt;/h4&gt;
&lt;p&gt;将新创建的 &lt;code&gt;game&lt;/code&gt; 下的 &lt;code&gt;apps.py&lt;/code&gt; 中的 &lt;code&gt;GameConfig&lt;/code&gt; 加到 &lt;code&gt;settings.py&lt;/code&gt; 下&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ vim /acapp/settings.py

******
INSTALLED_APPS = [
  &amp;#39;game.apps.GameConfig&amp;#39;,
  ......
]
******
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;声明将静态文件路径 &lt;code&gt;STATIC_ROOT&lt;/code&gt; 和 &lt;code&gt;MEDIA_ROOT&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ vim /acapp/settings.py

******
import os

......

STATIC_ROOT = os.path.join(BASE_DIR, &amp;#39;static&amp;#39;)
STATIC_URL = &amp;#39;/static/&amp;#39;

MEDIA_ROOT = os.path.join(BASE_DIR, &amp;#39;media&amp;#39;)
MEDIA_URL = &amp;#39;/media/&amp;#39;
******
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;创建菜单-menu-界面&#34;&gt;创建菜单 &lt;code&gt;menu&lt;/code&gt; 界面&lt;/h2&gt;
&lt;h3 id=&#34;搭建菜单-menu-界面的框架&#34;&gt;搭建菜单 &lt;code&gt;menu&lt;/code&gt; 界面的框架&lt;/h3&gt;
&lt;p&gt;我们采用的 &lt;strong&gt;前后端分离式&lt;/strong&gt; 开发，所有的 &lt;strong&gt;html&lt;/strong&gt; 渲染都要求在前端完成&lt;/p&gt;
&lt;p&gt;开发流程就是，先在 &lt;strong&gt;html&lt;/strong&gt; 里创建好一个有 &lt;strong&gt;id&lt;/strong&gt; 的 &lt;strong&gt;div&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;然后利用 &lt;strong&gt;js&lt;/strong&gt; 文件，捕获到该 &lt;strong&gt;div&lt;/strong&gt;，并进行 &lt;strong&gt;渲染&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;/templates/multiends/web.html&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;...
    &amp;lt;div id=&amp;#34;ac_game_12345678&amp;#34;&amp;gt;&amp;lt;/div&amp;gt;
    &amp;lt;script&amp;gt;
        $(document).ready(function(){
            let ac_game = new AcGame(&amp;#34;ac_game_12345678&amp;#34;)
        })
    &amp;lt;/script&amp;gt;
...
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;js/src/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class AcGame {
    constructor(id) {
        this.id = id; 
        this.$ac_game = $(&amp;#39;#&amp;#39; + id);
        this.menu = new AcGameMenu(this);
    }   
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;js/src/menu/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class AcGameMenu {
    constructor(root) {
        this.root = root;
        this.$menu = $(` 
&amp;lt;div class=&amp;#34;ac-game-menu&amp;#34;&amp;gt;
&amp;lt;/div&amp;gt;
`);
        this.root.$ac_game.append(this.$menu); 
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;css/game.css&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;.ac-game-menu {
    width: 100%;
    height: 100%;
    background-image: url(&amp;#39;/static/image/menu/background.gif&amp;#39;);
    background-size: 100% 100%;
    user-select: none;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;这里的 &lt;strong&gt;代码逻辑&lt;/strong&gt; 如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;html&lt;/code&gt; 页面执行到 &lt;code&gt;js&lt;/code&gt; 代码，利用 &lt;code&gt;AcGame类&lt;/code&gt; 创建对象 &lt;code&gt;ac_game&lt;/code&gt; 同时传递参数 &lt;code&gt;div&lt;/code&gt; 的 &lt;code&gt;id&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;AcGame&lt;/code&gt; 开始执行构造函数，在构造函数中，捕获 &lt;code&gt;html&lt;/code&gt; 标签，并利用 &lt;code&gt;AcGameMenu类&lt;/code&gt; 创建对象 &lt;code&gt;menu&lt;/code&gt;，并将整个对象作为参数下传&lt;/li&gt;
&lt;li&gt;&lt;code&gt;AcGameMenu&lt;/code&gt; 开始执行构造函数，然后创建 &lt;code&gt;html&lt;/code&gt; 代码，加到捕获到的 &lt;code&gt;html&lt;/code&gt; 代码下&lt;/li&gt;
&lt;li&gt;最终成功渲染出背景图片&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;设置菜单-menu-页面的内容&#34;&gt;设置菜单 &lt;code&gt;menu&lt;/code&gt; 页面的内容&lt;/h3&gt;
&lt;p&gt;主要内容就是在主页面中，显示：单人模式、多人模式、设置，三个按钮的选项
&lt;code&gt;js/src/menu/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class AcGameMenu {
    constructor(root) {
        this.root = root;
        this.$menu = $(`
&amp;lt;div class=&amp;#34;ac-game-menu&amp;#34;&amp;gt;
    &amp;lt;div class=&amp;#34;ac-game-menu-field&amp;#34;&amp;gt;
        &amp;lt;div class=&amp;#34;ac-game-menu-field-item ac-game-menu-field-item-single-mode&amp;#34;&amp;gt;
            单人模式
        &amp;lt;/div&amp;gt;
        &amp;lt;div class=&amp;#34;ac-game-menu-field-item ac-game-menu-field-item-multi-mode&amp;#34;&amp;gt;
            多人模式
        &amp;lt;/div&amp;gt;
        &amp;lt;div class=&amp;#34;ac-game-menu-field-item ac-game-menu-field-item-settings-mode&amp;#34;&amp;gt;
            设置
        &amp;lt;/div&amp;gt;
    &amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;
`);
        this.root.$ac_game.append(this.$menu);
        this.$single_mode = this.$menu.find(&amp;#39;.ac-game-menu-field-item-single-mode&amp;#39;);
        this.$multi_mode = this.$menu.find(&amp;#39;.ac-game-menu-field-item-multi-mode&amp;#39;);
        this.$settings_mode = this.$menu.find(&amp;#39;.ac-game-menu-field-item-settings-mode&amp;#39;);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;css/game.css&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;.ac-game-menu {
    width: 100%;
    height: 100%;
    background-image: url(&amp;#39;/static/image/menu/background.gif&amp;#39;);
    background-size: 100% 100%;
    user-select: none;
}
.ac-game-menu-field {
    width: 20vw;
    position: relative;
    top: 40vh;
    left: 19vh;
}
.ac-game-menu-field-item {
    height: 7vh;
    width: 18vw;
    color: white;
    font-size: 6vh;
    font-style: italic;
    padding: 2vh;
    margin: 1vh 0;
    cursor: pointer;
    text-align: center;
    background-color: rgba(39, 21, 28, 0.6);
    border-radius: 10px;
    letter-spacing: 0.5vw;
}
.ac-game-menu-field-item:hover {
    transform: scale(1.2);
    transition: 100ms;
}
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;添加-单人模式-监听函数--打开游戏界面-功能&#34;&gt;添加 &amp;lsquo;单人模式&amp;rsquo; 监听函数 —— 打开游戏界面 功能&lt;/h3&gt;
&lt;p&gt;这里要实现的 &lt;strong&gt;逻辑&lt;/strong&gt;：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;点击 &amp;lsquo;单人模式&amp;rsquo; 按钮触发 &lt;code&gt;click&lt;/code&gt; 事件，随即触发监听函数，开始执行&lt;/li&gt;
&lt;li&gt;关闭 &lt;code&gt;menu&lt;/code&gt; 页面&lt;/li&gt;
&lt;li&gt;打开 &lt;code&gt;playground&lt;/code&gt; 页面&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;因此，我们先简易的实现一个 &lt;code&gt;playground&lt;/code&gt; 页面，方便调试该功能
&lt;code&gt;js/src/playground/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class AcGamePlayground {
    constructor(root) {
        this.root = root;
        this.$playground = $(`&amp;lt;div&amp;gt;游戏界面&amp;lt;/div&amp;gt;`);

        this.hide();
        this.root.$ac_game.append(this.$playground);

        this.start();
    }
    start() {

    }
    show() {    //打开 playground 界面
        this.$playground.show();
    }
    hide() {    //关闭 playground 界面
        this.$playground.hide();
    }

}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;在实现监听函数功能之前，先在 &lt;code&gt;/src/zbase.js&lt;/code&gt; 即主 &lt;code&gt;js&lt;/code&gt; 文件下，利用 &lt;code&gt;AcGamePlayground&lt;/code&gt; 类创建好 &lt;code&gt;playground&lt;/code&gt; 对象&lt;/p&gt;
&lt;p&gt;这样我们就能在前端，渲染出两个界面了，分别是：&lt;code&gt;menu&lt;/code&gt; 和 &lt;code&gt;playground&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;js/src/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class AcGame {
    constructor(id) {
        this.id = id;
        this.$ac_game = $(&amp;#39;#&amp;#39; + id);
        this.menu = new AcGameMenu(this);
        // 把 playground 对象也建好，这样我们就同时有两个界面了
        this.playground = new AcGamePlayground(this);

        this.start();
    }                    
    start() {

    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;然后，我们开始实现 &lt;code&gt;ac-game-menu-field-item-single-mode&lt;/code&gt; 标签的 &lt;code&gt;click&lt;/code&gt; 事件的监听函数&lt;/p&gt;
&lt;p&gt;其功能之前讲过了，就是关闭 &lt;code&gt;menu&lt;/code&gt; 页面，打开 &lt;code&gt;playground&lt;/code&gt; 页面&lt;/p&gt;
&lt;p&gt;&lt;code&gt;js/src/menu/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class AcGameMenu {
    constructor(root) {
        this.root = root;
        this.$menu = $(`
&amp;lt;div class=&amp;#34;ac-game-menu&amp;#34;&amp;gt;
    &amp;lt;div class=&amp;#34;ac-game-menu-field&amp;#34;&amp;gt;
        &amp;lt;div class=&amp;#34;ac-game-menu-field-item ac-game-menu-field-item-single-mode&amp;#34;&amp;gt;
            单人模式
        &amp;lt;/div&amp;gt;
        &amp;lt;div class=&amp;#34;ac-game-menu-field-item ac-game-menu-field-item-multi-mode&amp;#34;&amp;gt;
            多人模式
        &amp;lt;/div&amp;gt;
        &amp;lt;div class=&amp;#34;ac-game-menu-field-item ac-game-menu-field-item-settings-mode&amp;#34;&amp;gt;
            设置
        &amp;lt;/div&amp;gt;
    &amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;
`);
        this.root.$ac_game.append(this.$menu);
        this.$single_mode = this.$menu.find(&amp;#39;.ac-game-menu-field-item-single-mode&amp;#39;);
        this.$multi_mode = this.$menu.find(&amp;#39;.ac-game-menu-field-item-multi-mode&amp;#39;);
        this.$settings_mode = this.$menu.find(&amp;#39;.ac-game-menu-field-item-settings-mode&amp;#39;);

        this.start();
    }
    start() {
        this.add_listening_events();
    }
    add_listening_events() {
        let outer = this;
        this.$single_mode.click(function(){
            outer.hide();   // 关闭主页面
            outer.root.playground.show();   // 打开游戏界面
        });
    }

    show() {    //显示menu界面
        this.$menu.show();
    }
    hide() {    //隐藏menu界面
        this.$menu.hide();
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&#34;创建游戏界面&#34;&gt;创建游戏界面&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/solution/content/79181/&#34;&gt;4.1 上课笔记 | Andrew1729&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;若修改&lt;code&gt;static文件夹&lt;/code&gt;下的相关文件，需在&lt;code&gt;~/acapp&lt;/code&gt;下执行&lt;code&gt;./scripts/compress_game_js.sh&lt;/code&gt;来打包文件&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;前端的模块化引入&#34;&gt;前端的模块化引入&lt;/h2&gt;
&lt;p&gt;由于在 &lt;code&gt;html&lt;/code&gt; 代码部分，是将整个 &lt;code&gt;game.js&lt;/code&gt; 文件引入&lt;/p&gt;
&lt;p&gt;这样会导致在 &lt;code&gt;game.js&lt;/code&gt; 中定义的变量，会变成整个网页的 &lt;strong&gt;全局变量&lt;/strong&gt;（之后可能会引起变量重名的诸多问题）&lt;/p&gt;
&lt;p&gt;因此，我们考虑使用 &lt;strong&gt;模块化引入&lt;/strong&gt; 的功能，让网页只引入在 &lt;code&gt;html&lt;/code&gt; 中需要的部分&lt;/p&gt;
&lt;p&gt;修改 &lt;code&gt;web.html&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;lt;!-- 首先，先删掉上面整个引入 game.js 的部分 --&amp;gt;
&amp;lt;!-- 然后，下方创建对象的部分，先使用模块化引入 --&amp;gt;
......
    &amp;lt;script type=&amp;#34;module&amp;#34;&amp;gt;
        import {AcGame} from &amp;#34;{% static &amp;#39;js/dist/game.js&amp;#39; %}&amp;#34;
        $(document).ready(function(){
            let ac_game = new AcGame(&amp;#34;ac_game_12345678&amp;#34;)
        })
    &amp;lt;/script&amp;gt;
......
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;此外，还有修改引入的类，在前面加上 &lt;code&gt;export&lt;/code&gt;，如下修改 &lt;code&gt;js/src/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;export class AcGame {
    ......
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;这样，在全局中，只会出现引入的模块，其他的 &lt;code&gt;.js&lt;/code&gt; 代码不会出现在全局中&lt;/p&gt;
&lt;h2 id=&#34;构建游戏界面框架&#34;&gt;构建游戏界面框架&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;static/js/src/playground/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;......
    this.$playground = $(`&amp;lt;div class=&amp;#34;ac-game-playground&amp;#34;&amp;gt;&amp;lt;/div&amp;gt;`);
......
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;game.css&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;......
.ac-game-playground {
    height: 100%;
    width: 100%;
    user-select: none;  // 禁用右键弹菜单
} 
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;实现游戏引擎框架&#34;&gt;实现游戏引擎框架&lt;/h2&gt;
&lt;p&gt;游戏中，物体在移动，其实现原理是：每一个动作都会渲染多张图片出来，然后图片快速的切换，从而实现动的过程&lt;/p&gt;
&lt;p&gt;因此，需要先实现一个游戏引擎的基类 &lt;code&gt;AcGameObject&lt;/code&gt; ，使得每帧能渲染一张图片出来&lt;/p&gt;
&lt;p&gt;该基类需要具备的功能有：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;start()&lt;/code&gt; 在游戏开始的第一帧时需要执行的任务（一般是创建对象）&lt;/li&gt;
&lt;li&gt;&lt;code&gt;update()&lt;/code&gt; 在游戏开始后的每一帧均会执行的任务（一般是渲染当前对象的各种状态）&lt;/li&gt;
&lt;li&gt;&lt;code&gt;on_destroy()&lt;/code&gt; 删掉该物体前需要执行的任务（一般是删掉动画，或者给对手加分）&lt;/li&gt;
&lt;li&gt;&lt;code&gt;destroy()&lt;/code&gt; 删掉该物体&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;根据上述逻辑，我们就可以基本搭建出来一个游戏引擎的基类了，具体如下：
&lt;code&gt;/static/js/playground/ac_game_object/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; AC_GAME_OBJECTS = [];   &lt;span style=&#34;color:#007f7f&#34;&gt;// 用于记录当前画布中，需要渲染的对象有哪些
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; AcGameObject {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    constructor() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        AC_GAME_OBJECTS.push(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;);  &lt;span style=&#34;color:#007f7f&#34;&gt;// 将当前新建的对象，加入到全局的画布中去，参与渲染
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.has_called_start = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;false&lt;/span&gt;;  &lt;span style=&#34;color:#007f7f&#34;&gt;// 是否执行过 start 函数
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.timedelta = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;;             &lt;span style=&#34;color:#007f7f&#34;&gt;// 当前帧距离上一帧的时间间隔
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#007f7f&#34;&gt;// 该数据记录是为了后续计算速度等参数的
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    start() {   &lt;span style=&#34;color:#007f7f&#34;&gt;// 只会在第一帧执行一次
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    update() {  &lt;span style=&#34;color:#007f7f&#34;&gt;// 每一帧均会执行一次
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    on_destroy() {  &lt;span style=&#34;color:#007f7f&#34;&gt;// 在被销毁前执行一次
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    destroy() { &lt;span style=&#34;color:#007f7f&#34;&gt;// 删掉该物体
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.on_destroy();  &lt;span style=&#34;color:#007f7f&#34;&gt;//删掉该物体前，执行删前的操作
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#007f7f&#34;&gt;// 在全局渲染物体中，找到该物体，并将其删掉
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;for&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; i = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;; i &amp;lt; AC_GAME_OBJECTS.length; i ++ ) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (AC_GAME_OBJECTS[i] === &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;) {  &lt;span style=&#34;color:#007f7f&#34;&gt;// 三等号，在js里额外加了一层类型相等约束
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;                AC_GAME_OBJECTS.splice(i, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;1&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; last_timestamp;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; AC_GAME_ANIMATION = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;function&lt;/span&gt;(timestamp) {  &lt;span style=&#34;color:#007f7f&#34;&gt;// 回调函数，实现：每一帧重绘时，都会执行一遍
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;for&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; i = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;; i &amp;lt; AC_GAME_OBJECTS.length; i ++ ) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; obj = AC_GAME_OBJECTS[i];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (!obj.has_called_start) { &lt;span style=&#34;color:#007f7f&#34;&gt;// 如果还未执行初始帧动作，就先执行
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;            obj.start();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            obj.has_called_start = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;true&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;else&lt;/span&gt; {  &lt;span style=&#34;color:#007f7f&#34;&gt;// 执行过初始帧，就执行每一帧的任务
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;            obj.timedelta = timestamp - last_timestamp;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            obj.update();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    last_timestamp = timestamp; &lt;span style=&#34;color:#007f7f&#34;&gt;// 更新最后一次时间戳
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    requestAnimationFrame(AC_GAME_ANIMATION);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;requestAnimationFrame(AC_GAME_ANIMATION);   &lt;span style=&#34;color:#007f7f&#34;&gt;// JS的API，可以调用1帧里面的函数。(有些浏览器的一秒帧数不一定相等)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;接下来所有的一切游戏，都是基于这个引擎的基类完成的&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;实现游戏地图功能&#34;&gt;实现游戏地图功能&lt;/h2&gt;
&lt;p&gt;目标：实现一个每一秒都在渲染的纯黑背景&lt;/p&gt;
&lt;p&gt;虽然现阶段要实现的地图较为简单，但为了后期的拓展性，故还是考虑新建一个文件夹来完成&lt;/p&gt;
&lt;p&gt;然后在 &lt;code&gt;js&lt;/code&gt; 中，已经封装好了一个 &lt;code&gt;canvas&lt;/code&gt; 的 &lt;code&gt;api&lt;/code&gt; 来帮助实现背景画布，直接调用即可&lt;/p&gt;
&lt;p&gt;先铺开画布，然后设置为黑色&lt;/p&gt;
&lt;p&gt;&lt;code&gt;static/js/playground/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; AcGamePlayground {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    constructor(root) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ......
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#007f7f&#34;&gt;// $(&amp;#39;.playground&amp;#39;)对象已经在 css 文件里渲染出高宽了
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#007f7f&#34;&gt;// 现在把他的高宽存下来，往下传递
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.width = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$playground.width();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.height = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$playground.height();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.game_map = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;new&lt;/span&gt; GameMap(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ......
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .....
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;static/js/playground/game-map/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; GameMap &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;extends&lt;/span&gt; AcGameObject {    &lt;span style=&#34;color:#007f7f&#34;&gt;// 继承自游戏引擎基类
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    constructor(playground) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;super&lt;/span&gt;();    &lt;span style=&#34;color:#007f7f&#34;&gt;// 自函数功能：调用基类的构造函数
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground = playground;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$canvas = $(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;`&amp;lt;canvas&amp;gt;&amp;lt;/canvas&amp;gt;`&lt;/span&gt;); &lt;span style=&#34;color:#007f7f&#34;&gt;// 创建一个canvas的jQuery对象，就是我们要实现的画布
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$canvas[&lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;].getContext(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;2d&amp;#39;&lt;/span&gt;); &lt;span style=&#34;color:#007f7f&#34;&gt;// jQuery对象是一个数组，第一个索引是html对象
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#007f7f&#34;&gt;// 设置画布的宽高
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.canvas.width = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.width;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.canvas.height = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.height;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.$playground.append(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$canvas);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    start() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    update() {  &lt;span style=&#34;color:#007f7f&#34;&gt;// 游戏地图每帧都要渲染
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.render();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    render() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.fillStyle = &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;rgba(0, 0, 0, 0.2)&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.fillRect(&lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.canvas.width, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.canvas.height);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;实现玩家显示功能&#34;&gt;实现玩家显示功能&lt;/h2&gt;
&lt;p&gt;毛坯版玩家显示，每个玩家定义成一个圆，然后渲染在前端&lt;/p&gt;
&lt;p&gt;需要对于玩家类定义多个参数，以方便日后拓展：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;x&lt;/code&gt; 当前位置的横坐标&lt;/li&gt;
&lt;li&gt;&lt;code&gt;y&lt;/code&gt; 当前位置的纵坐标&lt;/li&gt;
&lt;li&gt;&lt;code&gt;radius&lt;/code&gt; 当前的半径&lt;/li&gt;
&lt;li&gt;&lt;code&gt;speed&lt;/code&gt; 当前的速度&lt;/li&gt;
&lt;li&gt;&lt;code&gt;is_me&lt;/code&gt; 该对象是否是当前玩家操控的对象（一是区别于 bot，二是区别于 日后联机的其他玩家）&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;static/js/playground/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; AcGamePlayground {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    constructor(root) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ......
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.players = [];  &lt;span style=&#34;color:#007f7f&#34;&gt;// 存放当前游戏中的所有玩家
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#007f7f&#34;&gt;// 将玩家加入游戏中
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.players.push(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;new&lt;/span&gt; Player(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.width / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.height / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.height * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.05&lt;/span&gt;, &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;white&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.height * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.15&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;true&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ......
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .....
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;static/js/playground/player/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Player &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;extends&lt;/span&gt; AcGameObject {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    constructor(playground, x, y, radius, color, speed, is_me) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;super&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#007f7f&#34;&gt;// 把信息都存下来
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground = playground;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.game_map.ctx;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x = x;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y = y;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.color = color;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.speed = speed;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius = radius;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.is_me = is_me;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#007f7f&#34;&gt;// 用于浮点数运算
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.eps = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    start() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    update() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.render();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    render() {  &lt;span style=&#34;color:#007f7f&#34;&gt;// 渲染一个圆
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.beginPath();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.arc(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt; * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.PI, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;false&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.fillStyle = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.color;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.fill();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    on_destroy() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;实现玩家移动功能&#34;&gt;实现玩家移动功能&lt;/h2&gt;
&lt;p&gt;移动的实现逻辑很简单，就是让每帧渲染的圆的位置发生移动即可&lt;/p&gt;
&lt;p&gt;上述简单逻辑的实现如下：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Player &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;extends&lt;/span&gt; AcGameObject {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    constructor(....)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vx = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vy = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    update() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x += x;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y += y;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.render();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然后我们来实现一个向鼠标点击位置移动的功能&lt;/p&gt;
&lt;p&gt;这就需要设置一个 &lt;code&gt;click&lt;/code&gt; 事件的监听函数，分别传递：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;鼠标点击事件&lt;/li&gt;
&lt;li&gt;鼠标点击位置的横坐标&lt;/li&gt;
&lt;li&gt;鼠标点击位置的纵坐标&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;然后开始让圆的位置逐步向鼠标点击位置进行移动&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;start() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.is_me) {   &lt;span style=&#34;color:#007f7f&#34;&gt;// 对于用户玩家，加上监听函数
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.add_listening_events();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;add_listening_events() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; outer = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#007f7f&#34;&gt;// 把鼠标右键调出菜单栏的功能关掉
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.game_map.$canvas.on(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;contextmenu&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;function&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#007f7f&#34;&gt;// 把右键控制移动功能加上
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.game_map.$canvas.mousedown(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;function&lt;/span&gt;(e) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#007f7f&#34;&gt;// 左键:1 中键:2 右键:3
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (e.which === &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;3&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            outer.move_to(e.clientX, e.clientY);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然后，我们来实现移动功能的函数 &lt;code&gt;move_to(tx, ty)&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;constructor(...){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vx = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;;    &lt;span style=&#34;color:#007f7f&#34;&gt;// x方向上的移动速度
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vy = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;;    &lt;span style=&#34;color:#007f7f&#34;&gt;// y方向上的移动速度
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.move_length = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;;   &lt;span style=&#34;color:#007f7f&#34;&gt;// 剩余移动距离
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;get_dist (x1, y1, x2, y2) { &lt;span style=&#34;color:#007f7f&#34;&gt;// 求两点的欧几里得距离
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; dx = x2 - x1;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; dy = y2 - y1;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.sqrt(dx * dx + dy * dy);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;move_to(tx, ty) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#007f7f&#34;&gt;// 计算移动距离
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.move_length = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.get_dist(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y, tx, ty);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#007f7f&#34;&gt;// 计算移动角度，api接口：atan2(dy, dx)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; angle = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.atan2(ty - &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y, tx - &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#007f7f&#34;&gt;// 位移 1 个单位长度（向着矢量方向移动到单位圆上）
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vx = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.cos(angle);  &lt;span style=&#34;color:#007f7f&#34;&gt;// 极直互化
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vy = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.sin(angle);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;update() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#007f7f&#34;&gt;// 浮点数精度运算
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.move_length &amp;lt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.eps) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.move_length = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vx = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vy = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#007f7f&#34;&gt;// 计算单位帧里的移动距离
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; moved = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.min(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.move_length, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.speed * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.timedelta / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;1000&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x += &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vx * moved;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y += &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vy * moved;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#007f7f&#34;&gt;// 还要减掉移动的距离
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.move_length -= moved;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.render();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这样就实现了玩家的移动功能了，可以登录 &lt;code&gt;id:socket&lt;/code&gt; 调试该功能&lt;/p&gt;
&lt;h2 id=&#34;实现火球技能的功能&#34;&gt;实现火球技能的功能&lt;/h2&gt;
&lt;p&gt;火球对象的建立与玩家基本一致，直接照搬，在从细节上改改即可&lt;/p&gt;
&lt;p&gt;&lt;code&gt;js/src/playground/skill/fireball/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; FireBall &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;extends&lt;/span&gt; AcGameObject {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    constructor(playground, player, x, y, radius, vx, vy, color, speed, move_length, damage) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;super&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground = playground;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.game_map.ctx;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.player = player;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x = x;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y = y;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vx = vx;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vy = vy;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius = radius;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.color = color;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.speed = speed;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.move_length = move.length;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.damage = damage;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.eps = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    start() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    update() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.move_length &amp;lt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.eps) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.destroy();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; moved = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.min(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.move_length, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.speed * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.timedelta / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;1000&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x += &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vx * moved;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y += &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vy * moved;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.move_length -= moved;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.render();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    render() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.beginPath();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.arc(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt; * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt; * Pi, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;false&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.fillStyle = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.color;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.fill();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然后在玩家身上实现发火球的功能&lt;/p&gt;
&lt;p&gt;基本实现逻辑：当前选中了火球技能，鼠标左键点击一处，向该处发射一个火球&lt;/p&gt;
&lt;p&gt;因此，为了知道用户是否选择了技能，需要加一个键盘触发事件监听函数，然后加一个鼠标左键触发事件监听函数&lt;/p&gt;
&lt;p&gt;然后发射一个火球即可&lt;/p&gt;
&lt;p&gt;&lt;code&gt;js/src/playground/player/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;constructor(...) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.cur_skill = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;null&lt;/span&gt;;  &lt;span style=&#34;color:#007f7f&#34;&gt;// 记录当前选择的技能
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;add_listening_events() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.game_map.$canvas.mousedown(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;function&lt;/span&gt;(e) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#007f7f&#34;&gt;// 左键:1 中键:2 右键:3
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (e.which === &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;3&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            outer.move_to(e.clientX, e.clientY);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (e.which === &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;1&lt;/span&gt;) {     &lt;span style=&#34;color:#007f7f&#34;&gt;// 鼠标左键事件
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (outer.cur_skill === &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;fireball&amp;#34;&lt;/span&gt;) {   &lt;span style=&#34;color:#007f7f&#34;&gt;// 当前已经选中火球技能
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;                outer.shoot_fireball(e.clientX, e.clientY);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        outer.cur_skill = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;null&lt;/span&gt;; &lt;span style=&#34;color:#007f7f&#34;&gt;// 清空当前技能
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    $(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;window&lt;/span&gt;).keydown(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;function&lt;/span&gt;(e) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (e.which === &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;81&lt;/span&gt;) {       &lt;span style=&#34;color:#007f7f&#34;&gt;// 键盘按下事件
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;            outer.cur_skill = &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;fireball&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;shoot_fireball(tx, ty) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#007f7f&#34;&gt;// 确定火球的参数
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; x = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x, y = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y; &lt;span style=&#34;color:#007f7f&#34;&gt;// 火球发射点就是当前玩家的位置
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; radius = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.height * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.01&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; angle = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.atan2(ty - &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y, tx - &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; vx = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.cos(angle), vy = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.sin(angle);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; color = &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;orange&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; speed = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.height * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.5&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; move_length = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.height * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;1.0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; damage = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.height * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.01&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;new&lt;/span&gt; FireBall(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;, x, y, radius, vx, vy, color, speed, move_length, damage);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这样就成功实现了玩家发射火球的功能了&lt;/p&gt;
&lt;h2 id=&#34;实现单人模式下的人机功能&#34;&gt;实现单人模式下的人机功能&lt;/h2&gt;
&lt;p&gt;先创建好 5 个人机
&lt;code&gt;playground/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;//创建好 5 个人机
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;for&lt;/span&gt; (len i = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;5&lt;/span&gt;; i ++ ) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.players.push(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;new&lt;/span&gt; Player(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.width / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.height / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.height * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.05&lt;/span&gt;, &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;blue&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.height * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.15&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;false&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这样创建出来的 5 个人机是不会行动的&lt;/p&gt;
&lt;p&gt;我们写一个简易的 AI 程序，让他们也会移动&lt;/p&gt;
&lt;p&gt;这里实现的逻辑是：每次随机一个目的地，向目的地移动，然后再随机一个目的地，循环下去&lt;/p&gt;
&lt;p&gt;根据该逻辑，修改两个函数即可&lt;/p&gt;
&lt;p&gt;&lt;code&gt;playground/player/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;start() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.is_me) {   &lt;span style=&#34;color:#007f7f&#34;&gt;// 对于用户玩家，加上监听函数
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.add_listening_events();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; tx = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.random() * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.width;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; ty = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.random() * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.height;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.move_to(tx, ty);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; update() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.move_length &amp;lt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.eps) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.move_length = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vx = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vy = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (!&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.is_me) {   &lt;span style=&#34;color:#007f7f&#34;&gt;// 如果是人机，停下来时再随机一个方向前进
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; tx = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.random() * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.width;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; ty = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.random() * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.height;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.move_to(tx, ty);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;on_destroy() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;for&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; i = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.players.length; i ++ ) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.players[i] === &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.players.splice(i, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;1&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;实现技能命中效果碰撞检测功能&#34;&gt;实现技能命中效果（碰撞检测功能）&lt;/h2&gt;
&lt;p&gt;实现逻辑：检测两个圆的中心距离是否小于两个圆的半径之和&lt;/p&gt;
&lt;p&gt;小于等于时，代表发生碰撞，开始执行命中效果：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;被击中用户掉血&lt;/li&gt;
&lt;li&gt;被击中用户收到向后击退效果&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;碰撞检测写在火球类里，击退效果写在玩家类里&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fireball/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;update() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (...) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#007f7f&#34;&gt;// 碰撞检测
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;for&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; i = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.players.length; i ++ ) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; player = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.players[i];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.player !== player &amp;amp;&amp;amp; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.is_collision(player)) {  &lt;span style=&#34;color:#007f7f&#34;&gt;// 碰撞发生一定是在非施法者身上
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;                &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.attack(player);    &lt;span style=&#34;color:#007f7f&#34;&gt;// 火球命中，目标玩家执行击退效果
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.render();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;get_dist(x1, y1, x2, y2) {  &lt;span style=&#34;color:#007f7f&#34;&gt;// 获得两点的欧几里得距离
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; dx = x2 - x1;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; dy = y2 - y1;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.sqrt(dx * dx + dy * dy);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;is_collision(player) {  &lt;span style=&#34;color:#007f7f&#34;&gt;// 检测两个圆的中心距离是否小于两个圆的半径之和
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; distance = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.get_dist(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y, player.x, player.y);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (distance &amp;lt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius + player.radius))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;true&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;attack(player) {    &lt;span style=&#34;color:#007f7f&#34;&gt;// 火球命中，目标玩家执行击退效果
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; angle = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.atan2(player.y - &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y, player.x - &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x);   &lt;span style=&#34;color:#007f7f&#34;&gt;// 计算角度
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    player.is_attacked(angle, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.damage); &lt;span style=&#34;color:#007f7f&#34;&gt;// 火球命中，目标玩家执行击退效果
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.destroy(); &lt;span style=&#34;color:#007f7f&#34;&gt;// 火球命中后，自然消失
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;被击退的时候，原来的移动速度应该置为 0，当前的移动应该转为向被击中方向上的移动&lt;/strong&gt;
&lt;code&gt;player/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;is_attacked(angle, damage) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius -= damage;  &lt;span style=&#34;color:#007f7f&#34;&gt;// 受伤，半径减少
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius &amp;lt; &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;10&lt;/span&gt;) { &lt;span style=&#34;color:#007f7f&#34;&gt;// 当半径小于10像素时，代表死亡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.destroy();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#007f7f&#34;&gt;// 开始执行击退效果
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.damage_vx = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.cos(angle);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.damage_vy = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.sin(angle);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.damage_speed = damage * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;100&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.speed *= &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.5&lt;/span&gt;;  &lt;span style=&#34;color:#007f7f&#34;&gt;// 被击中以后移动速度减半
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;update() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.damage_speed &amp;gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.eps) {   &lt;span style=&#34;color:#007f7f&#34;&gt;// 当前仍处于击退效果中
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vx = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vy = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.move_length = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x += &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.damage_vx * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.damage_speed * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.timedelta / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;1000&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y += &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.damage_vy * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.damage_speed * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.timedelta / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;1000&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.damage_speed *= &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.friction; &lt;span style=&#34;color:#007f7f&#34;&gt;// 击退速度乘以摩擦系数，已达到削减的目的
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    } &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;被击中以后的粒子效果特效&#34;&gt;被击中以后的粒子效果特效&lt;/h2&gt;
&lt;p&gt;实现逻辑：被击中以后，在玩家附近随机生成一些粒子小球&lt;/p&gt;
&lt;p&gt;因此我们要先实现 粒子小球 对象&lt;/p&gt;
&lt;p&gt;&lt;code&gt;static/js/src/playground/particle/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Particle &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;extends&lt;/span&gt; AcGameObject {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    constructor(playground, x, y, radius, vx, vy, color, speed) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;super&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground = playground;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.game_map.ctx;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x = x;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y = y;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius = radius;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vx = vx;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vy = vy;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.color = color;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.speed = speed;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.friction = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.9&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    start() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    update() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.speed &amp;lt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.eps) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.destroy;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x += &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vx * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.speed * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.timedelta / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;1000&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y += &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.vy * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.speed * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.timedelta / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;1000&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.speed *= &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.friction;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.render();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    render() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.beginPath();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.arc(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt; * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.PI, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;false&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.fillStyle = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.color;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.fill();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然后我们在被击退功能模块，实现生成粒子小球的效果&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;粒子小球释放弧度为 $[0,2π)$ 的随机数
&lt;ul&gt;
&lt;li&gt;粒子小球的 x, y 分量比率根据弧度来设定&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;粒子小球的起始坐标应与玩家的坐标相同&lt;/li&gt;
&lt;li&gt;粒子小球的颜色与玩家颜色相同&lt;/li&gt;
&lt;li&gt;粒子小球的速度为玩家移动速度的 $10$ 倍&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;js/src/playground/player/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;is_attacked(angle, damage) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#007f7f&#34;&gt;// 粒子小球效果
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;for&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; i = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;10&lt;/span&gt; + &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.random() * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;5&lt;/span&gt;; i ++ ) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; x = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x, y = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; radius = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.random() * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; angle = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt; * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.PI * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.random();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; vx = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.cos(angle), vy = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.sin(angle);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; color = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.color;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; speed = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.speed * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;10&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;new&lt;/span&gt; Particle(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground, x, y, radius, vx, vy, color, speed);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;一些小优化&#34;&gt;一些小优化&lt;/h2&gt;
&lt;h3 id=&#34;人机随机颜色&#34;&gt;人机随机颜色&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;js/src/playground/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;constructor(root) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ......
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#007f7f&#34;&gt;// 创建好 5 个人机
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;for&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; i = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;5&lt;/span&gt;; i ++ ) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.players.push(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;new&lt;/span&gt; Player(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.width / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.height / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.height * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.05&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.get_random_color(), &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.height * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.15&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;false&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ......
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;get_random_color() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; colors = [&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;blue&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;red&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;pink&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;grey&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;green&amp;#34;&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; colors[&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.floor(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.random() * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;5&lt;/span&gt;)];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;人机ai随机攻击操作&#34;&gt;人机AI随机攻击操作&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;js/src/playground/player/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;constructor (...) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.spent_time = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;;    &lt;span style=&#34;color:#007f7f&#34;&gt;// 初始人机冷却攻击时间
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;update() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.spent_time += &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.timedelta / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;1000&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (!&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.is_me &amp;amp;&amp;amp; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.spent_time &amp;gt; &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;4&lt;/span&gt; &amp;amp;&amp;amp; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.random() * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;180&lt;/span&gt; &amp;lt; &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;1&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; player = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.players[&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.floor(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.random() * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.players.length)];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.shoot_fireball(player.x, player.y);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;部署nginx与对接acappஐ&#34;&gt;部署nginx与对接acappஐ&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/file_system/file/content/whole/index/content/3257028/&#34;&gt;5. 部署nginx与对接acapp | 讲义&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/solution/content/79244/&#34;&gt;5.1 上课笔记 | Andrew1729&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/solution/content/78903/&#34;&gt;5.1. 上课笔记 | 菊花&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/364622127&#34;&gt;Ngnix 介绍&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.jianshu.com/p/36187963b553&#34;&gt;nginx 和uwsgi的区别与作用&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;nginx是什么&#34;&gt;Nginx是什么？&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Nginx是一款自由的、开源的、高性能的HTTP服务器和反向代理服务器&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Nginx可以作为一个HTTP服务器进行网站的发布处理，另外Nginx可以作为反向代理进行负载均衡的实现&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Nginx中HttpUwsgiModule的作用是与uWSGI服务器进行交换&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;uwsgi是什么&#34;&gt;uWSGI是什么？&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;uWSGI是一个全功能的HTTP服务器，实现了WSGI、uwsgi、http等协议&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;它要做的就是把HTTP协议转化成语言支持的网络协议。比如把HTTP协议转化成WSGI协议，让Python可以直接使用&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;WSGI协议是Python 语言定义的 Web 服务器和 Web 应用程序或框架之间的一种简单而通用的接口&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;简单来说uWSGI就是用来沟通nginx和django的一座桥梁&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;nginxuwsgidiango-工作流程&#34;&gt;Nginx+uWSGI+Diango 工作流程&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;nginx&lt;/code&gt; 是对外的服务接口，外部浏览器通过&lt;code&gt;url&lt;/code&gt;访问&lt;code&gt;nginx&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;nginx&lt;/code&gt; 接收到浏览器发送过来的&lt;code&gt;http&lt;/code&gt;请求，将包进行解析&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;分析&lt;code&gt;url&lt;/code&gt;，如果是静态文件请求就直接访问用户给&lt;code&gt;nginx&lt;/code&gt;配置的静态文件目录，直接返回用户请求的静态文件&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;如果不是静态文件，而是一个动态的请求，那么&lt;code&gt;nginx&lt;/code&gt;就将请求转发给&lt;code&gt;uwsgi&lt;/code&gt;，&lt;code&gt;uwsgi&lt;/code&gt; 接收到请求之后将包进行处理，处理成&lt;code&gt;wsgi&lt;/code&gt;可以接受的格式，并发给&lt;code&gt;wsgi&lt;/code&gt;，&lt;code&gt;wsgi&lt;/code&gt; 根据请求调用应用程序的某个文件，某个文件的某个函数，最后处理完将返回值再次交给&lt;code&gt;wsgi&lt;/code&gt;，&lt;code&gt;wsgi&lt;/code&gt;将返回值进行打包，打包成&lt;code&gt;uwsgi&lt;/code&gt;能够接收的格式，&lt;code&gt;uwsgi&lt;/code&gt;接收&lt;code&gt;wsgi&lt;/code&gt; 发送的请求，并转发给&lt;code&gt;nginx&lt;/code&gt;, &lt;code&gt;nginx&lt;/code&gt;最终将返回值返回给浏览器&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;uwsgi服务的开启关闭&#34;&gt;uwsgi服务的开启&amp;amp;&amp;amp;关闭&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;在&lt;code&gt;~/acapp&lt;/code&gt;启动uwsgi服务：&lt;strong&gt;&lt;code&gt;uwsgi --ini scripts/uwsgi.ini&lt;/code&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;关闭uwsgi服务：&lt;code&gt;sudo pkill -f uwsgi -9&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;针对-acapp-的优化&#34;&gt;针对 acapp 的优化&lt;/h2&gt;
&lt;h3 id=&#34;打包脚本优化&#34;&gt;打包脚本优化&lt;/h3&gt;
&lt;p&gt;由于现在 &lt;strong&gt;发布版本的脚本文件&lt;/strong&gt; 用的是打包在根目录里的 &lt;strong&gt;static&lt;/strong&gt; 文件夹&lt;/p&gt;
&lt;p&gt;每次修改好 &lt;strong&gt;static&lt;/strong&gt; 文件夹后，不仅需要对 &lt;strong&gt;js&lt;/strong&gt; 文件打包，还需要对 &lt;strong&gt;static&lt;/strong&gt; 文件夹打包&lt;/p&gt;
&lt;p&gt;不放把 &amp;ldquo;将static文件夹打包&amp;rdquo; 的 &lt;strong&gt;shell&lt;/strong&gt; 代码一起加入 &lt;strong&gt;js&lt;/strong&gt; 打包脚本中，从而实现一键打包&lt;/p&gt;
&lt;p&gt;&lt;code&gt;scripts/compress_game_js.sh&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;#! /bin/bash

JS_PATH=/home/acs/acapp/game/static/js/
JS_PATH_DIST=${JS_PATH}dist/
JS_PATH_SRC=${JS_PATH}src/

find $JS_PATH_SRC -type f -name &amp;#39;*.js&amp;#39; | sort | xargs cat &amp;gt; ${JS_PATH_DIST}game.js

echo &amp;#34;yes&amp;#34; | python3 manage.py collectstatic
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;鼠标点击事件的相对偏移&#34;&gt;鼠标点击事件的相对偏移&lt;/h3&gt;
&lt;p&gt;由于写游戏界面的时候，玩家移动是按照鼠标相对于当前整个浏览器取的位置参数 &lt;code&gt;e.clientX&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;而 &lt;code&gt;acapp&lt;/code&gt; 里，每个应用是一个小窗口，鼠标点击位置的参数应当是 &lt;strong&gt;相对于整个游戏窗口的位置参数&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;所有会导致出现，点击的位置与移动的位置不同，这里需要做出小优化&lt;/p&gt;
&lt;p&gt;优化的逻辑 :&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;$clientX−窗口左侧到浏览器左侧的距离=玩家的目标X$&lt;/li&gt;
&lt;li&gt;$clientY−窗口上侧到浏览器上侧的距离=玩家的目标Y$
这就要用到一个 &lt;code&gt;js&lt;/code&gt; 的 &lt;code&gt;API&lt;/code&gt; 了 : &lt;code&gt;getBoundingClientRect()&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rectObject = object.getBoundingClientRect();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rectObject.top : 元素上边到视窗上边的距离;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rectObject.right : 元素右边到视窗左边的距离;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rectObject.bottom : 元素下边到视窗上边的距离;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rectObject.left : 元素左边到视窗左边的距离;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rectObject.width : 是元素自身的宽
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rectObject.height : 是元素自身的高
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;player/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; add_listening_events() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.game_map.$canvas.mousedown(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;function&lt;/span&gt;(e) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#007f7f&#34;&gt;// 创建 rect 对象
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;const&lt;/span&gt; rect = outer.ctx.canvas.getBoundingClientRect();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (e.which === &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;3&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#007f7f&#34;&gt;// 调整偏移量
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;            outer.move_to(e.clientX - rect.left, e.clientY - rect.top);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (e.which === &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;1&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (outer.cur_skill === &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;fireball&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#007f7f&#34;&gt;// 调整偏移量
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;                outer.shoot_fireball(e.clientX - rect.left, e.clientY - rect.top);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;将菜单界面重新设为主界面&#34;&gt;将菜单界面重新设为主界面&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;js/zbase.js&lt;/code&gt; 的注释取消，使之创建出 &lt;strong&gt;menu&lt;/strong&gt; 对象&lt;/p&gt;
&lt;p&gt;&lt;code&gt;js/playground/zbase.js&lt;/code&gt; 的注释取消，并设置逻辑，让 &lt;strong&gt;playground&lt;/strong&gt; 打开后，才进行游戏界面初始化&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; AcGamePlayground {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    constructor(root) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.root = root;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$playground = $(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;`&amp;lt;div class=&amp;#34;ac-game-playground&amp;#34;&amp;gt;&amp;lt;/div&amp;gt;`&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.hide();    &lt;span style=&#34;color:#007f7f&#34;&gt;// 初始时隐藏
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#007f7f&#34;&gt;// 游戏界面生成代码在下面展示 playground 时执行
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.start();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    show() {    &lt;span style=&#34;color:#007f7f&#34;&gt;// 打开 playground 界面
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$playground.show();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#007f7f&#34;&gt;// 开始生成游戏界面
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.root.$ac_game.append(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$playground);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.width = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$playground.width();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.height = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$playground.height();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.game_map = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;new&lt;/span&gt; GameMap(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.players = [];  &lt;span style=&#34;color:#007f7f&#34;&gt;// 存放当前游戏中的所有玩家
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#007f7f&#34;&gt;// 将玩家加入游戏中
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.players.push(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;new&lt;/span&gt; Player(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.width / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.height / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.height * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.05&lt;/span&gt;, &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;white&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.height * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.15&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;true&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#007f7f&#34;&gt;// 创建好 5 个人机
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;for&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; i = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;5&lt;/span&gt;; i ++ ) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.players.push(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;new&lt;/span&gt; Player(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.width / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.height / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.height * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.05&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.get_random_color(), &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.height * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.15&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;false&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;调整-css-文件适应窗口&#34;&gt;调整 css 文件，适应窗口&lt;/h3&gt;
&lt;p&gt;在设置 &lt;code&gt;web&lt;/code&gt; 网页的时候，有些设置了绝对值，可能对于窗口化的 &lt;code&gt;acapp&lt;/code&gt; 显示效果差&lt;/p&gt;
&lt;p&gt;将他们修改成相对数值&lt;/p&gt;
&lt;p&gt;&lt;code&gt;game.css&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.ac-game-menu-field {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    top: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;40&lt;/span&gt;%;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    left: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;20&lt;/span&gt;%;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.ac-game-menu-field-item {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    height: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;6&lt;/span&gt;vh;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    font-size: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;4&lt;/span&gt;vh;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;创建账号系统&#34;&gt;创建账号系统&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://www.acwing.com/file_system/file/content/whole/index/content/3294700/&#34;&gt;6. 创建账号系统 | 讲义&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;用户名密码登录&#34;&gt;用户名密码登录&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/blog/content/12373/&#34;&gt;6.1 用户名密码登录 | 讲义&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/solution/content/79314/&#34;&gt;6.1 上课笔记 | Andrew1729&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/solution/content/75831/&#34;&gt;6.1 上课笔记 | 吃饱喝足不学习&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;客户端请求与django响应流程&#34;&gt;客户端请求与Django响应流程&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;用户在客户端通过&lt;code&gt;$.ajax&lt;/code&gt;发送请求，根据&lt;code&gt;urls&lt;/code&gt;路由到对应的&lt;code&gt;views&lt;/code&gt;中的函数，处理&lt;code&gt;request&lt;/code&gt;后返回&lt;code&gt;JsonResponse&lt;/code&gt; 至客户端&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;前期准备工作&#34;&gt;前期准备工作&lt;/h3&gt;
&lt;p&gt;做开发，先开启调试模式，如果不开启，服务器一旦运行错误，就只返回 &lt;code&gt;Error&lt;/code&gt; 报错
&lt;code&gt;settings.py&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;DEBUG = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;True&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;不过 &lt;code&gt;django&lt;/code&gt; 自带的 &lt;code&gt;User&lt;/code&gt; 表并不能满足我们的需求，因此我们需要自己额外建表&lt;/p&gt;
&lt;h3 id=&#34;创建用户表&#34;&gt;创建用户表&lt;/h3&gt;
&lt;p&gt;所有的数据表都存在 &lt;code&gt;models&lt;/code&gt; 里&lt;/p&gt;
&lt;p&gt;我们在 &lt;code&gt;models&lt;/code&gt; 里创建一个 &lt;code&gt;player&lt;/code&gt; 文件夹，用于存储所有的 &lt;code&gt;player&lt;/code&gt; 相关的表&lt;/p&gt;
&lt;p&gt;然后对文件夹初始化 &lt;code&gt;__init__.py&lt;/code&gt;，接着扩充成一个我们需要的数据表&lt;/p&gt;
&lt;p&gt;&lt;code&gt;game/models/player/player.py&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;from&lt;/span&gt; django.db &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;import&lt;/span&gt; models
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;from&lt;/span&gt; django.contrib.auth.models &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;import&lt;/span&gt; User
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Player(models.Model): &lt;span style=&#34;color:#007f7f&#34;&gt;# Player 类继承自 Model 类&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    user = models.OneToOneField(User, on_delete=models.CASCADE)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#007f7f&#34;&gt;# 说明Player是从User表扩充过来的，每一个player都与一个user是一一对应关联关系&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#007f7f&#34;&gt;# 后一个参数是指，当user被删除后，对应的player也要被删除&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#007f7f&#34;&gt;# （感觉就是外键的意思）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    photo = models.URLField(max_length=&lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;256&lt;/span&gt;, blank=&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;True&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#007f7f&#34;&gt;# 用于存储用户的头像的url&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#007f7f&#34;&gt;# 指定每个player数据展示在前台的数据&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;def&lt;/span&gt; __str__(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;str&lt;/span&gt;(self.user)    &lt;span style=&#34;color:#007f7f&#34;&gt;# 展示用户的用户名&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;将定义的表，注册到后台 &lt;code&gt;admin&lt;/code&gt; 页面中&lt;/p&gt;
&lt;p&gt;&lt;code&gt;game/admin.py&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;from&lt;/span&gt; game.models.player.player &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;import&lt;/span&gt; Player
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;admin.site.register(Player)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然后将创建的数据表更新到 &lt;code&gt;django&lt;/code&gt; 的数据库中去&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f00&#34;&gt;$&lt;/span&gt; python3 manage.py makemigrations
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; Migrations &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;game&amp;#39;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt;   game/migrations/&lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0001&lt;/span&gt;_initial.py
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt;     - Create model Player
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f00&#34;&gt;$&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f00&#34;&gt;$&lt;/span&gt; python3 manage.py migrate
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; Operations to perform:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt;   Apply &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;all&lt;/span&gt; migrations: admin, auth, contenttypes, game, sessions
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; Running migrations:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt;   Applying game&lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;.0001&lt;/span&gt;_initial... OK
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然后重启一下服务，就可以在管理员页面看到新建的数据库了&lt;/p&gt;
&lt;h3 id=&#34;实现客户端的类型判别acapp-or-web&#34;&gt;实现客户端的类型判别（ACAPP or WEB）&lt;/h3&gt;
&lt;p&gt;由于我们实现的项目是前后端分离类型，因此对于不同的客户端，前端要控制生成不同的页面&lt;/p&gt;
&lt;p&gt;为了增强扩展性，故这里要实现客户端类型的判别&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;y总&lt;/strong&gt; 已经提前写好了 &lt;strong&gt;ACAPP&lt;/strong&gt; 的接口，如果用户用的是 &lt;strong&gt;ACAPP&lt;/strong&gt; 访问，则在新建对象 &lt;strong&gt;ac_game&lt;/strong&gt; 时，会额外传递一个参数&lt;/p&gt;
&lt;p&gt;我们只需按照这个接口去完成扩充即可&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;之后写小程序之类的同理，额外传一个接口&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;js/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; AcGame {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    constructor(id, AcWingOS) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.id = id;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$ac_game = $(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;#&amp;#39;&lt;/span&gt; + id);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.AcWingOS = AcWingOS;   &lt;span style=&#34;color:#007f7f&#34;&gt;//如果是acapp端，该变量就会带着一系列y总提供的接口
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.menu = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;new&lt;/span&gt; AcGameMenu(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;new&lt;/span&gt; AcGamePlayground(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.start();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    start() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;构建登录功能框架&#34;&gt;构建登录功能框架&lt;/h3&gt;
&lt;p&gt;基本逻辑 : 用户访问页面 -&amp;gt; 进入登录页面 -&amp;gt; 提交登录信息 -&amp;gt; 核对登录信息 -&amp;gt; 返回登陆结果和其他信息&lt;/p&gt;
&lt;p&gt;每实现一个函数，就需要实现三个部分：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;views&lt;/code&gt; : 实现具体的调用数据库的逻辑&lt;/li&gt;
&lt;li&gt;&lt;code&gt;urls&lt;/code&gt; : 实现一个路由&lt;/li&gt;
&lt;li&gt;&lt;code&gt;js&lt;/code&gt; : 前端实现GET上述接口的过程&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;欲实现流程 :&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;用户访问网站，通过先前完成的路由，访问到 &lt;code&gt;web.html &lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;web.html&lt;/code&gt; 中的 &lt;code&gt;js&lt;/code&gt; 部分创建了一个 &lt;code&gt;AcGame&lt;/code&gt; 对象&lt;/li&gt;
&lt;li&gt;&lt;code&gt;AcGame&lt;/code&gt; 对象创建的过程中，生成了 &lt;code&gt;Settings&lt;/code&gt; 对象&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Settings&lt;/code&gt; 对象创建完成后，调用 &lt;code&gt;Settings.start()&lt;/code&gt; 函数&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Settings.start()&lt;/code&gt; 函数调用了 &lt;code&gt;Settings.getinfo()&lt;/code&gt; 函数&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Settings.getinfo()&lt;/code&gt; 函数中执行了 &lt;code&gt;ajax&lt;/code&gt; 向 &lt;code&gt;getinfo&lt;/code&gt; 接口发起一个含参数 &lt;code&gt;platform&lt;/code&gt; 的 &lt;code&gt;GET&lt;/code&gt; 请求&lt;/li&gt;
&lt;li&gt;通过 &lt;code&gt;urls&lt;/code&gt; 路由的实现，最终定位到 &lt;code&gt;views/settings/getinfo.py&lt;/code&gt; 文件的 &lt;code&gt;getinfo(request)&lt;/code&gt; 函数&lt;/li&gt;
&lt;li&gt;根据传递过来的 &lt;code&gt;platform&lt;/code&gt; 函数，实现不同的 &lt;code&gt;JsonResponse&lt;/code&gt; 返回&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Settings.getinfo()&lt;/code&gt; 接受到了 &lt;code&gt;response&lt;/code&gt; 完成上述基本逻辑&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;views&#34;&gt;views&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;views/settings/getinfo.py&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;from&lt;/span&gt; django.http &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;import&lt;/span&gt; JsonResponse
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;from&lt;/span&gt; game.models.player.player &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;import&lt;/span&gt; Player
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;def&lt;/span&gt; getinfo_acapp(request):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    player = Player.objects.all()[&lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;]    &lt;span style=&#34;color:#007f7f&#34;&gt;# 取出数据库中第一个用户(调试该功能)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; JsonResponse({
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;result&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;success&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;username&amp;#39;&lt;/span&gt;: player.user.username,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;photo&amp;#39;&lt;/span&gt;: player.photo,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    })
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;def&lt;/span&gt; getinfo_web(request):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    player = Player.objects.all()[&lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;]    &lt;span style=&#34;color:#007f7f&#34;&gt;# 取出数据库中第一个用户(调试该功能)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; JsonResponse({
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;result&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;success&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;username&amp;#39;&lt;/span&gt;: player.user.username,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;photo&amp;#39;&lt;/span&gt;: player.photo,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    })
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;def&lt;/span&gt; getinfo(request):   &lt;span style=&#34;color:#007f7f&#34;&gt;# 处理请求&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    platform = request.GET.get(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;platform&amp;#39;&lt;/span&gt;)  &lt;span style=&#34;color:#007f7f&#34;&gt;# 根据请求的平台不同，进行不同返回处理&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; platform == &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;ACAPP&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; getinfo_acapp(request)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;elif&lt;/span&gt; platform == &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;WEB&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; getinfo_web(request)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;urls&#34;&gt;urls&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;urls/settings/index.py&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;from&lt;/span&gt; django.urls &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;import&lt;/span&gt; path
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;from&lt;/span&gt; game.views.settings.getinfo &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;import&lt;/span&gt; getinfo
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;urlpatterns = [
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    path(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;getinfo/&amp;#34;&lt;/span&gt;, getinfo, name=&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;settings_getinfo&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;路由建立好以后，访问 &lt;code&gt;xxxx/settings/getinfo&lt;/code&gt;，可以看到 &lt;code&gt;getinfo.py&lt;/code&gt; 返回的 &lt;code&gt;JSON&lt;/code&gt; 类型的 &lt;code&gt;JSONResponse&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;js&#34;&gt;js&lt;/h4&gt;
&lt;p&gt;网页刚访问时，应先将 &lt;code&gt;menu&lt;/code&gt; 关闭，然后打开登录界面，随意先修改一个让 &lt;code&gt;menu&lt;/code&gt; 初始关闭&lt;/p&gt;
&lt;p&gt;&lt;code&gt;static/js/src/menu/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; AcGameMenu {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    constructor(root) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$menu.hide();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;static/js/src/settings/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Settings {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    constructor(root) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.root = root;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.platform = &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;WEB&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.root.AcWingOS) &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.platform = &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;ACAPP&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.start();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    start() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.getinfo();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    register() {    &lt;span style=&#34;color:#007f7f&#34;&gt;// 打开注册界面
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    login() {       &lt;span style=&#34;color:#007f7f&#34;&gt;// 打开登录界面
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    getinfo() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; outer = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        $.ajax({
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            url: &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;https://app1117.acapp.acwing.com.cn/settings/getinfo/&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            type: &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;GET&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            data: {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                platform: outer.platform,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            },
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            success: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;function&lt;/span&gt;(resp) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                console.log(resp);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (resp.result === &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;success&amp;#34;&lt;/span&gt;) {    &lt;span style=&#34;color:#007f7f&#34;&gt;// 登录成功，关闭登录界面，打开主菜单
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;                    outer.hide();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    outer.root.menu.show();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                } &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    outer.login();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    hide() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    show() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然后不要忘记在 &lt;code&gt;根js&lt;/code&gt; 下创建对象&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; AcGame {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    constructor(id, AcWingOS) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.settings = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;new&lt;/span&gt; Settings(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这样基本框架就完成了&lt;/p&gt;
&lt;h4 id=&#34;完善-http-请求的函数&#34;&gt;完善 HTTP 请求的函数&lt;/h4&gt;
&lt;p&gt;如果用户未登录，返回信息 &amp;ldquo;not login&amp;rdquo;&lt;/p&gt;
&lt;p&gt;如果用户登录，返回信息 &amp;ldquo;success&amp;rdquo; 以及用户名和头像&lt;/p&gt;
&lt;p&gt;&lt;code&gt;views/setting/getinfo.py&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;def&lt;/span&gt; getinfo_web(request):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    user = request.user
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; not user.is_authenticated:   &lt;span style=&#34;color:#007f7f&#34;&gt;# 未登录&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; JsonResponse({
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;result&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;not login&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        })
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;else&lt;/span&gt;:                           &lt;span style=&#34;color:#007f7f&#34;&gt;# 已登录&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        player = Player.objects.get(user=user)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; JsonResponse({
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;result&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;success&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;username&amp;#39;&lt;/span&gt;: player.user.username,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;photo&amp;#39;&lt;/span&gt;: player.photo,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        })
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;注意前后台是一个登录系统，因此要先退掉后台，再测试&lt;/p&gt;
&lt;h3 id=&#34;将用户头像渲染到玩家上&#34;&gt;将用户头像渲染到玩家上&lt;/h3&gt;
&lt;p&gt;将返回的 &lt;code&gt;JsonResponse&lt;/code&gt; 存到 &lt;code&gt;Settings&lt;/code&gt; 类的变量中
&lt;code&gt;settings/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Settings {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    constructor(root) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.username = &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.photo = &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    getinfo() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; outer = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        $.ajax({
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            success: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;function&lt;/span&gt;(resp) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (resp.result === &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;success&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    outer.username = resp.username;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    outer.photo = resp.photo;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                ..
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然后在 &lt;code&gt;Player&lt;/code&gt; 里把用户的头像渲染到对应的玩家上&lt;/p&gt;
&lt;p&gt;&lt;code&gt;playground/player/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Player {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    constructor(...) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.img = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;new&lt;/span&gt; Image();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.img.src = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.root.settings.photo;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    render() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.is_me) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.save();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.beginPath();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.arc(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.PI * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;false&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.stroke();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.clip();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.drawImage(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.img, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x - &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y - &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                               &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.restore();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.beginPath();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.arc(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt; * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.PI, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;false&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.fillStyle = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.color;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.fill();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;实现登录界面的前端&#34;&gt;实现登录界面的前端&lt;/h3&gt;
&lt;p&gt;先完成登录界面显示的逻辑&lt;/p&gt;
&lt;p&gt;&lt;code&gt;settings/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Settings {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    register() {  &lt;span style=&#34;color:#007f7f&#34;&gt;// 打开注册界面
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login.hide();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register.show();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    login() {  &lt;span style=&#34;color:#007f7f&#34;&gt;// 打开登录界面
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register.hide();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login.show();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    hide() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$settings.hide();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    show() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$settings.show();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;实现前端的基础框架&#34;&gt;实现前端的基础框架&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;settings/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Settings {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    constructor(root) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$settings = $(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;`
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;lt;div class=&amp;#34;ac-game-settings&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;    &amp;lt;div class=&amp;#34;ac-game-settings-login&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;div class=&amp;#34;ac-game-settings-title&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            登录
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;div class=&amp;#34;ac-game-settings-username&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;div class=&amp;#34;ac-game-settings-item&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;                &amp;lt;input type=&amp;#34;text&amp;#34; placeholder=&amp;#34;用户名&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;div class=&amp;#34;ac-game-settings-password&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;div class=&amp;#34;ac-game-settings-item&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;                &amp;lt;input type=&amp;#34;password&amp;#34; placeholder=&amp;#34;密码&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;div class=&amp;#34;ac-game-settings-submit&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;div class=&amp;#34;ac-game-settings-item&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;                &amp;lt;button&amp;gt;登录&amp;lt;/button&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;div class=&amp;#34;ac-game-settings-error-message&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;div class=&amp;#34;ac-game-settings-option&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            注册
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;br&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;div class=&amp;#34;ac-game-settings-acwing&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;img width=&amp;#34;30&amp;#34; src=&amp;#34;https://app165.acapp.acwing.com.cn/static/image/settings/acwing_logo.png&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;br&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;                AcWing一键登录
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;    &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;    &amp;lt;div class=&amp;#34;ac-game-settings-register&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;div class=&amp;#34;ac-game-settings-title&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            注册
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;div class=&amp;#34;ac-game-settings-username&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;div class=&amp;#34;ac-game-settings-item&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;                &amp;lt;input type=&amp;#34;text&amp;#34; placeholder=&amp;#34;用户名&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;div class=&amp;#34;ac-game-settings-password ac-game-settings-password-first&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;div class=&amp;#34;ac-game-settings-item&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;                &amp;lt;input type=&amp;#34;password&amp;#34; placeholder=&amp;#34;密码&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;div class=&amp;#34;ac-game-settings-password ac-game-settings-password-second&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;div class=&amp;#34;ac-game-settings-item&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;                &amp;lt;input type=&amp;#34;password&amp;#34; placeholder=&amp;#34;确认密码&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;div class=&amp;#34;ac-game-settings-submit&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;div class=&amp;#34;ac-game-settings-item&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;                &amp;lt;button&amp;gt;注册&amp;lt;/button&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;div class=&amp;#34;ac-game-settings-error-message&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;div class=&amp;#34;ac-game-settings-option&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            登录
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;br&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;div class=&amp;#34;ac-game-settings-acwing&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;img width=&amp;#34;30&amp;#34; src=&amp;#34;https://app165.acapp.acwing.com.cn/static/image/settings/acwing_logo.png&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;br&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;                AcWing一键登录
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;            &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;        &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;    &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;`&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$settings.find(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;.ac-game-settings-login&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login_username = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login.find(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;.ac-game-settings-username input&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login_password = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login.find(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;.ac-game-settings-password input&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login_submit = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login.find(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;.ac-game-settings-submit button&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login_error_message = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login.find(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;.ac-game-settings-error-message&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login_register = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login.find(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;.ac-game-settings-option&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login.hide();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$settings.find(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;.ac-game-settings-register&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register_username = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register.find(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;.ac-game-settings-username input&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register_password = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register.find(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;.ac-game-settings-password-first input&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register_password_confirm = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register.find(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;.ac-game-settings-password-second input&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register_submit = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register.find(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;.ac-game-settings-submit button&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register_error_message = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register.find(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;.ac-game-settings-error-message&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register_login = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register.find(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;.ac-game-settings-option&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register.hide();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.root.$ac_game.append(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$settings);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;对应的 &lt;code&gt;css&lt;/code&gt; 文件部分：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;css/game.css&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-css&#34; data-lang=&#34;css&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.ac-game-settings {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;width&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;100&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;height&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;100&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;background-image&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;url&lt;/span&gt;(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;/static/image/menu/background.gif&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;background-size&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;100&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt; &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;100&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;user-select&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;none&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.ac-game-settings-login {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;height&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;41&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;vh&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;width&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;20&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;vw&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;position&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;relative&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;top&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;left&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;transform&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;translate&lt;/span&gt;(&lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;-50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;-50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;background-color&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;rgba&lt;/span&gt;(&lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.7&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;border-radius&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;5&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;px&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.ac-game-settings-title {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;color&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;white&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;font-size&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;3&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;vh&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;text-align&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;center&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;padding-top&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;vh&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;margin-bottom&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;vh&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.ac-game-settings-username {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;display&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;block&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;height&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;7&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;vh&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.ac-game-settings-password {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;display&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;block&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;height&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;7&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;vh&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.ac-game-settings-submit {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;display&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;block&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;height&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;7&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;vh&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.ac-game-settings-acwing {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;display&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;block&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;height&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;7&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;vh&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.ac-game-settings-item {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;width&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;100&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;height&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;100&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.ac-game-settings-item &amp;gt; &lt;span style=&#34;font-weight:bold&#34;&gt;input&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;width&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;90&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;line-height&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;3&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;vh&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;position&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;relative&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;top&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;left&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;transform&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;translate&lt;/span&gt;(&lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;-50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;-50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.ac-game-settings-item &amp;gt; &lt;span style=&#34;font-weight:bold&#34;&gt;button&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;color&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;white&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;width&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;90&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;line-height&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;3&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;vh&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;position&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;relative&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;top&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;left&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;transform&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;translate&lt;/span&gt;(&lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;-50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;-50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;background-color&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;#4CAF50&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;border-radius&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;5&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;px&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.ac-game-settings-error-message {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;color&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;red&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;font-size&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.8&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;vh&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;display&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;inline&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;float&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;left&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;padding-left&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;vw&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.ac-game-settings-option {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;color&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;white&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;font-size&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;vh&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;display&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;inline&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;float&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;right&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;padding-right&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;vw&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;cursor&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;pointer&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.ac-game-settings-acwing &amp;gt; &lt;span style=&#34;font-weight:bold&#34;&gt;img&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;position&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;relative&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;top&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;left&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;transform&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;translate&lt;/span&gt;(&lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;-50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;-50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;cursor&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;pointer&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;display&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;block&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.ac-game-settings-acwing &amp;gt; &lt;span style=&#34;font-weight:bold&#34;&gt;div&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;color&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;white&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;font-size&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;1.5&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;vh&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;text-align&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;center&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;display&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;block&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.ac-game-settings-register {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;height&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;49&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;vh&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;width&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;20&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;vw&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;position&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;relative&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;top&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;left&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;transform&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;translate&lt;/span&gt;(&lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;-50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;-50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;background-color&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;rgba&lt;/span&gt;(&lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.7&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;border-radius&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;5&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;px&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;实现登录注册的相互切换&#34;&gt;实现登录/注册的相互切换&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Settings {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    constructor(root) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    start() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.getinfo();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.add_listening_events();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    add_listening_events() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.add_listening_events_login();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.add_listening_events_register();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    add_listening_events_login() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; outer = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login_register.click(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;function&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            outer.register();   &lt;span style=&#34;color:#007f7f&#34;&gt;// 跳到注册界面
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    add_listening_events_register() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; outer = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register_login.click(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;function&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            outer.login();      &lt;span style=&#34;color:#007f7f&#34;&gt;// 跳到登录界面
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        })
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;实现登录功能&#34;&gt;实现登录功能&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;views/settings/login.py&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;from&lt;/span&gt; django.http &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;import&lt;/span&gt; JsonResponse
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;from&lt;/span&gt; django.contrib.auth &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;import&lt;/span&gt; authenticate, login
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;def&lt;/span&gt; signin(request):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    data = request.GET
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    username = data.get(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;username&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    password = data.get(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;password&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    user = authenticate(username=username, password=password)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; not user:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; JsonResponse({
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;result&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;用户名或密码不正确&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        })
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    login(request, user)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; JsonResponse({
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;result&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;success&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    })
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;urls/settings/index.py&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;from&lt;/span&gt; django.urls &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;import&lt;/span&gt; path
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;from&lt;/span&gt; game.views.settings.getinfo &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;import&lt;/span&gt; getinfo
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;from&lt;/span&gt; game.views.settings.login &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;import&lt;/span&gt; signin
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;urlpatterns = [
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    path(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;getinfo/&amp;#34;&lt;/span&gt;, getinfo, name=&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;settings_getinfo&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    path(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;login/&amp;#34;&lt;/span&gt;, signin, name=&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;settings_login&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;settings/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Settings{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    add_listening_events_login() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login_submit.click(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;function&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            outer.login_on_remote();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    login_on_remote() {     &lt;span style=&#34;color:#007f7f&#34;&gt;// 在远程服务器上登录
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; outer = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; username = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login_username.val();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; password = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login_password.val();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login_error_message.empty();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        $.ajax({
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            url: &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;https://app1117.acapp.acwing.com.cn/settings/login/&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            type: &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;GET&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            data: {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                username: username,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                password: password,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            },
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            success: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;function&lt;/span&gt;(resp) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                console.log(resp);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (resp.result === &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;success&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    location.reload();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                } &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    outer.$login_error_message.html(resp.result);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;实现登出功能&#34;&gt;实现登出功能&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;views/settings/logout.py&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;from&lt;/span&gt; django.http &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;import&lt;/span&gt; JsonResponse
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;from&lt;/span&gt; django.contrib.auth &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;import&lt;/span&gt; logout
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;def&lt;/span&gt; signout(request):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    user = request.user
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; not user.is_authenticated:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; JsonResponse({
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;result&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;success&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        })
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    logout(request)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; JsonResponse({
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;result&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;success&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    })
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;urls/settings/index.py&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;from&lt;/span&gt; game.views.settings.logout &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;import&lt;/span&gt; signout
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;urlpatterns = [
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    path(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;logout/&amp;#34;&lt;/span&gt;, signout, name=&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;settings_logout&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;settings/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;login_on_remote() {     &lt;span style=&#34;color:#007f7f&#34;&gt;// 在远程服务器上登录
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; outer = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; username = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login_username.val();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; password = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login_password.val();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$login_error_message.empty();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    $.ajax({
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        url: &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;https://app1117.acapp.acwing.com.cn/settings/login/&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        type: &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;GET&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        data: {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            username: username,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            password: password,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        },
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        success: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;function&lt;/span&gt;(resp) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            console.log(resp);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (resp.result === &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;success&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                location.reload();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            } &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                outer.$login_error_message.html(resp.result);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;再顺便将 &lt;code&gt;menu&lt;/code&gt; 菜单页面里的 &lt;code&gt;设置&lt;/code&gt; 按钮也绑定上登出功能&lt;/p&gt;
&lt;p&gt;&lt;code&gt;menu/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;add_listening_events() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; outer = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$settings_mode.click(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;function&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        outer.root.settings.logout_on_remote();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;实现注册功能&#34;&gt;实现注册功能&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;views/settings/register.py&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;from&lt;/span&gt; django.http &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;import&lt;/span&gt; JsonResponse
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;from&lt;/span&gt; django.contrib.auth &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;import&lt;/span&gt; login
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;from&lt;/span&gt; django.contrib.auth.models &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;import&lt;/span&gt; User
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;from&lt;/span&gt; game.models.player.player &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;import&lt;/span&gt; Player
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;def&lt;/span&gt; register(request):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    data = request.GET
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    username = data.get(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;username&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;).strip()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    password = data.get(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;password&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;).strip()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    password_confirm = data.get(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;password_confirm&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;).strip()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; not username or not password:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; JsonResponse({
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;result&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;用户名或密码不能为空&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        })
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; password != password_confirm:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; JsonResponse({
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;result&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;两个密码不一致&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        })
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; User.objects.filter(username=username).exists():
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; JsonResponse({
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;result&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;用户名已存在&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        })
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    user = User(username=username)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    user.set_password(password)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    user.save()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Player.objects.create(user=user, photo=&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;https://cdn.acwing.com/media/user/profile/photo/42832_lg_f999efc3c8.png&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    login(request, user)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; JsonResponse({
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;result&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;success&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    })
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;urls/settings/index.py&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;from&lt;/span&gt; game.views.settings.register &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;import&lt;/span&gt; register
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;urlpatterns = [
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    path(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;register/&amp;#34;&lt;/span&gt;, register, name=&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;settings_register&amp;#34;&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;settings/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;add_listening_events_register() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register_submit.click(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;function&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        outer.register_on_remote();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;register_on_remote() {  &lt;span style=&#34;color:#007f7f&#34;&gt;// 在远程服务器上注册
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; outer = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; username = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register_username.val();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; password = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register_password.val();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; password_confirm = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register_password_confirm.val();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$register_error_message.empty();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    $.ajax({
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        url: &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;https://app1117.acapp.acwing.com.cn/settings/register/&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        type: &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;GET&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        data: {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            username: username,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            password: password,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            password_confirm: password_confirm,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        },
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        success: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;function&lt;/span&gt;(resp) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            console.log(resp);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (resp.result === &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;success&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                location.reload();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            } &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                outer.$register_error_message.html(resp.result);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    })
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;redisஐ&#34;&gt;Redisஐ&lt;/h2&gt;
&lt;h3 id=&#34;redis是什么&#34;&gt;Redis是什么？&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;Redis&lt;/code&gt; 是一款内存高速缓存数据库&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;为什么要使用redis&#34;&gt;为什么要使用Redis?&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;我们目前用的是&lt;code&gt;Django&lt;/code&gt;自带的数据库&lt;code&gt;Sqlite&lt;/code&gt;。&lt;code&gt;Django&lt;/code&gt;是很容易将数据库迁移到&lt;code&gt;mySQL&lt;/code&gt;的。但是存储效率不如&lt;code&gt;redis&lt;/code&gt;，因为&lt;code&gt;redis&lt;/code&gt;是内存数据库，所以调用东西都非常快，存的是一个一个的&lt;code&gt;&amp;lt;key, value&amp;gt;&lt;/code&gt;，而且是单线程的&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;在django中集成redis&#34;&gt;在Django中集成Redis&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;安装 &lt;code&gt;django_redis&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pip install django_redis
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;配置 &lt;code&gt;settings.py&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;CACHES = { 
    &amp;#39;default&amp;#39;: {
        &amp;#39;BACKEND&amp;#39;: &amp;#39;django_redis.cache.RedisCache&amp;#39;,
        &amp;#39;LOCATION&amp;#39;: &amp;#39;redis://127.0.0.1:6379/1&amp;#39;,
        &amp;#34;OPTIONS&amp;#34;: {
            &amp;#34;CLIENT_CLASS&amp;#34;: &amp;#34;django_redis.client.DefaultClient&amp;#34;,
        },  
    },  
}
USER_AGENTS_CACHE = &amp;#39;default&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;启动 &lt;code&gt;redis-server&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo redis-server /etc/redis/redis.conf
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;在-django-后台里操纵-redis&#34;&gt;在 Django 后台里操纵 Redis&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ python3 manage.py shell&amp;#39;

In [1]: from django.core.cache import cache # 引入redis

In [2]: cache.keys(&amp;#39;*&amp;#39;)                     # 查询redis里所有的关键字
Out[2]: []

In [3]: cache.set(&amp;#39;yxc&amp;#39;, 1, 5)              # 插入一个key-val，存在 5 s
Out[3]: True

In [4]: cache.keys(&amp;#39;*&amp;#39;)                     # 查询redis里所有的关键字
Out[4]: [&amp;#39;yxc&amp;#39;]

In [5]: cache.set(&amp;#39;yxc&amp;#39;, 2, None)           # 插入一个key-val，不会过期
Out[5]: True

In [6]: cache.set(&amp;#39;abc&amp;#39;, 3, None)
Out[6]: True

In [7]: cache.keys(&amp;#39;y*&amp;#39;)
Out[7]: [&amp;#39;yxc&amp;#39;]

In [8]: cache.has_key(&amp;#39;abc&amp;#39;)
Out[8]: True

In [9]: cache.has_key(&amp;#39;abcd&amp;#39;)
Out[9]: False

In [10]: cache.get(&amp;#39;yxc&amp;#39;)
Out[10]: 2

In [11]: cache.delete(&amp;#39;yxc&amp;#39;)
Out[11]: True

In [12]: cache.keys(&amp;#39;*&amp;#39;)
Out[12]: [&amp;#39;abc&amp;#39;]

In [13]:
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;web端acwing一键登录ஐ&#34;&gt;Web端AcWing一键登录ஐ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/blog/content/12466/&#34;&gt;6.2 Web端AcWing一键登录 | 讲义&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/solution/content/79354/&#34;&gt;6.2 上课笔记 | Andrew1729&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/video/3565/&#34;&gt;6.2 Web端AcWing一键登录 | Vedio&lt;/a&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Oauth2一键授权登录的基本原理&lt;/strong&gt;：$17m30s——29m15s——32m51s$&lt;/li&gt;
&lt;li&gt;数据表添加&lt;code&gt;openid&lt;/code&gt;信息：$33m20s——34m47s$&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Oauth2一键授权登录的代码实现&lt;/strong&gt;：$35m20s——1h25s——1h27m20s$&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;用户点击&lt;code&gt;AcWing一键登录&lt;/code&gt;，通过&lt;code&gt;urls &amp;amp; views&lt;/code&gt;调用&lt;code&gt;apply_code&lt;/code&gt;函数，将&lt;code&gt;state&lt;/code&gt;放到&lt;code&gt;redis&lt;/code&gt;中，将&lt;code&gt;appid &amp;amp; redirect_uri &amp;amp; scope &amp;amp; state&lt;/code&gt; 传入&lt;code&gt;apply_code_url&lt;/code&gt;链接，返回并重定向至&lt;code&gt;apply_code_url&lt;/code&gt;向用户询问是否授权&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;用户点击&lt;code&gt;同意&lt;/code&gt;后，重定向至&lt;code&gt;redirect_uri&lt;/code&gt;链接，返回参数为&lt;code&gt;code&lt;/code&gt;和&lt;code&gt;state&lt;/code&gt;，通过&lt;code&gt;urls &amp;amp; views&lt;/code&gt;调用&lt;code&gt;receive_code&lt;/code&gt;函数&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;若验证&lt;code&gt;state&lt;/code&gt;失败，直接重定向至初始界面&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;若验证&lt;code&gt;state&lt;/code&gt;成功，将&lt;code&gt;appid &amp;amp; code &amp;amp; secret&lt;/code&gt;发送至&lt;code&gt;AcWing服务器&lt;/code&gt;，申请授权令牌&lt;code&gt;access_token&lt;/code&gt;和用户的&lt;code&gt;openid&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;若申请令牌成功，将&lt;code&gt;access_token &amp;amp; openid&lt;/code&gt;发送至&lt;code&gt;AcWing服务器&lt;/code&gt;，得到用户信息，创建并登录用户，最后重定向至初始界面&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;acapp端acwing一键登录ஐ&#34;&gt;AcApp端AcWing一键登录ஐ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/blog/content/12467/&#34;&gt;6.3 AcApp端AcWing一键登录 | 讲义&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/solution/content/79365/&#34;&gt;6.3 上课笔记 | Andrew1729&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/video/3566/&#34;&gt;6.3 Acapp端AcWing一键登录 | Vedio&lt;/a&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Oauth2一键授权登录的基本原理&lt;/strong&gt;：$10m——12m20s——16m35s——18m$&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Oauth2一键授权登录的代码实现&lt;/strong&gt;：$19m25s——21m——23m25s——34m29s——42m10s$&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1 id=&#34;实现联机对战ஐ&#34;&gt;实现联机对战ஐ&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/file_system/file/content/whole/index/content/3357332/&#34;&gt;7. 实现联机对战 | 讲义&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/solution/content/89506/&#34;&gt;7.1 上课笔记 | 大菜狗&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/solution/content/88801/&#34;&gt;7.2 上课笔记 | 菊花&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;统一长度单位&#34;&gt;统一长度单位&lt;/h2&gt;
&lt;p&gt;由于联机对战的时候，每个用户的客户端长宽不一样&lt;/p&gt;
&lt;p&gt;在之前完成的游戏界面里，我们会根据当前客户端的大小，进行渲染&lt;/p&gt;
&lt;p&gt;但是在联机对战的时候，应当让所有玩家的游戏界面保持同步才可以&lt;/p&gt;
&lt;p&gt;所有，就引入了 &lt;strong&gt;统一长度单位&lt;/strong&gt; 的目标&lt;/p&gt;
&lt;h3 id=&#34;地图渲染&#34;&gt;地图渲染&lt;/h3&gt;
&lt;h4 id=&#34;地图-169-等比例缩放&#34;&gt;地图 16:9 等比例缩放&lt;/h4&gt;
&lt;p&gt;实现逻辑：根据当前用户的客户端大小，统一渲染成 &lt;strong&gt;16:9&lt;/strong&gt; 的游戏界面，且随着用户调整窗口大小，也动态调整&lt;/p&gt;
&lt;p&gt;&lt;code&gt;js/src/playground/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; AcGamePlayground {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    constructor(root) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.root.$ac_game.append(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$playground);&lt;span style=&#34;color:#007f7f&#34;&gt;// 未来可能会多次 show 因此把创建场景挪到这里
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    start() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; outer = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        $(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;window&lt;/span&gt;).resize(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;function&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            outer.resize();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    resize() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.width = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$playground.width();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.height = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$playground.height();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; unit = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.min(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.width / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;16&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.height / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;9&lt;/span&gt;);  &lt;span style=&#34;color:#007f7f&#34;&gt;// 以最小的作为基准，渲染
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.width = unit * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;16&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.height = unit * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;9&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.resize();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.scale = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.height;   &lt;span style=&#34;color:#007f7f&#34;&gt;// resize时，其他元素的渲染大小都以当前渲染的高度为基准，存为 scale 变量
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.game_map) &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.game_map.resize();  &lt;span style=&#34;color:#007f7f&#34;&gt;//如果此时地图已创建，则resize一下
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    show() {    &lt;span style=&#34;color:#007f7f&#34;&gt;// 打开 playground 界面
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$playground.show();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.resize();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;js/src/playground/game_map/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; GameMap &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;extends&lt;/span&gt; AcGameObject {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    resize() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.canvas.width = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.width;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.canvas.height = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.height;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;地图居中&#34;&gt;地图居中&lt;/h4&gt;
&lt;p&gt;直接把 &lt;code&gt;canvas&lt;/code&gt; 元素，用相对位置居中即可&lt;/p&gt;
&lt;p&gt;&lt;code&gt;css/game.css&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-css&#34; data-lang=&#34;css&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.ac-game-playground {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f00&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;background-color&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;grey&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.ac-game-playground &amp;gt; &lt;span style=&#34;font-weight:bold&#34;&gt;canvas&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;position&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;relative&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;top&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;left&lt;/span&gt;: &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;transform&lt;/span&gt;: &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;translate&lt;/span&gt;(&lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;-50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;-50&lt;/span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;%&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;解决地图-resize-时会出现渐变成黑色的情况&#34;&gt;解决地图 resize 时，会出现渐变成黑色的情况&lt;/h4&gt;
&lt;p&gt;原由是因为我们的实现逻辑是：每帧会渲染一层半透明的黑色背景&lt;/p&gt;
&lt;p&gt;也就造就了一开始会出现灰屏的情况，解决方法很简单，直接 resize 完，强制涂一层不透明的黑色即可&lt;/p&gt;
&lt;p&gt;&lt;code&gt;js/src/playground/game_map/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; GameMap &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;extends&lt;/span&gt; AcGameObject {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    resize() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.canvas.width = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.width;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.canvas.height = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.height;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.fillStyle = &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;rgba(0, 0, 0, 1)&amp;#34;&lt;/span&gt;;    &lt;span style=&#34;color:#007f7f&#34;&gt;// resize 完，涂一层不透明的即可
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.fillRect(&lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.canvas.width, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.canvas.height);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;元素渲染&#34;&gt;元素渲染&lt;/h3&gt;
&lt;p&gt;地图随着尺寸等比例放大缩小的同时，地图内的其他元素也应与背景一同等比例放大缩小&lt;/p&gt;
&lt;p&gt;因此，我们只需把元素全部设为相对大小即可，用我们先前设置的 playground.scale 值即可&lt;/p&gt;
&lt;h4 id=&#34;玩家-player&#34;&gt;玩家 Player&lt;/h4&gt;
&lt;p&gt;初始化的时候，转为传递 &lt;strong&gt;scale&lt;/strong&gt; 的比例值&lt;/p&gt;
&lt;p&gt;&lt;code&gt;js/src/playground/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; AcGamePlayground {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    show() {    &lt;span style=&#34;color:#007f7f&#34;&gt;// 打开 playground 界面
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.players.push(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;new&lt;/span&gt; Player(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.width / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt; / &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.scale, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.5&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.05&lt;/span&gt;, &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;white&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.15&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;true&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;for&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; i = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;5&lt;/span&gt;; i ++ ) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.players.push(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;new&lt;/span&gt; Player(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.width / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt; / &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.scale, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.5&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.05&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.get_random_color(), &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.15&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;false&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;js/src/playground/player/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Player {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    start() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.is_me) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; tx = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.random() * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.width / &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.scale;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; ty = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.random() * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.height / &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.scale;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    add_listening_events() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.game_map.$canvas.mousedown(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;function&lt;/span&gt;(e) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (e.which === &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;3&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                outer.move_to((e.clientX - rect.left) / outer.playground.scale, (e.clientY - rect.top) / outer.playground.scale);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            } &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (e.which === &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;1&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (outer.cur_skill === &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;fireball&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    outer.shoot_fireball((e.clientX - rect.left) / outer.playground.scale, (e.clientY - rect.top) / outer.playground.scale);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    shoot_fireball(tx, ty) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; x = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x, y = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; radius = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.01&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; angle = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.atan2(ty - &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y, tx - &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; vx = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.cos(angle), vy = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.sin(angle);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; color = &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;orange&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; speed = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.5&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; move_length = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;1.0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; damage = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.01&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;new&lt;/span&gt; FireBall(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;, x, y, radius, vx, vy, color, speed, move_length, damage);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    update() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.update_move();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.render();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    update_move() { &lt;span style=&#34;color:#007f7f&#34;&gt;// 更新玩家移动
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (!&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.is_me &amp;amp;&amp;amp; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.spent_time &amp;gt; &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;4&lt;/span&gt; &amp;amp;&amp;amp; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.random() * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;180&lt;/span&gt; &amp;lt; &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;1&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.damage_speed &amp;gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.eps) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.move_length &amp;lt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.eps) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (!&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.is_me) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; tx = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.random() * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.width / &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.scale;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; ty = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.random() * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.height / &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.scale;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            } &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    render() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; scale = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.scale;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.is_me) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.arc(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x * scale, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y * scale, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius * scale, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.PI * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;false&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.drawImage(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.img, (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x - &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius) * scale, (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y - &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius) * scale, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt; * scale, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt; * scale);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.arc(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x * scale, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y * scale, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius * scale, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt; * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.PI, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;false&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;火球-fireball&#34;&gt;火球 Fireball&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;js/src/playground/skill/fireball/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Fireball {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    render() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; scale = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.scale;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.beginPath();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.arc(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x * scale, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y * scale, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius * scale, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt; * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.PI, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;false&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.fillStyle = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.color;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.fill();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;粒子-particle&#34;&gt;粒子 Particle&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;js/src/playground/particle/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Particle {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    render() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; scale = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.playground.scale;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.beginPath();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.arc(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.x * scale, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.y * scale, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.radius * scale, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt; * &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.PI, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;false&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.fillStyle = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.color;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ctx.fill();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;增加联机对战模式&#34;&gt;增加“联机对战”模式&lt;/h2&gt;
&lt;p&gt;为了区分：用户自己，机器人，联机玩家&lt;/p&gt;
&lt;p&gt;需要把 &lt;code&gt;is_me&lt;/code&gt; 改成字符串，用以表示不同 &lt;strong&gt;Player&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;menu/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; AcGameMenu{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    add_listening_events() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$single_mode.click(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;function&lt;/span&gt;(){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            outer.hide();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            outer.root.playground.show(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;single mode&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.$multi_mode.click(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;function&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            outer.hide();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            outer.root.playground.show(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;multi mode&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;playground/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Playground {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    show(mode) {    &lt;span style=&#34;color:#007f7f&#34;&gt;// 打开 playground 界面
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.players.push(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;new&lt;/span&gt; Player(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.width / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt; / &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.scale, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.5&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.05&lt;/span&gt;, &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;white&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.15&lt;/span&gt;, &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;me&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.root.settings.username, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.root.settings.photo)));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (mode === &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;single mode&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;for&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; i = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;5&lt;/span&gt;; i ++ ) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.players.push(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;new&lt;/span&gt; Player(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.width / &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;2&lt;/span&gt; / &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.scale, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.5&lt;/span&gt;, &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.05&lt;/span&gt;, &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.get_random_color(), &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0.15&lt;/span&gt;, &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;robot&amp;#34;&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (mode === &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;multi mode&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;playground/player/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Player &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;extends&lt;/span&gt; AcGameObject {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    constructor(playground, x, y, radius, color, speed, character, username, photo) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.character = character;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.username = username;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.photo = photo;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.character !== &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;robot&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.img = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;new&lt;/span&gt; Image();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.img.src = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.photo;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#007f7f&#34;&gt;// 同理，根据对应的逻辑，修改后面所有的 is_me 为 character
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;django_channels&#34;&gt;Django_channels&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.jianshu.com/p/bcefda55bce4&#34;&gt;谈谈Websocket &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.cnblogs.com/dreamroute/p/6247726.html&#34;&gt;HTTP/TCP&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;django_channels是什么&#34;&gt;Django_channels是什么？&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Django_Channels 是一个为Django 提供异步扩展的库，通常主要用来提供WebSocket 支持和后台任务&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;WSS&lt;/code&gt; 是 &lt;code&gt;Web Socket&lt;/code&gt; 协议的安全模式，支持 &lt;code&gt;C/S&lt;/code&gt; 下的双向通信（HTTP协议只支持单向通信）&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;配置django_channels&#34;&gt;配置Django_channels&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;安装 &lt;code&gt;channels_redis&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;pip install channels_redis
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;配置 &lt;code&gt;acapp/asgi.py&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;import os

from channels.auth import AuthMiddlewareStack
from channels.routing import ProtocolTypeRouter, URLRouter
from django.core.asgi import get_asgi_application
from game.routing import websocket_urlpatterns

os.environ.setdefault(&amp;#39;DJANGO_SETTINGS_MODULE&amp;#39;, &amp;#39;acapp.settings&amp;#39;)

application = ProtocolTypeRouter({
    &amp;#34;http&amp;#34;: get_asgi_application(),
    &amp;#34;websocket&amp;#34;: AuthMiddlewareStack(URLRouter(websocket_urlpatterns))
})
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;配置 &lt;code&gt;acapp/settings.py&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;在 &lt;code&gt;INSTALLED_APPS&lt;/code&gt; 中添加 &lt;code&gt;channels&lt;/code&gt; ，添加后如下所示：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;INSTALLED_APPS = [ 
    &amp;#39;channels&amp;#39;,
    &amp;#39;game.apps.GameConfig&amp;#39;,
    &amp;#39;django.contrib.admin&amp;#39;,
    &amp;#39;django.contrib.auth&amp;#39;,
    &amp;#39;django.contrib.contenttypes&amp;#39;,
    &amp;#39;django.contrib.sessions&amp;#39;,
    &amp;#39;django.contrib.messages&amp;#39;,
    &amp;#39;django.contrib.staticfiles&amp;#39;,
]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;然后在文件末尾添加：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ASGI_APPLICATION = &amp;#39;acapp.asgi.application&amp;#39;
CHANNEL_LAYERS = {
    &amp;#34;default&amp;#34;: {
        &amp;#34;BACKEND&amp;#34;: &amp;#34;channels_redis.core.RedisChannelLayer&amp;#34;,
        &amp;#34;CONFIG&amp;#34;: {
            &amp;#34;hosts&amp;#34;: [(&amp;#34;127.0.0.1&amp;#34;, 6379)],
        },
    },
}
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;配置 &lt;code&gt;game/routing.py&lt;/code&gt;
这一部分的作用相当于 &lt;code&gt;http&lt;/code&gt; 的 &lt;code&gt;urls&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;内容如下：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;from django.urls import path

websocket_urlpatterns = [
]
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;编写 &lt;code&gt;game/consumers&lt;/code&gt;
这一部分的作用相当于 &lt;code&gt;http&lt;/code&gt; 的 &lt;code&gt;views&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;参考示例：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;consumers/multiplayer/index.py&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;from channels.generic.websocket import AsyncWebsocketConsumer
import json

class MultiPlayer(AsyncWebsocketConsumer):
    async def connect(self):
        await self.accept()
        print(&amp;#39;accept&amp;#39;)

        self.room_name = &amp;#34;room&amp;#34;
        await self.channel_layer.group_add(self.room_name, self.channel_name)

    async def disconnect(self, close_code):
        print(&amp;#39;disconnect&amp;#39;)
        await self.channel_layer.group_discard(self.room_name, self.channel_name);


    async def receive(self, text_data):
        data = json.loads(text_data)
        print(data)
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;启动 &lt;code&gt;django_channels&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;在 &lt;code&gt;~/acapp&lt;/code&gt; 目录下执行：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;daphne -b 0.0.0.0 -p 5015 acapp.asgi:application
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;建立 &lt;strong&gt;WSS&lt;/strong&gt; 连接&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;game/routing.py&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;from django.urls import path
from game.consumers.multiplayer.index import MultiPlayer

websocket_urlpatterns = [
    path(&amp;#34;wss/multiplayer/&amp;#34;, MultiPlayer.as_asgi(), name=&amp;#34;wss_multiplayer&amp;#34;),
]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;playground/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class AcGamePlayground {
    ...
    show(mode) {    // 打开 playground 界面
        ...
        if (mode === &amp;#34;single mode&amp;#34;) {
            ...
        } else if (mode === &amp;#34;multi mode&amp;#34;) {
            this.mps = new MultiPlayerSocket(this);
            this.mps.ws.onopen = function() {
                outer.mps.send_create_player();
            };
        }

    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;playground/socket/multiplayer/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class MultiPlayerSocket {
    constructor(playground) {
        this.playground = playground;
        this.ws = new WebSocket(&amp;#34;wss://app1117.acapp.acwing.com.cn/wss/multiplayer/&amp;#34;);
        this.start();
    }
    start() {
    }
    send_create_player() {
        this.ws.send(JSON.stringify({
            &amp;#39;message&amp;#39;: &amp;#39;hello acapp server&amp;#39;,
        }));
    }
    receive_create_player() {
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;编写同步函数&#34;&gt;编写同步函数&lt;/h2&gt;
&lt;p&gt;一共需要完成四个通信：&lt;/p&gt;
&lt;p&gt;（通信的逻辑基本都是先在本地完成，然后将结果返回给服务器，服务器再分发给其他客户端，达成同步）&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;create-player&lt;/strong&gt; : 在所有玩家的游戏界面，创建一个新加入的玩家&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;move-to&lt;/strong&gt; : 在所有玩家的游戏界面，将一个角色移动到一个位置&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;shoot-fireball&lt;/strong&gt; : 在所有玩家的游戏界面，让一个角色发射一个火球&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;attack&lt;/strong&gt; : 在所有玩家的游戏界面，让一个角色被攻击&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;一场游戏里，所有的元素（玩家，火球等）都需要唯一的标识，来方便同步&lt;/p&gt;
&lt;p&gt;为此，我们可以直接修改一下游戏引擎，对于每个元素都创建我们需要的唯一标识&lt;/p&gt;
&lt;p&gt;&lt;code&gt;playground/ac-game-object/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; AcGameObject {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    constructor() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.uuid = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.create_uuid();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    create_uuid() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; res = &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;for&lt;/span&gt; (&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; i = &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;8&lt;/span&gt;; i ++ ) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; x = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;parseInt&lt;/span&gt;(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.floor(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;Math&lt;/span&gt;.random() * &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;10&lt;/span&gt;));   &lt;span style=&#34;color:#007f7f&#34;&gt;// [0, 10)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#007f7f&#34;&gt;&lt;/span&gt;            res += x;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; res;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;playground/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; AcGamePlayground {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    show(mode) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (mode === &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;single mode&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;if&lt;/span&gt; (mode === &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;multi mode&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.mps = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;new&lt;/span&gt; MultiPlayerSocket(&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.mps.uuid = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.players[&lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;].uuid;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.mps.ws.onopen = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;function&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                outer.mps.send_create_player();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;playground/socket/multiplayer/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; MultiPlayerSocket {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    send_create_player() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;let&lt;/span&gt; outer = &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;this&lt;/span&gt;.ws.send(JSON.stringify({
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;event&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;create_player&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;uuid&amp;#39;&lt;/span&gt;: outer.uuid,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;接着，利用通信的方式，使得每个窗口内，逻辑上相同的元素，其 &lt;code&gt;uid&lt;/code&gt; 也相同即可&lt;/p&gt;
&lt;p&gt;原则是：哪个窗口创建的元素，就用他创建时的 &lt;code&gt;uid&lt;/code&gt; 作为整个项目运行时的 &lt;code&gt;uid&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;然后，我们打算用 &lt;strong&gt;redis&lt;/strong&gt; 来实现存储每个游戏房间，以及元素，并初始默认设定每个房间上限 3 人&lt;/p&gt;
&lt;h3 id=&#34;create-player&#34;&gt;create-player&lt;/h3&gt;
&lt;h4 id=&#34;前端&#34;&gt;前端&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;game/static/js/src/playground/socket/multiplayer/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class MultiPlayerSocket {
    constructor(playground) {
        this.playground = playground;

        this.ws = new WebSocket(&amp;#34;wss://app1117.acapp.acwing.com.cn/wss/multiplayer/&amp;#34;);

        this.start();
    }
    start() {
        this.receive();
    }
    receive() {
        let outer = this;
        this.ws.onmessage = function(e) {
            let data = JSON.parse(e.data);
            let uuid = data.uuid;
            if (uuid === outer.uuid) return false;

            let event = data.event;
            if (event === &amp;#34;create_player&amp;#34;) {
                outer.receive_create_player(uuid, data.username, data.photo);
            }
        };
    }
    send_create_player(username, photo) {
        let outer = this;
        this.ws.send(JSON.stringify({
            &amp;#39;event&amp;#39;: &amp;#39;create_player&amp;#39;,
            &amp;#39;uuid&amp;#39;: outer.uuid,
            &amp;#39;username&amp;#39;: username,
            &amp;#39;photo&amp;#39;: photo,
        }));
    }
    receive_create_player(uuid, username, photo) {
        let player = new Player(
            this.playground,
            this.playground.width / 2 / this.playground.scale,
            0.5,
            0.05,
            &amp;#34;white&amp;#34;,
            0.15,
            &amp;#34;enemy&amp;#34;,
            username,
            photo,
        );
        player.uuid = uuid;
        this.playground.players.push(player);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;后端&#34;&gt;后端&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;settings.py&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;...
ROOM_CAPACITY = 3
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;consumers/multiplayer/index.py&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;from channels.generic.websocket import AsyncWebsocketConsumer
import json
from django.conf import settings
from django.core.cache import cache

class MultiPlayer(AsyncWebsocketConsumer):
    async def connect(self):
        self.room_name = None
        for i in range(1000):   # 上限 1k 个房间
            name = &amp;#34;room-%d&amp;#34; % (i)
            # 当前房间为空，或房间内玩家人数不到 ROOM_CAPACITY
            if not cache.has_key(name) or len(cache.get(name)) &amp;lt; settings.ROOM_CAPACITY:
                self.room_name = name
                break
        if not self.room_name:
            return

        await self.accept()

        if not cache.has_key(self.room_name):   # 如果房间不存在，则新建房间
            cache.set(self.room_name, [], 3600) # 有效期 1 小时

        for player in cache.get(self.room_name):    # 对该房间已存在的用户，创建到新加入的用户的游戏界面中
            await self.send(text_data=json.dumps({
                &amp;#39;event&amp;#39;: &amp;#34;create_player&amp;#34;,
                &amp;#39;uuid&amp;#39;: player[&amp;#39;uuid&amp;#39;],
                &amp;#39;username&amp;#39;: player[&amp;#39;username&amp;#39;],
                &amp;#39;photo&amp;#39;: player[&amp;#39;photo&amp;#39;],
            }))
        await self.channel_layer.group_add(self.room_name, self.channel_name)

    async def disconnect(self, close_code):
        print(&amp;#39;disconnect&amp;#39;)
        await self.channel_layer.group_discard(self.room_name, self.channel_name);

    async def create_player(self, data):
        players = cache.get(self.room_name)
        players.append({
            &amp;#39;uuid&amp;#39;: data[&amp;#39;uuid&amp;#39;],
            &amp;#39;username&amp;#39;: data[&amp;#39;username&amp;#39;],
            &amp;#39;photo&amp;#39;: data[&amp;#39;photo&amp;#39;],
        })
        cache.set(self.room_name, players, 3600) # 更新房间存在时间为 1 小时（最后一次加入一名玩家时）
        # 群发消息更新
        await self.channel_layer.group_send(
            self.room_name,
            {
                &amp;#39;type&amp;#39;: &amp;#34;group_create_player&amp;#34;,  # 群发该消息后，作为客户端接受者，所接受用的函数名
                &amp;#39;event&amp;#39;: &amp;#34;create_player&amp;#34;,
                &amp;#39;uuid&amp;#39;: data[&amp;#39;uuid&amp;#39;],
                &amp;#39;username&amp;#39;: data[&amp;#39;username&amp;#39;],
                &amp;#39;photo&amp;#39;: data[&amp;#39;photo&amp;#39;],
            }
        )
    async def group_create_player(self, data):
        await self.send(text_data=json.dumps(data))

    async def receive(self, text_data):
        data = json.loads(text_data)
        event = data[&amp;#39;event&amp;#39;]
        if event == &amp;#34;create_player&amp;#34;:
            await self.create_player(data)
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;redis-调试语句&#34;&gt;redis 调试语句&lt;/h4&gt;
&lt;p&gt;打开 shell 交互&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;python3 manage.py shell
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;然后用 py3 交互进行 cache 调试&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;from django.core.cache import cache

def clear():
    for key in cache.keys(&amp;#39;*&amp;#39;):
        cache.delete(key)

cache.keys(&amp;#39;*&amp;#39;) # 查询当前 redis 中所有 key

cache.get(&amp;#39;room-1&amp;#39;) # 查询当前 redis 中 key 为 room-1 的值
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;到目前为止，便可以在不同的窗口渲染同一批玩家了&lt;/p&gt;
&lt;h3 id=&#34;move-to&#34;&gt;move-to&lt;/h3&gt;
&lt;h4 id=&#34;前端-1&#34;&gt;前端&lt;/h4&gt;
&lt;p&gt;客户端的通信的发出和接受函数&lt;/p&gt;
&lt;p&gt;&lt;code&gt;game/static/js/src/playground/socket/multiplayer/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class MultiPlayerSocket {
    ...
    receive() {
        let outer = this;
        this.ws.onmessage = function(e) {
            ...
            else if (event === &amp;#34;move_to&amp;#34;) {
                outer.receive_move_to(uuid, data.tx, data.ty);
            }
        };
    }
    send_move_to(tx, ty) {
        let outer = this;
        this.ws.send(JSON.stringify({
            &amp;#39;event&amp;#39;: &amp;#39;move_to&amp;#39;,
            &amp;#39;uuid&amp;#39;: outer.uuid,
            &amp;#39;tx&amp;#39;: tx,
            &amp;#39;ty&amp;#39;: ty,
        }));
    }
    get_player(uuid) {
        let players = this.playground.players;
        for (let i = 0; i &amp;lt; players.length; i ++ ) {
            let player = players[i];
            if (player.uuid === uuid) {
                return player;
            }
        }
        return null;
    }
    receive_move_to(uuid, tx, ty) {
        let player = this.get_player(uuid);
        if (player) {
            player.move_to(tx, ty);
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;为了让游戏界面中对于要移动的元素做出移动动作，需要对 &lt;code&gt;move_to&lt;/code&gt; 函数做出一些修改&lt;/p&gt;
&lt;p&gt;首先要标识出当前为多人模式，然后模式为多人模式时，每次移动都会触发一次通信&lt;/p&gt;
&lt;p&gt;&lt;code&gt;playground/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class AcGamePlayground {
    ...
    show(mode) {
        ...
        this.mode = mode;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;playground/player/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class Player extends AcGameObject {
    ...
    add_listening_events() {
      ...
       this.playground.game_map.$canvas.mousedown(function(e) {
           ...
           if (e.which === 3) {
               let tx = (e.clientX - rect.left) / outer.playground.scale;
               let ty = (e.clientY - rect.top) / outer.playground.scale;
               outer.move_to(tx, ty);
               if (outer.playground.mode === &amp;#34;multi mode&amp;#34;) {
                   outer.playground.mps.send_move_to(tx, ty);
               }
           }
           ...
   }
   ...
}
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;后端-1&#34;&gt;后端&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;consumers/multiplayer/index.py&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;async def move_to(self, data):
    await self.channel_layer.group_send(
        self.room_name,
        {
            &amp;#39;type&amp;#39;: &amp;#34;group_send_event&amp;#34;,
            &amp;#39;event&amp;#39;: &amp;#34;move_to&amp;#34;,
            &amp;#39;uuid&amp;#39;: data[&amp;#39;uuid&amp;#39;],
            &amp;#39;tx&amp;#39;: data[&amp;#39;tx&amp;#39;],
            &amp;#39;ty&amp;#39;: data[&amp;#39;ty&amp;#39;],
        }
    )

async def group_send_event(self, data):
    await self.send(text_data=json.dumps(data))

async def receive(self, text_data):
    data = json.loads(text_data)
    event = data[&amp;#39;event&amp;#39;]
    if event == &amp;#34;create_player&amp;#34;:
        await self.create_player(data)
    elif event == &amp;#34;move_to&amp;#34;:
        await self.move_to(data)
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;shoot-fireball&#34;&gt;shoot-fireball&lt;/h3&gt;
&lt;h4 id=&#34;前端-2&#34;&gt;前端&lt;/h4&gt;
&lt;p&gt;用一个数组来存一个玩家发射的所有火球，以便于子弹消失时，将他们找出并对应删掉&lt;/p&gt;
&lt;p&gt;&lt;code&gt;playground/player/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class Player extends AcGameObject {
    constructor(playground, x, y, radius, color, speed, character, username, photo) {
        ...
        this.fireballs = [];    // 存该用户发射的所有火球
    }
    add_listening_events() {
        ...
        this.playground.game_map.$canvas.mousedown(function(e) {
            ...
            else if (e.which === 1) {
                let tx = (e.clientX - rect.left) / outer.playground.scale;
                let ty = (e.clientY - rect.top) / outer.playground.scale;
                if (outer.cur_skill === &amp;#34;fireball&amp;#34;) {
                    let fireball = outer.shoot_fireball(tx, ty);
                    if (outer.playground.mode === &amp;#34;multi mode&amp;#34;) {
                        outer.playground.mps.send_shoot_fireball(tx, ty, fireball.uuid);
                    }
                }
            }
            ...
        });
        $(window).keydown(function(e) {
            if (e.which === 81) {           // 键盘按下q事件
                outer.cur_skill = &amp;#34;fireball&amp;#34;;
                return false;
            }
        });
    }
    ...
    shoot_fireball(tx, ty) {
        ...

        let fireball = new FireBall(this.playground, this, x, y, radius, vx, vy, color, speed, move_length, damage);
        this.fireballs.push(fireball);
        return fireball;
    }
    destroy_fireball(uuid) {
        for (let i = 0; i &amp;lt; this.fireballs.length; i ++ ) {
            let fireball = this.fireballs[i];
            if (fireball.uuid == uuid) {
                fireball.destroy();
                break;
            }
        }
    }
    ...
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;playground/skill/fireball/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class FireBall extends AcGameObject {
    ...
    on_destory() {
        let fireballs = this.player.fireballs;
        for (let i = 0; i &amp;lt; fireballs.length; i ++ ) {
            if (fireballs[i] === this) {
                fireballs.splice(i, 1);
                break;
            }
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;game/static/js/src/playground/socket/multiplayer/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class MultiPlayerSocket {
    ...
    send_shoot_fireball(tx, ty, ball_uuid) {
        let outer = this;
        this.ws.send(JSON.stringify({
            &amp;#39;event&amp;#39;: &amp;#39;move_to&amp;#39;,
            &amp;#39;uuid&amp;#39;: outer.uuid,
            &amp;#39;tx&amp;#39;: tx,
            &amp;#39;ty&amp;#39;: ty,
            &amp;#39;ball_uuid&amp;#39;: ball_uuid;
        }));
    }
    receive_shoot_fireball(uuid, tx, ty, ball_uuid) {
        let player = this.get_player(uuid);
        if (player) {
            let fireball = player.shoot_fireball(tx, ty);
            fireball.uuid = ball_uuid;
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;后端-2&#34;&gt;后端&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;consumers/multiplayer/index.py&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;...
class MultiPlayer(AsyncWebsocketConsumer):
    ...
    async def shoot_fireball(self, data):
        await self.channel_layer.group_send(
            self.room_name,
            {
                &amp;#39;type&amp;#39;: &amp;#34;group_send_event&amp;#34;,
                &amp;#39;event&amp;#39;: &amp;#34;shoot_fireball&amp;#34;,
                &amp;#39;uuid&amp;#39;: data[&amp;#39;uuid&amp;#39;],
                &amp;#39;tx&amp;#39;: data[&amp;#39;tx&amp;#39;],
                &amp;#39;ty&amp;#39;: data[&amp;#39;ty&amp;#39;],
                &amp;#39;ball_uuid&amp;#39;: data[&amp;#39;ball_uuid&amp;#39;],
            }
        )
    async def receive(self, text_data):
        ...
        elif event == &amp;#34;shoot_fireball&amp;#34;:
            await self.shoot_fireball(data)
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;attack&#34;&gt;attack&lt;/h3&gt;
&lt;p&gt;为了只让一个客户端进行攻击命中的判断，因此只有发出方的火球才做碰撞检测&lt;/p&gt;
&lt;p&gt;其他客户端对于该火球只有动画效果&lt;/p&gt;
&lt;p&gt;又由于碰撞检测是在一台客户端上进行的，因此多端之间可能会存在同步上的延迟&lt;/p&gt;
&lt;p&gt;为此的解决方法是：碰撞检测成功时，强制把被击中玩家移动到发起方客户端中的位置，以避免击中延迟上发生的事情&lt;/p&gt;
&lt;h4 id=&#34;前端-3&#34;&gt;前端&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;playground/skill/fireball/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class FireBall extends AcGameObject {
    update() {
        if (this.move_length &amp;lt; this.eps) {
            this.destroy();
            return false;
        }
        this.update_move();

        if (this.player.character !== &amp;#34;enemy&amp;#34;) {
            this.update_attack();
        }
        this.render();
    }
    attack(player) {
        ...
        if (this.playground.mode === &amp;#34;multi mode&amp;#34;) {
            this.playground.mps.send_attack(player.uuid, player.x, player.y, angle, this.damage, this.uuid);
        }
        ...
    }
    ...
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;playground/player/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class Player extends AcGameObject {
    ...
    receive_attack(x, y, angle, damage, ball_uuid, attacker) {
        attacker.destroy_fireball(ball_uuid);
        this.x = x;
        this.y = y;
        this.is_attacked(angle, damage);
    }
    ...
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;game/static/js/src/playground/socket/multiplayer/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class MultiPlayerSocket {
    ...
    send_attack(attackee_uuid, x, y, angle, damage, ball_uuid) {
        let outer = this;
        this.ws.send(JSON.stringify({
            &amp;#39;event&amp;#39;: &amp;#34;attack&amp;#34;,
            &amp;#39;uuid&amp;#39;: outer.uuid,
            &amp;#39;attackee_uuid&amp;#39;: attackee_uuid,
            &amp;#39;x&amp;#39;: x,
            &amp;#39;y&amp;#39;: y,
            &amp;#39;angle&amp;#39;: angle,
            &amp;#39;damage&amp;#39;: damage,
            &amp;#39;ball_uuid&amp;#39;: ball_uuid,
        }));
    }
    receive_attack(uuid, attackee_uuid, x, y, angle, damage, ball_uuid) {
        let attacker = this.get_player(uuid);
        let attackee = this.get_player(attackee_uuid);
        if (attacker &amp;amp;&amp;amp; attackee) {
            attackee.receive_attack(x, y, angle, damage, ball_uuid, attacker);
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;后端-3&#34;&gt;后端&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;consumers/multiplayer/index.py&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;...
class MultiPlayer(AsyncWebsocketConsumer):
    ...
    async def attack(self, data):
        await self.channel_layer.group_send(
            self.room_name,
            {
                &amp;#39;type&amp;#39;: &amp;#34;group_send_event&amp;#34;,
                &amp;#39;event&amp;#39;: &amp;#34;attack&amp;#34;,
                &amp;#39;uuid&amp;#39;: data[&amp;#39;uuid&amp;#39;],
                &amp;#39;x&amp;#39;: data[&amp;#39;x&amp;#39;],
                &amp;#39;y&amp;#39;: data[&amp;#39;y&amp;#39;],
                &amp;#39;angle&amp;#39;: data[&amp;#39;angle&amp;#39;],
                &amp;#39;damage&amp;#39;: data[&amp;#39;damage&amp;#39;],
                &amp;#39;ball_uuid&amp;#39;: data[&amp;#39;ball_uuid&amp;#39;],
            }
        )
    ...
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;游戏的小优化&#34;&gt;游戏的小优化&lt;/h2&gt;
&lt;h3 id=&#34;多人模式下游戏没有开始前玩家不可以移动&#34;&gt;多人模式下游戏没有开始前，玩家不可以移动&lt;/h3&gt;
&lt;p&gt;为此我们先引入一个状态机：&lt;code&gt;&#39;waiting&#39; -&amp;gt; &#39;fighting&#39; -&amp;gt; &#39;over&#39;&lt;/code&gt; 来标识当前游戏进行的状态&lt;/p&gt;
&lt;p&gt;然后用一个 &lt;code&gt;notice_board&lt;/code&gt; 计分板在前端显示出来&lt;/p&gt;
&lt;p&gt;实现的逻辑就是：游戏初始时为 &lt;code&gt;waiting&lt;/code&gt; 状态，房间内人数满 3 人时，才会进入 &lt;code&gt;fighting&lt;/code&gt;，角色死亡时为 &lt;code&gt;over&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;且发射火球，移动等行为，当且仅当玩家状态为 &lt;code&gt;fighting&lt;/code&gt; 时，才可以做&lt;/p&gt;
&lt;p&gt;然后设定火球技能的 cd 为 3 秒，且在游戏进入 &lt;code&gt;fighting&lt;/code&gt; 时，先自动进入 cd 状态&lt;/p&gt;
&lt;p&gt;这样就实现了初始 3 秒内，任何玩家不可攻击&lt;/p&gt;
&lt;p&gt;&lt;code&gt;js/src/playground/notice_board/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class NoticeBoard extends AcGameObject {
    constructor(playground) {
        super();

        this.playground = playground;
        this.ctx = this.playground.game_map.ctx;
        this.text = &amp;#34;已就绪：0人&amp;#34;;
    }
    start() {
    }

    write(text) {
        this.text = text;
    }

    update() {
        this.render();
    }

    render() {
        this.ctx.font = &amp;#34;20px serif&amp;#34;;
        this.ctx.fillStyle = &amp;#34;white&amp;#34;;
        this.ctx.textAlign = &amp;#34;center&amp;#34;;
        this.ctx.fillText(this.text, this.playground.width / 2, 20);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;js/src/playground/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class AcGamePlayground {
    ...
    show(mode) {
        ...
        this.state = &amp;#34;waiting&amp;#34;;     // waiting -&amp;gt; fighting -&amp;gt; over
        this.notice_board = new NoticeBoard(this);
        this.player_count = 0;
        ...
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;js/src/playground/player/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class Player extends AcGameObject {
    ...
    add_listening_events() {
        ...
        this.playground.game_map.$canvas.mousedown(function(e) {
            if (outer.playground.state !== &amp;#34;fighting&amp;#34;)
                return false;
            ...
        }
        $(window).keydown(function(e) {
            if (outer.playground.state !== &amp;#34;fighting&amp;#34;)
                return false;
            ...
        });
    }
    start() {
        this.playground.player_count ++ ;
        this.playground.notice_board.write(&amp;#34;已就绪：&amp;#34; + this.playground.player_count + &amp;#34;人&amp;#34;);
        if (this.playground.player_count &amp;gt;= 3) {
            this.playground.state = &amp;#34;fighting&amp;#34;;
            this.playground.notice_board.write(&amp;#34;Fighting&amp;#34;);
        }
        ...
    }
    ...
}
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;技能cd&#34;&gt;技能CD&lt;/h3&gt;
&lt;p&gt;给火球技能设置 3s 的 cd，实现逻辑很简单，设定一个 cool_time 变量，每次渲染的时候减去上次渲染的时间间隔&lt;/p&gt;
&lt;p&gt;然后 cool_time 为 0 时，技能才可以成功释放&lt;/p&gt;
&lt;p&gt;另外修改冷却时间，只用修改自己的即可&lt;/p&gt;
&lt;p&gt;&lt;code&gt;js/src/playground/player/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class Player extends AcGameObject {
    constructor(...) {
        ...
        if (this.character === &amp;#34;me&amp;#34;) {
            this.fireball_coldtime = 3; // 单位：s
        }
    }
    ...
    add_listening_events() {
        ...
        this.playground.game_map.$canvas.mousedown(function(e) {
            ...
            else if (e.which === 1) {
                ...
                if (outer.cur_skill === &amp;#34;fireball&amp;#34;) {
                    ...
                    if (outer.playground.mode === &amp;#34;multi mode&amp;#34;) {
                        outer.playground.mps.send_shoot_fireball(tx, ty, fireball.uuid);
                    }
                    outer.fireball_coldtime = 3;
                }
            }
            ...
        });
        $(window).keydown(function(e) {
            ...
            if (outer.fireball_coldtime &amp;gt;= outer.eps)
                return false;
            ...
        });
    }
    update() {
        ...
        if (this.character === &amp;#34;me&amp;#34; &amp;amp;&amp;amp; this.playground.state === &amp;#34;fighting&amp;#34;) {
            this.update_coldtime();
        }
        ...
    }
    update_coldtime() {
        this.fireball_coldtime -= this.timedelta / 1000;
        this.fireball_coldtime = Math.max(0, this.fireball_coldtime);
    }
    ...
}
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;用图片来渲染技能cd&#34;&gt;用图片来渲染技能CD&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;js/src/playground/player/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class Player extends AcGameObject {
    constructor(...) {
        ...
        if (this.character === &amp;#34;me&amp;#34;) {
            this.fireball_coldtime = 3; // 单位：s
            this.fireball_img = new Image();
            this.fireball_img.src = &amp;#34;https://cdn.acwing.com/media/article/image/2021/12/02/1_9340c86053-fireball.png&amp;#34;;
        }
    }
    ...
    render() {
        ...
        if (this.character === &amp;#34;me&amp;#34; &amp;amp;&amp;amp; this.playground.state === &amp;#34;fighting&amp;#34;) {
            this.render_skill_coldtime();
        }
    }
     render_skill_coldtime() {
        let scale = this.playground.scale;
        let x = 1.5, y = 0.9, r = 0.04;

        // 渲染技能图标
        this.ctx.save();
        this.ctx.beginPath();
        this.ctx.arc(x * scale, y * scale, r * scale, 0, Math.PI * 2, false);
        this.ctx.stroke();
        this.ctx.clip();
        this.ctx.drawImage(this.fireball_img, (x - r) * scale, (y - r) * scale, r * 2 * scale, r * 2 * scale);
        this.ctx.restore();

        // 渲染冷却指示
        if (this.fireball_coldtime &amp;gt;= this.eps){
            this.ctx.beginPath();
            this.ctx.moveTo(x * scale, y * scale);
            this.ctx.arc(x * scale, y * scale, r * scale, 0 - Math.PI / 2, Math.PI * 2 * (1 - this.fireball_coldtime / 3) - Math.PI / 2, true);
            this.ctx.lineTo(x * scale, y * scale);
            this.ctx.fillStyle = &amp;#34;rgba(0, 0, 255, 0.6)&amp;#34;;
            this.ctx.fill();
        }
    }
    ...
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;添加一个闪现技能&#34;&gt;添加一个闪现技能&lt;/h3&gt;
&lt;h4 id=&#34;单机部分&#34;&gt;单机部分&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;js/src/playground/player/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class Player extends AcGameObject {
    constructor(...) {
        ...
        if (this.character === &amp;#34;me&amp;#34;) {
            ...
            this.blink_coldtime = 5;
            this.blink_img = new Image();
            this.blink_img.src = &amp;#34;https://cdn.acwing.com/media/article/image/2021/12/02/1_daccabdc53-blink.png&amp;#34;;
        }
    }
    add_listening_events() {
        ...
        this.playground.game_map.$canvas.mousedown(function(e) {
            ...
            else if (e.which === 1) {
                ...
                else if (outer.cur_skill === &amp;#34;blink&amp;#34;) {
                    outer.blink(tx, ty);
                    // 同步函数
                    if (outer.playground.mode === &amp;#34;multi mode&amp;#34;) {
                        outer.playground.mps.send_blink(tx, ty);
                    }
                    outer.blink_coldtime = 5;
                }
            }
            outer.cur_skill = null; // 清空当前技能
        });
        $(window).keydown(function(e) {
            ...
            else if (e.which === 70) {    // f键
                if (outer.blink_coldtime &amp;gt;= outer.eps) return true;
                outer.cur_skill = &amp;#34;blink&amp;#34;;
                return false;
            }
        });
    }
    ...
    blink(tx, ty) {
        let d = this.get_dist(this.x, this.y, tx, ty);
        d = Math.min(d, 0.5);
        let angle = Math.atan2(ty - this.y, tx - this.x);
        this.x += d * Math.cos(angle);
        this.y += d * Math.sin(angle);

        this.move_length = 0;   // 闪现完停下来
    }
    ...
    render_skill_coldtime() {
        ...
        x = 1.62, y = 0.9, r = 0.04;
        // 闪现技能
        // 渲染技能图标
        this.ctx.save();
        this.ctx.beginPath();
        this.ctx.arc(x * scale, y * scale, r * scale, 0, Math.PI * 2, false);
        this.ctx.stroke();
        this.ctx.clip();
        this.ctx.drawImage(this.blink_img, (x - r) * scale, (y - r) * scale, r * 2 * scale, r * 2 * scale);
        this.ctx.restore();

        // 渲染冷却指示
        if (this.blink_coldtime &amp;gt;= this.eps){
            this.ctx.beginPath();
            this.ctx.moveTo(x * scale, y * scale);
            this.ctx.arc(x * scale, y * scale, r * scale, 0 - Math.PI / 2, Math.PI * 2 * (1 - this.blink_coldtime / 5) - Math.PI / 2, true);
            this.ctx.lineTo(x * scale, y * scale);
            this.ctx.fillStyle = &amp;#34;rgba(0, 0, 255, 0.6)&amp;#34;;
            this.ctx.fill();
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;联机部分&#34;&gt;联机部分&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;game/static/js/src/playground/socket/multiplayer/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class MultiPlayerSocket {
    ...
    send_blink(tx, ty) {
        let outer = this;
        this.ws.send(JSON.stringify({
            &amp;#39;event&amp;#39;: &amp;#34;blink&amp;#34;,
            &amp;#39;uuid&amp;#39;: outer.uuid,
            &amp;#39;tx&amp;#39;: tx,
            &amp;#39;ty&amp;#39;: ty,
        }));
    }
    receive_blink(uuid, tx, ty) {
        let player = this.get_player(uuid);
        if (player) {
            player.blink(tx, ty);
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;consumers/multiplayer/index.py&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;...
class MultiPlayer(AsyncWebsocketConsumer):
    ...
    async def blink(self, data):
        await self.channel_layer.group_send(
            self.room_name,
            {
                &amp;#39;type&amp;#39;: &amp;#34;group_send_event&amp;#34;,
                &amp;#39;event&amp;#39;: &amp;#34;blink&amp;#34;,
                &amp;#39;uuid&amp;#39;: data[&amp;#39;uuid&amp;#39;],
                &amp;#39;tx&amp;#39;: data[&amp;#39;tx&amp;#39;],
                &amp;#39;ty&amp;#39;: data[&amp;#39;ty&amp;#39;],
            }
        )
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&#34;实现聊天系统ஐ&#34;&gt;实现聊天系统ஐ&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/solution/content/89508/&#34;&gt;8.1 上课笔记 | 大菜狗&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;优化键盘绑定事件&#34;&gt;优化键盘绑定事件&lt;/h2&gt;
&lt;p&gt;这部分算是之前的遗留问题，先前的 &lt;code&gt;keydown&lt;/code&gt; 监听事件绑定在了 &lt;code&gt;window&lt;/code&gt; 上会出现一个问题&lt;/p&gt;
&lt;p&gt;如果在一个浏览器内打开多个 &lt;code&gt;ACAPP&lt;/code&gt;，此时按下键位触发 &lt;code&gt;keydown&lt;/code&gt; 事件，会被浏览器内所有的 &lt;code&gt;ACAPP&lt;/code&gt; 都捕获到&lt;/p&gt;
&lt;p&gt;之前影响不大，但对此次要实现的聊天系统就有着致命的影响，即打开一个 &lt;code&gt;ACAPP&lt;/code&gt; 的聊天栏，其他都会被打开&lt;/p&gt;
&lt;p&gt;所有我们要将 &lt;code&gt;keydown&lt;/code&gt; 监听事件绑定到 &lt;code&gt;canvas&lt;/code&gt; 上&lt;/p&gt;
&lt;p&gt;&lt;code&gt;playground/player/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class Player extends AcGameObject {
    ...
    add_listening_events() {
        ...
        this.playground.game_map.$canvas.keydown(function(e) {
            if (outer.playground.state !== &amp;#34;fighting&amp;#34;)
                return true;
            if (e.which === 81) {           // 键盘按下q事件
                if (outer.fireball_coldtime &amp;gt;= outer.eps) return true;
                outer.cur_skill = &amp;#34;fireball&amp;#34;;
                return false;
            } else if (e.which === 70) {    // f键
                if (outer.blink_coldtime &amp;gt;= outer.eps) return true;
                outer.cur_skill = &amp;#34;blink&amp;#34;;
                return false;
            }
        });
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;playground/game-map/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class GameMap extends AcGameObject {
    constructor(playground) {
        ...
        this.$canvas = $(`&amp;lt;canvas tabindex=0&amp;gt;&amp;lt;/canvas&amp;gt;`);
        ...
    }
    start() {
        this.$canvas.focus();
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;本地前端&#34;&gt;本地前端&lt;/h2&gt;
&lt;p&gt;要实现两个部分： 1. 文本输入框（让用户输入要发送的信息） 2. 历史记录显示框（之前用户发送的信息的显示框）&lt;/p&gt;
&lt;p&gt;欲实现逻辑：用户按下 &lt;code&gt;&amp;lt;Enter&amp;gt;&lt;/code&gt; 后，游戏界面弹出文本输入框，然后聚焦于文本输入框，且同时弹出历史记录显示框 3 秒&lt;/p&gt;
&lt;p&gt;然后用户输入信息后，按下 &lt;code&gt;&amp;lt;Enter&amp;gt;&lt;/code&gt; 后发出信息，接着信息会显示在历史记录显示框最下方，并弹出历史记录显示框 3 秒&lt;/p&gt;
&lt;p&gt;&lt;code&gt;playground/chat_field/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;chat field&lt;/code&gt; 负责管理 文本输入框 和 历史记录显示框&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class ChatField {
    constructor(playground) {
        this.playground = playground;

        this.$history = $(`&amp;lt;div class=&amp;#34;ac-game-chat-field-history&amp;#34;&amp;gt;&amp;lt;/div&amp;gt;`);
        this.$input = $(`&amp;lt;input type=&amp;#34;text&amp;#34; class=&amp;#34;ac-game-chat-field-input&amp;#34;&amp;gt;`);

        this.$history.hide();
        this.$input.hide();

        this.func_id = null;

        this.playground.$playground.append(this.$history);
        this.playground.$playground.append(this.$input);

        this.start();
    }

    start() {
        this.add_listening_events();
    }
    add_listening_events() {
        let outer = this;
        this.$input.keydown(function(e) {
            if (e.which === 27) {   //ESC
                outer.hide_input();
                return false;
            } else if (e.which === 13) {
                let username = outer.playground.root.settings.username;
                let text = outer.$input.val();
                if (text) {
                    outer.$input.val(&amp;#34;&amp;#34;);
                    outer.add_message(username, text);
                }
                return false;
            }
        });
    }
    show_history() {
        let outer = this;
        this.$history.fadeIn();
        if (this.func_id) clearTimeout(this.func_id);
        this.func_id = setTimeout(function() {
            outer.$history.fadeOut();
            outer.func_id = null;
        }, 3000);
    }
    render_message(message) {
        return $(`&amp;lt;div&amp;gt;${message}&amp;lt;/div&amp;gt;`);
    }
    add_message(username, text) {
        this.show_history();
        let message = `[${username}] ${text}`;
        this.$history.append(this.render_message(message));
        this.$history.scrollTop(this.$history[0].scrollHeight);
    }
    show_input() {
        this.show_history();
        this.$input.show();
        this.$input.focus();    // 输入时，聚焦于输入框
    }
    hide_input() {
        this.$input.hide();
        this.playground.game_map.$canvas.focus();   // 退出时，聚焦回游戏界面
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;playground/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;把它创建出来&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class AcGamePlayground {
    ...
    show(mode) {    //打开 playground 界面
        ...
        else if (mode === &amp;#34;multi mode&amp;#34;) {
            this.chat_field = new ChatField(this);
            ...
        }

    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;playground/player/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;添加监听事件&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class Player extends AcGameObject {
    ...
    add_listening_events() {
        ...
        this.playground.game_map.$canvas.keydown(function(e) {
            if (e.which === 13) {   // enter (显示对话框)
                if (outer.playground.mode === &amp;#34;multi mode&amp;#34;) {
                    outer.playground.chat_field.show_input();
                    return false;
                }
            } else if (e.which === 27) {    // esc（关闭对话框）
                if (outer.playground.mode === &amp;#34;multi mode&amp;#34;) {
                    outer.playground.char_field.hide_input();
                    return false;
                }
            }
            ...
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;game.css&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;...
.ac-game-chat-field-history {
    position: absolute;
    top: 66%;
    left: 20%;
    transform: translate(-50%, -50%);
    width: 20%;
    height: 32%;
    color: white;
    font-size: 2vh;
    padding: 5px;
    overflow: auto;
}

.ac-game-chat-field-history::-webkit-scrollbar {
    width: 0;
}

.ac-game-chat-field-input {
    position: absolute;
    top: 86%;
    left: 20%;
    transform: translate(-50%, -50%);
    width: 20%;
    height: 3vh;
    color: white;
    font-size: 2vh;
    background-color: rgba(222,225,230, 0.2);
}
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;联机聊天窗&#34;&gt;联机聊天窗&lt;/h2&gt;
&lt;h3 id=&#34;前端-4&#34;&gt;前端&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;playground/chat_field/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class ChatField {
    ...
    add_listening_events() {
        ...
        this.$input.keydown(function(e) {
            ...
            else if (e.which === 13) {
                ...
                if (text) {
                    ...
                    outer.playground.mps.send_message(text);
                }
                ...
            }
        });
    }
    ...
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;js/src/playground/socket/multiplayer/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class MultiPlayerSocket {
    ...
    send_message(text) {
        let outer = this;
        this.ws.send(JSON.stringify({
            &amp;#39;event&amp;#39;: &amp;#34;message&amp;#34;,
            &amp;#39;uuid&amp;#39;: outer.uuid,
            &amp;#39;username&amp;#39;: outer.playground.root.settings.username,
            &amp;#39;text&amp;#39;: text,
        }));
    }
    receive_message(username, text) {
        this.playground.chat_field.add_message(username, text);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;后端-4&#34;&gt;后端&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;consumers/multiplayer/index.py&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;...
class MultiPlayer(AsyncWebsocketConsumer):
    ...
    async def message(self, data):
        await self.channel_layer.group_send(
            self.room_name,
            {
                &amp;#39;type&amp;#39;: &amp;#34;group_send_event&amp;#34;,
                &amp;#39;event&amp;#39;: &amp;#34;message&amp;#34;,
                &amp;#39;uuid&amp;#39;: data[&amp;#39;uuid&amp;#39;],
                &amp;#39;username&amp;#39;: data[&amp;#39;username&amp;#39;],
                &amp;#39;text&amp;#39;: data[&amp;#39;text&amp;#39;],
            }
        )
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&#34;实现匹配系统ஐ&#34;&gt;实现匹配系统ஐ&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/file_system/file/content/whole/index/content/3435229/&#34;&gt;9. 实现匹配系统 | 讲义&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.acwing.com/activity/content/code/content/2360556/&#34;&gt;9.1 上课笔记 | 一只野生彩色铅笔&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;本章节内容是利用 &lt;code&gt;thrift&lt;/code&gt; 创建客户端-服务端交互的接口&lt;/p&gt;
&lt;p&gt;然后利用该接口完成一个匹配系统&lt;/p&gt;
&lt;p&gt;匹配系统由一个消息队列 + 生产者-消费者模型 + 匹配池 完成&lt;/p&gt;
&lt;p&gt;基本与 Linux基础课 里的部分完全一致&lt;/p&gt;
&lt;p&gt;当时我们是拿 cpp 来写的，写了差不多 200 行&lt;/p&gt;
&lt;p&gt;本节会拿 py 来实现，差不多 140 行即可&lt;/p&gt;
&lt;p&gt;&lt;code&gt;thrift&lt;/code&gt; 接口文件&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;namespace py match_service

service Match {
    i32 add_player(1: i32 score, 2: string uuid, 3: string username, 4: string photo, 5: string channel_name),
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;然后用该源文件生成接口文件&lt;/p&gt;
&lt;h2 id=&#34;服务端&#34;&gt;服务端&lt;/h2&gt;
&lt;p&gt;配置 &lt;code&gt;asgi.py&lt;/code&gt; 让服务端进程可以调用客户端进程里的函数&lt;/p&gt;
&lt;p&gt;&lt;code&gt;acapp/acapp/asgi.py&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;import os

import django
os.environ.setdefault(&amp;#39;DJANGO_SETTINGS_MODULE&amp;#39;, &amp;#39;acapp.settings&amp;#39;)
django.setup()
...
from channels.layers import get_channel_layer
channel_layer = get_channel_layer()
...
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;acapp/match_system/src/main.py&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;#! /usr/bin/env python3

import glob
import sys
sys.path.insert(0, glob.glob(&amp;#39;../../&amp;#39;)[0])

from match_server.match_service import Match

from thrift.transport import TSocket
from thrift.transport import TTransport
from thrift.protocol import TBinaryProtocol
from thrift.server import TServer

from queue import Queue
from time import sleep
from threading import Thread

from acapp.asgi import channel_layer
from asgiref.sync import async_to_sync
from django.core.cache import cache

queue = Queue()  # 消息队列

class Player:
    def __init__(self, score, uuid, username, photo, channel_name):
        self.score = score
        self.uuid = uuid
        self.username = username
        self.photo = photo
        self.channel_name = channel_name
        self.waiting_time = 0  # 等待时间


class Pool:
    def __init__(self):
        self.players = []

    def add_player(self, player):
        self.players.append(player)

    def check_match(self, a, b):
        dt = abs(a.score - b.score)
        a_max_dif = a.waiting_time * 50
        b_max_dif = b.waiting_time * 50
        return dt &amp;lt;= a_max_dif and dt &amp;lt;= b_max_dif

    def match_success(self, ps):
        print(&amp;#34;Match Success: %s %s %s&amp;#34; % (ps[0].username, ps[1].username, ps[2].username))
        room_name = &amp;#34;room-%s-%s-%s&amp;#34; % (ps[0].uuid, ps[1].uuid, ps[2].uuid)
        players = []
        for p in ps:
            async_to_sync(channel_layer.group_add)(room_name, p.channel_name)
            players.append({
                &amp;#39;uuid&amp;#39;: p.uuid,
                &amp;#39;username&amp;#39;: p.username,
                &amp;#39;photo&amp;#39;: p.photo,
                &amp;#39;hp&amp;#39;: 100,
            })
        cache.set(room_name, players, 3600)  # 有效时间：1小时
        for p in ps:
            async_to_sync(channel_layer.group_send)(
                room_name,
                {
                    &amp;#39;type&amp;#39;: &amp;#34;group_send_event&amp;#34;,
                    &amp;#39;event&amp;#39;: &amp;#34;create_player&amp;#34;,
                    &amp;#39;uuid&amp;#39;: p.uuid,
                    &amp;#39;username&amp;#39;: p.username,
                    &amp;#39;photo&amp;#39;: p.photo,
                }
            )

    def increase_waiting_time(self):
        for player in self.players:
            player.waiting_time += 1

    def match(self):
        while len(self.players) &amp;gt;= 3:
            self.players = sorted(self.players, key=lambda p: p.score)
            flag = False
            for i in range(len(self.players) - 2):
                a, b, c = self.players[i], self.players[i + 1], self.players[i + 2]
                if self.check_match(a, b) and self.check_match(a, c) and self.check_match(b, c):
                    self.match_success([a, b, c])
                    self.players = self.players[:i] + self.players[i + 3:]
                    flag = True
                    break
            if not flag:
                break

        self.increase_waiting_time()



class MatchHandler:
    def add_player(self, score, uuid, username, photo, channel_name):
        print(&amp;#34;Add Player: %s %d&amp;#34; % (username, score))
        player = Player(score, uuid, username, photo, channel_name)
        queue.put(player)
        return 0


def get_player_from_queue():
    try:
        return queue.get_nowait()
    except:
        return None


def worker():
    pool = Pool()
    while True:
        player = get_player_from_queue()
        if player:
            pool.add_player(player)
        else:
            pool.match()
            sleep(1)



if __name__ == &amp;#39;__main__&amp;#39;:
    handler = MatchHandler()
    processor = Match.Processor(handler)
    transport = TSocket.TServerSocket(host=&amp;#39;127.0.0.1&amp;#39;, port=9090)
    tfactory = TTransport.TBufferedTransportFactory()
    pfactory = TBinaryProtocol.TBinaryProtocolFactory()

    server = TServer.TThreadedServer(
        processor, transport, tfactory, pfactory)

    Thread(target=worker, daemon=True).start()

    print(&amp;#39;Starting the server...&amp;#39;)
    server.serve()
    print(&amp;#39;done.&amp;#39;)
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;客户端&#34;&gt;客户端&lt;/h2&gt;
&lt;p&gt;扩展数据库表，让其可以存放 rank分 的信息&lt;/p&gt;
&lt;p&gt;&lt;code&gt;game/models/player/player.py&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;...
class Player(models.Model):
    ...
    score = models.IntegerField(default=1500)
    ...
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;consumers/multiplayer/index.py&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;from channels.generic.websocket import AsyncWebsocketConsumer
import json
from django.conf import settings
from django.core.cache import cache

from thrift import Thrift
from thrift.transport import TSocket
from thrift.transport import TTransport
from thrift.protocol import TBinaryProtocol

from match_system.src.match_server.match_service import Match
from game.models.player.player import Player
from channels.db import database_sync_to_async

class MultiPlayer(AsyncWebsocketConsumer):
    async def connect(self):
        await self.accept()

    async def disconnect(self, close_code):
        if self.room_name:
            await self.channel_layer.group_discard(self.room_name, self.channel_name)

    async def create_player(self, data):
        self.room_name = None
        self.uuid = data[&amp;#39;uuid&amp;#39;]
        # Make socket
        transport = TSocket.TSocket(&amp;#39;127.0.0.1&amp;#39;, 9090)
        # Buffering is critical. Raw sockets are very slow
        transport = TTransport.TBufferedTransport(transport)

        # Wrap in a protocol
        protocol = TBinaryProtocol.TBinaryProtocol(transport)

        # Create a client to use the protocol encoder
        client = Match.Client(protocol)

        def db_get_player():
            return Player.objects.get(user__username=data[&amp;#39;username&amp;#39;])

        player = await database_sync_to_async(db_get_player)()

        # Connect!
        transport.open()

        client.add_player(player.score, data[&amp;#39;uuid&amp;#39;], data[&amp;#39;username&amp;#39;], data[&amp;#39;photo&amp;#39;], self.channel_name)

        # Close!
        transport.close()
    
    async def group_send_event(self, data):
        if not self.room_name:
            keys = cache.keys(&amp;#39;*%s*&amp;#39; % (self.uuid))
            if keys:
                self.room_name = keys[0]
        await self.send(text_data=json.dumps(data))
    ...
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&#34;项目收尾ஐ&#34;&gt;项目收尾ஐ&lt;/h1&gt;
&lt;h2 id=&#34;加密压缩js代码&#34;&gt;加密、压缩js代码&lt;/h2&gt;
&lt;p&gt;安装 &lt;code&gt;terser&lt;/code&gt; :&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo apt-get update
sudo apt-get install npm
sudo npm install terser -g
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;terser&lt;/code&gt; 不仅支持文件输入，也支持标准输入。结果会输出到标准输出中。&lt;/p&gt;
&lt;p&gt;使用方式：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;terser xxx.js -c -m
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;我们将整合 &lt;code&gt;js&lt;/code&gt; 文件的脚本修改一下即可：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;scripts/compress_game_js.sh&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;#! /bin/bash

JS_PATH=/home/acs/acapp/game/static/js/
JS_PATH_DIST=${JS_PATH}dist/
JS_PATH_SRC=${JS_PATH}src/

find $JS_PATH_SRC -type f -name &amp;#39;*.js&amp;#39; | sort | xargs cat | terser -c -m &amp;gt; ${JS_PATH_DIST}game.js

echo &amp;#34;yes&amp;#34; | python3 manage.py collectstatic
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;清理监听函数&#34;&gt;清理监听函数&lt;/h2&gt;
&lt;p&gt;在AcAPP关闭之前触发的事件可以通过如下api添加：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;AcWingOS.api.window.on_close(func);
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;注意：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;同一个页面中，多个 &lt;code&gt;acapp&lt;/code&gt; 引入的 &lt;code&gt;js&lt;/code&gt; 代码只会加载一次，因此 &lt;code&gt;AC_GAME_OBJECTS&lt;/code&gt; 等全局变量是同一个页面、同一个 &lt;code&gt;acapp&lt;/code&gt; 的所有窗口共用的&lt;/li&gt;
&lt;li&gt;各自创建的局部变量是独立的，比如 &lt;code&gt;new AcGame()&lt;/code&gt; 创建出的对象各个窗口是独立的&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我们给每一个窗口创建一个 &lt;code&gt;uid&lt;/code&gt; 然后根据不同的 &lt;code&gt;uid&lt;/code&gt; 进行事件解绑&lt;/p&gt;
&lt;p&gt;&lt;code&gt;playground/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class AcGamePlayground {
    ...
    create_uuid() {
        let res = &amp;#34;&amp;#34;;
        for (let i = 0; i &amp;lt; 8; i ++ ) {
            let x = parseInt(Math.floor(Math.random() * 10));   //[0, 10)
            res += x;
        }
        return res;
    }
    start() {
        let outer = this;
        let uuid = this.create_uuid();
        $(window).on(`resize.${uuid}`, function() {
            outer.resize();
        });

        if (this.root.AcWingOS) {
            outer.root.AcWingOS.api.window.on_close(function() {
                $(window).off(`resize.${uuid}`);
            });
        }
    }
    ...
}
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;编写每局游戏的结束界面&#34;&gt;编写每局游戏的结束界面&lt;/h2&gt;
&lt;p&gt;单独创建一个结束界面，然后游戏结束的时候渲染出该结束界面即可&lt;/p&gt;
&lt;p&gt;因为结束界面要覆盖在游戏界面之上，因此我们需要先修改一下游戏引擎，添加一个 &lt;code&gt;late_update&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;在每一帧渲染的内容最后再渲染，从而实现结束界面叠加在游戏界面之上的效果&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ac_game_object/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;...
class AcGameObject {
    ...
    late_update() { // 每一帧均会执行一次，且在所有 update 执行完后才执行

    }
    ...
}
...
let AC_GAME_ANIMATION = function(timestamp) {
    ...
    for (let i = 0; i &amp;lt; AC_GAME_OBJECTS.length; i ++ ) {
        let obj = AC_GAME_OBJECTS[i];
        obj.late_update();
    }
    ...
}
...
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;然后我们做一个渲染出结束界面的类&lt;/p&gt;
&lt;p&gt;&lt;code&gt;playground/score_board/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class ScoreBoard extends AcGameObject {
    constructor(playground) {
        super();
        this.playground = playground;
        this.ctx = this.playground.game_map.ctx;

        this.state = null;  // win-胜利；lose-失败

        this.win_img = new Image();
        this.win_img.src = &amp;#34;https://cdn.acwing.com/media/article/image/2021/12/17/1_8f58341a5e-win.png&amp;#34;;

        this.lose_img = new Image();
        this.lose_img.src = &amp;#34;https://cdn.acwing.com/media/article/image/2021/12/17/1_9254b5f95e-lose.png&amp;#34;;
    }
    start() {
    }

    add_listening_events() {    // 点击后，返回主页面
        let outer = this;
        let $canvas = this.playground.game_map.$canvas;

        $canvas.on(&amp;#39;click&amp;#39;, function() {
            outer.playground.hide();
            outer.playground.root.menu.show();
        });
    }

    win() {
        this.state = &amp;#34;win&amp;#34;;
        let outer = this;
        setTimeout(function() {
            outer.add_listening_events();
        }, 1000);   // 1秒后监听点击事件
    }

    lose() {
        this.state = &amp;#34;lose&amp;#34;;
        let outer = this;
        setTimeout(function() {
            outer.add_listening_events();
        }, 1000);   // 1秒后监听点击事件
    }

    late_update() {
        this.render();  // 渲染在图层最上方
    }
    render() {
        let len = this.playground.height / 2;
        if (this.state === &amp;#34;win&amp;#34;) {
            this.ctx.drawImage(this.win_img, this.playground.width / 2 - len / 2, this.playground.height / 2 - len / 2, len, len);
        } else if (this.state === &amp;#34;lose&amp;#34;) {
            this.ctx.drawImage(this.lose_img, this.playground.width / 2 - len / 2, this.playground.height / 2 - len / 2, len, len);
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;通过游戏结束的逻辑判断，渲染结束界面，同时在结束并返回主菜单的时候，重置游戏元素&lt;/p&gt;
&lt;p&gt;游戏元素重置&lt;/p&gt;
&lt;p&gt;&lt;code&gt;playground/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class AcGamePlayground {
    ...
    show(mode) {    // 打开 playground 界面
        ...
        this.score_board = new ScoreBoard(this);
        ...
    }
    ...
    hide() {
        // 清空所有游戏元素
        while (this.players &amp;amp;&amp;amp; this.players.length &amp;gt; 0) {
            this.players[0].destroy();
        }
        if (this.game_map) {
            this.game_map.destroy();
            this.game_map = null;
        }
        if (this.notice_board) {
            this.notice_board.destroy();
            this.notice_board = null;
        }
        if (this.score_board) {
            this.score_board.destroy();
            this.score_board = null;
        }
        this.$playground.empty();   // 清空所有html标签
        this.$playground.hide();
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;游戏结束的逻辑判断&lt;/p&gt;
&lt;p&gt;&lt;code&gt;playground/player/zbase.js&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;class Player extends AcGameObject {
    ...
    update() {
        ...
        this.update_win();
        ...
    }
    update_win() {
        // 竞赛状态，且只有一名玩家，且改名玩家就是我，则胜利
        if (this.playground.state === &amp;#34;fighting&amp;#34; &amp;amp;&amp;amp; this.character === &amp;#34;me&amp;#34; &amp;amp;&amp;amp; this.playground.players.length === 1) {
            this.playground.state = &amp;#34;over&amp;#34;;
            this.playground.score_board.win();
        }
    }
    ...
    on_destroy() {
        // 我死亡，且游戏处于竞赛状态，则失败
        if (this.character === &amp;#34;me&amp;#34; &amp;amp;&amp;amp; this.playground.state === &amp;#34;fighting&amp;#34;) {
            this.playground.state = &amp;#34;over&amp;#34;
            this.playground.score_board.lose();
        }
        ...
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;更新战绩&#34;&gt;更新战绩&lt;/h2&gt;
&lt;p&gt;这里我们完全交给后端来判断&lt;/p&gt;
&lt;p&gt;在处理广播的 &lt;code&gt;attack&lt;/code&gt; 信息的时候，先前我们额外留了一个参数 &lt;code&gt;hp&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;围绕该 &lt;code&gt;hp&lt;/code&gt; 进行续写，若当前房间内 &lt;code&gt;hp&lt;/code&gt; 大于 0 的玩家少于等于 1 个&lt;/p&gt;
&lt;p&gt;则对于所有 &lt;code&gt;hp&lt;/code&gt; 为 0 的玩家减 &lt;code&gt;rank&lt;/code&gt; 分，大于 0 的玩家加 &lt;code&gt;rank&lt;/code&gt; 分&lt;/p&gt;
&lt;p&gt;&lt;code&gt;consumers/multiplayer/index.py&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;...
class MultiPlayer(AsyncWebsocketConsumer):
    ...
    async def attack(self, data):
        if not self.room_name:
            return
        players = cache.get(self.room_name)

        if not players:
            return

        for player in players:
            if player[&amp;#39;uuid&amp;#39;] == data[&amp;#39;attackee_uuid&amp;#39;]:
                player[&amp;#39;hp&amp;#39;] -= 25

        remain_cnt = 0
        for player in players:
            if player[&amp;#39;hp&amp;#39;] &amp;gt; 0:
                remain_cnt += 1

        if remain_cnt &amp;gt; 1:  # 继续进行游戏
            if self.room_name:
                cache.set(self.room_name, players, 3600)
        else:   # 结算 
            def db_update_player_score(username, score):
                player = Player.objects.get(user__username=username)
                player.score += score
                player.save()
            for player in players:
                if player[&amp;#39;hp&amp;#39;] &amp;lt;= 0:
                    await database_sync_to_async(db_update_player_score)(player[&amp;#39;username&amp;#39;], -5)
                else:
                    await database_sync_to_async(db_update_player_score)(player[&amp;#39;username&amp;#39;], 10)
        ...
    ...
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;添加faviconico&#34;&gt;添加favicon.ico&lt;/h2&gt;
&lt;p&gt;这是修正一个小 BUG，之前 web 端一直没有网页显示图标，这里给他加上去&lt;/p&gt;
&lt;p&gt;&lt;code&gt;game/templates/multiends/web.html&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;...
&amp;lt;head&amp;gt;
    ...
    &amp;lt;link rel=&amp;#34;icon&amp;#34; href=&amp;#34;https://cdn.acwing.com/media/article/image/2021/12/17/1_be4c11ce5f-acapp.png&amp;#34;&amp;gt;
&amp;lt;/head&amp;gt;
...
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&#34;各种环境命令&#34;&gt;各种环境命令&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;启动&lt;code&gt;django&lt;/code&gt;项目，在&lt;code&gt;~/acapp&lt;/code&gt;目录下执行：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;python3 manage.py runserver 0.0.0.0:8000
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;每次修改好 &lt;code&gt;game/static&lt;/code&gt;  下的文件后，需要在&lt;code&gt;~/acapp&lt;/code&gt;目录下运行打包文件：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;./scripts/compress_game_js.sh
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;在定义完一个数据表之后，需要将创建的数据表更新到 &lt;code&gt;django&lt;/code&gt; 的数据库中去：&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f00&#34;&gt;$&lt;/span&gt; python3 manage.py makemigrations
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; Migrations &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;game&amp;#39;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt;   game/migrations/&lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0001&lt;/span&gt;_initial.py
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt;     - Create model Player
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f00&#34;&gt;$&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f00&#34;&gt;$&lt;/span&gt; python3 manage.py migrate
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; Operations to perform:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt;   Apply &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;all&lt;/span&gt; migrations: admin, auth, contenttypes, game, sessions
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt; Running migrations:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;gt;   Applying game&lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;.0001&lt;/span&gt;_initial... OK
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;启动&lt;code&gt;nginx&lt;/code&gt;服务，用于域名访问：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo /etc/init.d/nginx start
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;启动&lt;code&gt;uwsgi&lt;/code&gt;服务，用于域名访问：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;uwsgi --ini scripts/uwsgi.ini
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;关闭&lt;code&gt;uwsgi&lt;/code&gt;服务：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo pkill -f uwsgi -9
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;启动 &lt;code&gt;redis-server&lt;/code&gt;，用于一键登录：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo redis-server /etc/redis/redis.conf
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;8&#34;&gt;
&lt;li&gt;启动 &lt;code&gt;Django_channels&lt;/code&gt;，用于联机对战，在&lt;code&gt;~/acapp&lt;/code&gt;目录下执行：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;daphne -b 0.0.0.0 -p 5015 acapp.asgi:application
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;9&#34;&gt;
&lt;li&gt;启动&lt;code&gt;thrift&lt;/code&gt;服务，用于匹配系统，在&lt;code&gt;~/acapp/match_system/src/&lt;/code&gt;目录下执行：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;./main.py
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;10&#34;&gt;
&lt;li&gt;版本更新，在&lt;a href=&#34;https://www.acwing.com/user/myspace/application/update/2433/&#34;&gt;术士之战&lt;/a&gt;中将 &lt;code&gt;js地址&lt;/code&gt; 一栏更新为：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// 本地文件夹中对应的文件也需要更改名字
https://app2433.acapp.acwing.com.cn/static/js/dist/game-版本号.js
&lt;/code&gt;&lt;/pre&gt;</description>
      <content:encoded><![CDATA[<ul>
<li><a href="https://www.colopen-blog.com/Engineer/acw_django/">AcWing Django 框架课 | Colopen&rsquo;s blog</a></li>
<li><a href="https://www.acwing.com/activity/content/punch_the_clock/72/">AcWing Django 框架课</a></li>
</ul>
<hr>
<h2 id="warofwarlockhttpsgithubcomxancodingwarofwarlock"><a href="https://github.com/Xancoding/WarOfWarlock">WarOfWarlock</a></h2>
<h3 id="搭建工具">搭建工具</h3>
<ul>
<li><code>HTML &amp; CSS &amp; JavaScript &amp; Django</code></li>
</ul>
<h3 id="参考资料">参考资料</h3>
<ul>
<li><a href="https://www.colopen-blog.com/Engineer/acw_django/">AcWing Django 框架课 | Colopen&rsquo;s blog</a></li>
<li><a href="https://www.acwing.com/activity/content/punch_the_clock/72/">AcWing Django框架课</a></li>
</ul>
<h1 id="django-项目创建">Django 项目创建</h1>
<ul>
<li><a href="https://www.acwing.com/solution/content/72577/">2.1上课笔记 | 栎</a></li>
<li><a href="https://www.acwing.com/solution/content/73097/">2.1上课笔记 | Andrew1729</a></li>
</ul>
<hr>
<h2 id="启动初始项目">启动初始项目</h2>
<ol>
<li><code>django-admin startproject acapp</code>：在当前目录下创建名为<code>acapp</code>的<code>django</code>项目</li>
<li><code>python3 manage.py runserver 0.0.0.0:8000</code>：启动项目
<ol>
<li>打开<code>settings.py</code>，找到<code>ALLOWED_HOSTS=[]</code>，修改成<code>ALLOWED_HOSTS=[&quot;自己的服务器的公网IP&quot;]</code></li>
<li>通过<code>自己的服务器公网IP:8000</code> 打开Django页面</li>
</ol>
</li>
</ol>
<h2 id="创建管理员登录页面">创建管理员登录页面</h2>
<ol>
<li>在一级<code>acapp</code>文件夹下，<code>python3 manage.py startapp XXX</code>，<code>XXX</code>是可以自定义的app名，这里用<code>game</code>示例，这时候会多一个文件夹<code>game</code>，树形结构如图：</li>
</ol>
<pre tabindex="0"><code>|-- game
|   |-- __init__.py
|   |-- admin.py          # 管理员页面
|   |-- apps.py           # 用的不多
|   |-- migrations        # 存储数据库
|   |   `-- __init__.py
|   |-- models.py         # 定义网站里的数据库表
|   |-- tests.py
|   `-- views.py          # 视图，即函数
</code></pre><ol start="2">
<li><code>python3 manage.py migrate</code>：将所有修改更新进数据库</li>
<li>创建一个 <strong>管理员用户</strong>：</li>
</ol>
<pre tabindex="0"><code>$ python3 manage.py createsuperuser
&gt; Username (leave blank to use &#39;acs&#39;): admin
&gt; Email address: 
&gt; Password: 123456
&gt; Password (again): 123456
&gt; Superuser created successfully.
</code></pre><p>然后利用该 <strong>管理员用户</strong> 登录 <code>admin</code> 页面，即可成功登陆</p>
<h2 id="创建用户登录页面">创建用户登录页面</h2>
<h3 id="game-下的各个文件作用"><code>game</code> 下的各个文件作用</h3>
<ol>
<li><code>templates</code>目录：管理 <code>html</code>  文件</li>
<li><code>urls</code>目录：管理路由，即链接与函数的对应关系 (接收链接，调用相对应的函数)</li>
<li><code>views</code>目录：管理 <code>http</code> 函数（接收浏览器请求，返回字符串至浏览器）</li>
<li><code>models</code>目录：管理数据库数据</li>
<li><code>static</code>目录：管理静态文件</li>
<li><code>consumers</code>目录：管理<code>websocket</code>函数</li>
</ol>
<h3 id="实现一个路由重定向">实现一个路由重定向</h3>
<ul>
<li><code>url</code> 输入网址 -&gt; <code>acapp.urls</code> -&gt; <code>game.urls</code> -&gt; <code>game.views.index</code> -&gt; 展示页面</li>
</ul>
<p><strong>game.views</strong></p>
<p>这其中，<code>HttpResponse()</code>内部使用<code>html</code>的语法，返回的响应就直接用这个字符串作为页面，转换成<code>html</code></p>
<pre tabindex="0"><code>from django.http import HttpResponse

def index(request):
    line1 = &#39;&lt;h1 style=&#34;text-align: center&#34;&gt; 第一个网页 &lt;/h1&gt;&#39;
    return HttpResponse(line1)
</code></pre><p><strong>game.urls</strong></p>
<p>这其中，<code>path('PATH', function, name)</code>的含义是，在用户访问网站的时候，如果是<code>网站/game/PATH</code>，就会调用<code>function</code>，名字为<code>name</code>，这是在<code>/game/</code>目录下的调用，所以这个<code>PATH</code>是在<code>/game/</code>的基础上的<strong>相对路径</strong>，所以他的<strong>绝对路径</strong>是<code>网站/game/PATH</code></p>
<pre tabindex="0"><code>from django.urls import path
from game.views import index

urlpatterns = [ 
    path(&#34;&#34;, index, name=&#34;index&#34;),
]
</code></pre><p><strong>acapp.urls</strong></p>
<p>这其中，<code>path('PATH', include('game.urls'))</code>的含义是：在用户访问网站的时候，如果是<code>网站/PATH</code>，就会走到<code>/game/urls</code>，并根据<code>/game/urls.py</code>来跑路由，就是说，用户在访问<code>网站/</code>的时候，由于此时调用的函数是<code>include('game.urls')</code>，所以访问<code>网站/</code>相当于根据<code>game/urls</code>访问</p>
<pre tabindex="0"><code>from django.contrib import admin
from django.urls import path, include

urlpatterns = [ 
    path(&#39;&#39;, include(&#39;game.urls&#39;)),
    path(&#39;admin/&#39;, admin.site.urls),
] 
</code></pre><p>然后直接打开 <code>ip:socket</code> 可以直接显示 <code>index</code> 返回的网页</p>
<h1 id="创建菜单界面">创建菜单界面</h1>
<ul>
<li><a href="https://www.acwing.com/file_system/file/content/whole/index/content/3199626/">3. 创建菜单界面 | 讲义</a></li>
<li><a href="https://www.acwing.com/solution/content/73121/">3.1 上课笔记 | 大家好今天是</a></li>
<li><a href="https://www.acwing.com/solution/content/73707/">3.1 上课笔记 | 栎</a></li>
</ul>
<hr>
<h2 id="构建项目框架">构建项目框架</h2>
<h3 id="项目系统设计">项目系统设计</h3>
<ul>
<li><code>menu</code>：菜单页面</li>
<li><code>playground</code>：游戏界面</li>
<li><code>settings</code>：设置界面</li>
</ul>
<h3 id="项目文件结构">项目文件结构</h3>
<pre tabindex="0"><code>.
|-- README.md
|-- acapp
|   |-- __init__.py    # 文件夹在加上 __init__.py 文件后，python 便可以通过 import 来引用该文件夹
|   |-- asgi.py
|   |-- settings.py
|   |-- urls.py
|   `-- wsgi.py
|-- db.sqlite3
|-- game
|   |-- __init__.py
|   |-- admin.py
|   |-- apps.py
|   |-- migrations
|   |   `-- __init__.py
|   |-- models
|   |   `-- __init__.py
|   |-- static
|   |   |-- css
|   |   |   `-- game.css    # 一般一个工程，只有一个 css 文件就足够了
|   |   |-- image
|   |   |   `-- menu
|   |   |       `-- background.gif
|   |   `-- js
|   |       |-- dist
|   |       |   `-- game.js
|   |       `-- src
|   |           `-- zbase.js    # 总的 js 文件，命名以 z 开头会自动在字典序最后
|   |-- templates
|   |   `-- multiends
|   |       `-- web.html
|   |-- tests.py
|   |-- urls
|   |   |-- __init__.py
|   |   |-- index.py
|   |   |-- menu
|   |   |   |-- __init__.py
|   |   |   `-- index.py
|   |   |-- playground
|   |   |   |-- __init__.py
|   |   |   `-- index.py
|   |   `-- settings
|   |       |-- __init__.py
|   |       `-- index.py
|   `-- views
|       |-- __init__.py
|       |-- index.py
|       |-- menu
|       |   `-- __init__.py
|       |-- playground
|       |   `-- __init__.py
|       `-- settings
|           `-- __init__.py
|-- manage.py
`-- scripts
    `-- compress_game_js.sh
</code></pre><h4 id="js-文件管理"><code>js</code> 文件管理</h4>
<p>一般一个工程会有很多个 <code>.js</code> 源文件，为了加快网络的传输，也为了每次写新的 <code>.js</code> 文件不用每个 <code>html</code> 都额外引入一次</p>
<p>考虑用一个 <code>src</code> 源文件夹来存储所有的 <code>.js</code> 源文件</p>
<p>然后用 <code>dist</code> 文件夹来存放由 <code>src</code> 下所有源文件整合生成的一个目标 <code>.js</code> 文件</p>
<p>这样既实现了快速传输的好处，也方便了后续编写 <code>html</code> 文件时，引入 <code>.js</code> 的便利</p>
<p>创建一个脚本实现上述 <strong>整合</strong> 的功能
<code>~/acapp/scripts/compress_game_js.sh</code></p>
<pre tabindex="0"><code>#! /bin/bash

JS_PATH=/home/acs/acapp/game/static/js/
JS_PATH_DIST=${JS_PATH}dist/
JS_PATH_SRC=${JS_PATH}src/

find $JS_PATH_SRC -type f -name &#39;*.js&#39; | sort | xargs cat &gt; ${JS_PATH_DIST}game.js
</code></pre><h4 id="html-文件管理"><code>html</code> 文件管理</h4>
<p>在 <code>templates</code> 文件夹下创建 <code>menu</code>、<code>playground</code>、<code>settings</code>、<code>multiends</code> 四个文件夹，用于存储三个模块和终端的 <code>html</code> 文件</p>
<p>在 <code>multiends</code> 下创建 <code>web.html</code> 文件</p>
<pre tabindex="0"><code>{% load static %}
&lt;!-- Django 中引入全局setting里的变量 static 的语法--&gt;
&lt;head&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.acwing.com/static/jquery-ui-dist/jquery-ui.min.css&#34;&gt;
    &lt;script src=&#34;https://cdn.acwing.com/static/jquery/js/jquery-3.3.1.min.js&#34;&gt;&lt;/script&gt;
    &lt;!-- 上述两句引入 jQuery 库 --&gt;
    &lt;!-- 使用引入的变量 static 的语法如下 --&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;{% static &#39;css/game.css&#39; %}&#34;&gt;
    &lt;script src=&#34;{% static &#39;js/dist/game.js&#39; %}&#34;&gt;&lt;/script&gt;
    &lt;!-- 分别引入 css 文件和总的 js 文件 --&gt;
&lt;/head&gt;

&lt;body style=&#34;margin: 0&#34;&gt;
    &lt;div id=&#34;ac_game_12345678&#34;&gt;&lt;/div&gt;
    &lt;script&gt;
        $(document).ready(function(){
            let ac_game = new AcGame(&#34;ac_game_12345678&#34;)
        })
    &lt;/script&gt;
&lt;/body&gt;
</code></pre><h4 id="views-视图管理"><code>views</code> 视图管理</h4>
<p>在 <code>views</code> 文件夹下新建三个模块的视图文件夹</p>
<p>写一个 <code>index.py</code> 文件，目的是在 <code>web</code> 端被访问时，返回上面写的 <code>web.html</code> 文件</p>
<pre tabindex="0"><code>from django.shortcuts import render

def index(request):
  return render(request, &#34;multiends/web.html&#34;)
</code></pre><h4 id="urls-路由管理"><code>urls</code> 路由管理</h4>
<pre tabindex="0"><code>                                     /-- &#34;&#34; -- index
                                    / -- &#34;menu/&#34; -- menu.index
             / &#34;&#34; --&gt; &#34;game.url&#34; --&gt; 
            /                       \ -- &#34;playground/&#34; -- playground.index
id:scoket -&gt;                         \-- &#34;settings/&#34; -- settings.index
            \
             \ &#34;/admin&#34; -- 到达管理员页面
</code></pre><p><code>~/acapp/acapp/urls.py</code></p>
<pre tabindex="0"><code>from django.contrib import admin
from django.urls import path, include

urlpatterns = [
  path(&#39;&#39;, include(&#39;game.urls.index&#39;)),
  path(&#39;admin/&#39;, admin.site.urls),
]
</code></pre><p><code>~/acapp/game/urls/index.py</code></p>
<pre tabindex="0"><code>from django.urls import path, include
from game.views.index import index

urlpatterns = [ 
    path(&#34;&#34;, index, name=&#34;index&#34;),
    path(&#34;menu/&#34;, include(&#34;game.urls.menu.index&#34;)),
    path(&#34;playground/&#34;, include(&#34;game.urls.playground.index&#34;)),
    path(&#34;settings/&#34;, include(&#34;game.urls.settings.index&#34;))
]
</code></pre><h4 id="网页渲染流程">网页渲染流程</h4>
<p>根据用户的链接，首先进入<code>acapp/urls.py</code>，根据<code>path</code>再进入<code>game/urls/index.py</code>，再根据<code>path</code>进入下一层<code>url</code>或调用相对应的<code>views</code>中的<code>index.py</code>函数，函数接收参数，在网页端渲染<code>templates/multiends</code>下的<code>web.html</code>，<code>html</code>中有<code>JS</code>执行</p>
<p>注意：本项目为前后端分离，即通过<code>JS</code>在<code>client</code>中渲染项目(动态生成页面)，而不是在<code>server</code>渲染项目</p>
<h3 id="修改全局配置">修改全局配置</h3>
<h4 id="设置时区">设置时区</h4>
<p>修改项目的 <strong>UTC</strong> 时间为 <strong>CN</strong> 时间</p>
<pre tabindex="0"><code>$ vim /acapp/settings.py

******
TIME_ZONE = &#39;Asia/Shanghai&#39; # 原来默认是 UTC
******
</code></pre><h4 id="添加配置文件">添加配置文件</h4>
<p>将新创建的 <code>game</code> 下的 <code>apps.py</code> 中的 <code>GameConfig</code> 加到 <code>settings.py</code> 下</p>
<pre tabindex="0"><code>$ vim /acapp/settings.py

******
INSTALLED_APPS = [
  &#39;game.apps.GameConfig&#39;,
  ......
]
******
</code></pre><p>声明将静态文件路径 <code>STATIC_ROOT</code> 和 <code>MEDIA_ROOT</code></p>
<pre tabindex="0"><code>$ vim /acapp/settings.py

******
import os

......

STATIC_ROOT = os.path.join(BASE_DIR, &#39;static&#39;)
STATIC_URL = &#39;/static/&#39;

MEDIA_ROOT = os.path.join(BASE_DIR, &#39;media&#39;)
MEDIA_URL = &#39;/media/&#39;
******
</code></pre><h2 id="创建菜单-menu-界面">创建菜单 <code>menu</code> 界面</h2>
<h3 id="搭建菜单-menu-界面的框架">搭建菜单 <code>menu</code> 界面的框架</h3>
<p>我们采用的 <strong>前后端分离式</strong> 开发，所有的 <strong>html</strong> 渲染都要求在前端完成</p>
<p>开发流程就是，先在 <strong>html</strong> 里创建好一个有 <strong>id</strong> 的 <strong>div</strong></p>
<p>然后利用 <strong>js</strong> 文件，捕获到该 <strong>div</strong>，并进行 <strong>渲染</strong></p>
<p><code>/templates/multiends/web.html</code></p>
<pre tabindex="0"><code>...
    &lt;div id=&#34;ac_game_12345678&#34;&gt;&lt;/div&gt;
    &lt;script&gt;
        $(document).ready(function(){
            let ac_game = new AcGame(&#34;ac_game_12345678&#34;)
        })
    &lt;/script&gt;
...
</code></pre><p><code>js/src/zbase.js</code></p>
<pre tabindex="0"><code>class AcGame {
    constructor(id) {
        this.id = id; 
        this.$ac_game = $(&#39;#&#39; + id);
        this.menu = new AcGameMenu(this);
    }   
}
</code></pre><p><code>js/src/menu/zbase.js</code></p>
<pre tabindex="0"><code>class AcGameMenu {
    constructor(root) {
        this.root = root;
        this.$menu = $(` 
&lt;div class=&#34;ac-game-menu&#34;&gt;
&lt;/div&gt;
`);
        this.root.$ac_game.append(this.$menu); 
}
</code></pre><p><code>css/game.css</code></p>
<pre tabindex="0"><code>.ac-game-menu {
    width: 100%;
    height: 100%;
    background-image: url(&#39;/static/image/menu/background.gif&#39;);
    background-size: 100% 100%;
    user-select: none;
}
</code></pre><p>这里的 <strong>代码逻辑</strong> 如下：</p>
<ol>
<li><code>html</code> 页面执行到 <code>js</code> 代码，利用 <code>AcGame类</code> 创建对象 <code>ac_game</code> 同时传递参数 <code>div</code> 的 <code>id</code></li>
<li><code>AcGame</code> 开始执行构造函数，在构造函数中，捕获 <code>html</code> 标签，并利用 <code>AcGameMenu类</code> 创建对象 <code>menu</code>，并将整个对象作为参数下传</li>
<li><code>AcGameMenu</code> 开始执行构造函数，然后创建 <code>html</code> 代码，加到捕获到的 <code>html</code> 代码下</li>
<li>最终成功渲染出背景图片</li>
</ol>
<h3 id="设置菜单-menu-页面的内容">设置菜单 <code>menu</code> 页面的内容</h3>
<p>主要内容就是在主页面中，显示：单人模式、多人模式、设置，三个按钮的选项
<code>js/src/menu/zbase.js</code></p>
<pre tabindex="0"><code>class AcGameMenu {
    constructor(root) {
        this.root = root;
        this.$menu = $(`
&lt;div class=&#34;ac-game-menu&#34;&gt;
    &lt;div class=&#34;ac-game-menu-field&#34;&gt;
        &lt;div class=&#34;ac-game-menu-field-item ac-game-menu-field-item-single-mode&#34;&gt;
            单人模式
        &lt;/div&gt;
        &lt;div class=&#34;ac-game-menu-field-item ac-game-menu-field-item-multi-mode&#34;&gt;
            多人模式
        &lt;/div&gt;
        &lt;div class=&#34;ac-game-menu-field-item ac-game-menu-field-item-settings-mode&#34;&gt;
            设置
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
`);
        this.root.$ac_game.append(this.$menu);
        this.$single_mode = this.$menu.find(&#39;.ac-game-menu-field-item-single-mode&#39;);
        this.$multi_mode = this.$menu.find(&#39;.ac-game-menu-field-item-multi-mode&#39;);
        this.$settings_mode = this.$menu.find(&#39;.ac-game-menu-field-item-settings-mode&#39;);
    }
}
</code></pre><p><code>css/game.css</code></p>
<pre tabindex="0"><code>.ac-game-menu {
    width: 100%;
    height: 100%;
    background-image: url(&#39;/static/image/menu/background.gif&#39;);
    background-size: 100% 100%;
    user-select: none;
}
.ac-game-menu-field {
    width: 20vw;
    position: relative;
    top: 40vh;
    left: 19vh;
}
.ac-game-menu-field-item {
    height: 7vh;
    width: 18vw;
    color: white;
    font-size: 6vh;
    font-style: italic;
    padding: 2vh;
    margin: 1vh 0;
    cursor: pointer;
    text-align: center;
    background-color: rgba(39, 21, 28, 0.6);
    border-radius: 10px;
    letter-spacing: 0.5vw;
}
.ac-game-menu-field-item:hover {
    transform: scale(1.2);
    transition: 100ms;
}
</code></pre><h3 id="添加-单人模式-监听函数--打开游戏界面-功能">添加 &lsquo;单人模式&rsquo; 监听函数 —— 打开游戏界面 功能</h3>
<p>这里要实现的 <strong>逻辑</strong>：</p>
<ol>
<li>点击 &lsquo;单人模式&rsquo; 按钮触发 <code>click</code> 事件，随即触发监听函数，开始执行</li>
<li>关闭 <code>menu</code> 页面</li>
<li>打开 <code>playground</code> 页面</li>
</ol>
<p>因此，我们先简易的实现一个 <code>playground</code> 页面，方便调试该功能
<code>js/src/playground/zbase.js</code></p>
<pre tabindex="0"><code>class AcGamePlayground {
    constructor(root) {
        this.root = root;
        this.$playground = $(`&lt;div&gt;游戏界面&lt;/div&gt;`);

        this.hide();
        this.root.$ac_game.append(this.$playground);

        this.start();
    }
    start() {

    }
    show() {    //打开 playground 界面
        this.$playground.show();
    }
    hide() {    //关闭 playground 界面
        this.$playground.hide();
    }

}
</code></pre><p>在实现监听函数功能之前，先在 <code>/src/zbase.js</code> 即主 <code>js</code> 文件下，利用 <code>AcGamePlayground</code> 类创建好 <code>playground</code> 对象</p>
<p>这样我们就能在前端，渲染出两个界面了，分别是：<code>menu</code> 和 <code>playground</code></p>
<p><code>js/src/zbase.js</code></p>
<pre tabindex="0"><code>class AcGame {
    constructor(id) {
        this.id = id;
        this.$ac_game = $(&#39;#&#39; + id);
        this.menu = new AcGameMenu(this);
        // 把 playground 对象也建好，这样我们就同时有两个界面了
        this.playground = new AcGamePlayground(this);

        this.start();
    }                    
    start() {

    }
}
</code></pre><p>然后，我们开始实现 <code>ac-game-menu-field-item-single-mode</code> 标签的 <code>click</code> 事件的监听函数</p>
<p>其功能之前讲过了，就是关闭 <code>menu</code> 页面，打开 <code>playground</code> 页面</p>
<p><code>js/src/menu/zbase.js</code></p>
<pre tabindex="0"><code>class AcGameMenu {
    constructor(root) {
        this.root = root;
        this.$menu = $(`
&lt;div class=&#34;ac-game-menu&#34;&gt;
    &lt;div class=&#34;ac-game-menu-field&#34;&gt;
        &lt;div class=&#34;ac-game-menu-field-item ac-game-menu-field-item-single-mode&#34;&gt;
            单人模式
        &lt;/div&gt;
        &lt;div class=&#34;ac-game-menu-field-item ac-game-menu-field-item-multi-mode&#34;&gt;
            多人模式
        &lt;/div&gt;
        &lt;div class=&#34;ac-game-menu-field-item ac-game-menu-field-item-settings-mode&#34;&gt;
            设置
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
`);
        this.root.$ac_game.append(this.$menu);
        this.$single_mode = this.$menu.find(&#39;.ac-game-menu-field-item-single-mode&#39;);
        this.$multi_mode = this.$menu.find(&#39;.ac-game-menu-field-item-multi-mode&#39;);
        this.$settings_mode = this.$menu.find(&#39;.ac-game-menu-field-item-settings-mode&#39;);

        this.start();
    }
    start() {
        this.add_listening_events();
    }
    add_listening_events() {
        let outer = this;
        this.$single_mode.click(function(){
            outer.hide();   // 关闭主页面
            outer.root.playground.show();   // 打开游戏界面
        });
    }

    show() {    //显示menu界面
        this.$menu.show();
    }
    hide() {    //隐藏menu界面
        this.$menu.hide();
    }
}
</code></pre><h1 id="创建游戏界面">创建游戏界面</h1>
<ul>
<li><a href="https://www.acwing.com/solution/content/79181/">4.1 上课笔记 | Andrew1729</a></li>
</ul>
<hr>
<blockquote>
<p><strong>若修改<code>static文件夹</code>下的相关文件，需在<code>~/acapp</code>下执行<code>./scripts/compress_game_js.sh</code>来打包文件</strong></p>
</blockquote>
<h2 id="前端的模块化引入">前端的模块化引入</h2>
<p>由于在 <code>html</code> 代码部分，是将整个 <code>game.js</code> 文件引入</p>
<p>这样会导致在 <code>game.js</code> 中定义的变量，会变成整个网页的 <strong>全局变量</strong>（之后可能会引起变量重名的诸多问题）</p>
<p>因此，我们考虑使用 <strong>模块化引入</strong> 的功能，让网页只引入在 <code>html</code> 中需要的部分</p>
<p>修改 <code>web.html</code></p>
<pre tabindex="0"><code>&lt;!-- 首先，先删掉上面整个引入 game.js 的部分 --&gt;
&lt;!-- 然后，下方创建对象的部分，先使用模块化引入 --&gt;
......
    &lt;script type=&#34;module&#34;&gt;
        import {AcGame} from &#34;{% static &#39;js/dist/game.js&#39; %}&#34;
        $(document).ready(function(){
            let ac_game = new AcGame(&#34;ac_game_12345678&#34;)
        })
    &lt;/script&gt;
......
</code></pre><p>此外，还有修改引入的类，在前面加上 <code>export</code>，如下修改 <code>js/src/zbase.js</code></p>
<pre tabindex="0"><code>export class AcGame {
    ......
}
</code></pre><p>这样，在全局中，只会出现引入的模块，其他的 <code>.js</code> 代码不会出现在全局中</p>
<h2 id="构建游戏界面框架">构建游戏界面框架</h2>
<p><code>static/js/src/playground/zbase.js</code></p>
<pre tabindex="0"><code>......
    this.$playground = $(`&lt;div class=&#34;ac-game-playground&#34;&gt;&lt;/div&gt;`);
......
</code></pre><p><code>game.css</code></p>
<pre tabindex="0"><code>......
.ac-game-playground {
    height: 100%;
    width: 100%;
    user-select: none;  // 禁用右键弹菜单
} 
</code></pre><h2 id="实现游戏引擎框架">实现游戏引擎框架</h2>
<p>游戏中，物体在移动，其实现原理是：每一个动作都会渲染多张图片出来，然后图片快速的切换，从而实现动的过程</p>
<p>因此，需要先实现一个游戏引擎的基类 <code>AcGameObject</code> ，使得每帧能渲染一张图片出来</p>
<p>该基类需要具备的功能有：</p>
<ol>
<li><code>start()</code> 在游戏开始的第一帧时需要执行的任务（一般是创建对象）</li>
<li><code>update()</code> 在游戏开始后的每一帧均会执行的任务（一般是渲染当前对象的各种状态）</li>
<li><code>on_destroy()</code> 删掉该物体前需要执行的任务（一般是删掉动画，或者给对手加分）</li>
<li><code>destroy()</code> 删掉该物体</li>
</ol>
<p>根据上述逻辑，我们就可以基本搭建出来一个游戏引擎的基类了，具体如下：
<code>/static/js/playground/ac_game_object/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> AC_GAME_OBJECTS = [];   <span style="color:#007f7f">// 用于记录当前画布中，需要渲染的对象有哪些
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> AcGameObject {
</span></span><span style="display:flex;"><span>    constructor() {
</span></span><span style="display:flex;"><span>        AC_GAME_OBJECTS.push(<span style="color:#fff;font-weight:bold">this</span>);  <span style="color:#007f7f">// 将当前新建的对象，加入到全局的画布中去，参与渲染
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.has_called_start = <span style="color:#fff;font-weight:bold">false</span>;  <span style="color:#007f7f">// 是否执行过 start 函数
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.timedelta = <span style="color:#ff0;font-weight:bold">0</span>;             <span style="color:#007f7f">// 当前帧距离上一帧的时间间隔
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// 该数据记录是为了后续计算速度等参数的
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    }
</span></span><span style="display:flex;"><span>    start() {   <span style="color:#007f7f">// 只会在第一帧执行一次
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    update() {  <span style="color:#007f7f">// 每一帧均会执行一次
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    on_destroy() {  <span style="color:#007f7f">// 在被销毁前执行一次
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    destroy() { <span style="color:#007f7f">// 删掉该物体
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.on_destroy();  <span style="color:#007f7f">//删掉该物体前，执行删前的操作
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 在全局渲染物体中，找到该物体，并将其删掉
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">let</span> i = <span style="color:#ff0;font-weight:bold">0</span>; i &lt; AC_GAME_OBJECTS.length; i ++ ) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span> (AC_GAME_OBJECTS[i] === <span style="color:#fff;font-weight:bold">this</span>) {  <span style="color:#007f7f">// 三等号，在js里额外加了一层类型相等约束
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>                AC_GAME_OBJECTS.splice(i, <span style="color:#ff0;font-weight:bold">1</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> last_timestamp;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> AC_GAME_ANIMATION = <span style="color:#fff;font-weight:bold">function</span>(timestamp) {  <span style="color:#007f7f">// 回调函数，实现：每一帧重绘时，都会执行一遍
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">let</span> i = <span style="color:#ff0;font-weight:bold">0</span>; i &lt; AC_GAME_OBJECTS.length; i ++ ) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> obj = AC_GAME_OBJECTS[i];
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (!obj.has_called_start) { <span style="color:#007f7f">// 如果还未执行初始帧动作，就先执行
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            obj.start();
</span></span><span style="display:flex;"><span>            obj.has_called_start = <span style="color:#fff;font-weight:bold">true</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">else</span> {  <span style="color:#007f7f">// 执行过初始帧，就执行每一帧的任务
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            obj.timedelta = timestamp - last_timestamp;
</span></span><span style="display:flex;"><span>            obj.update();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    last_timestamp = timestamp; <span style="color:#007f7f">// 更新最后一次时间戳
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    requestAnimationFrame(AC_GAME_ANIMATION);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>requestAnimationFrame(AC_GAME_ANIMATION);   <span style="color:#007f7f">// JS的API，可以调用1帧里面的函数。(有些浏览器的一秒帧数不一定相等)
</span></span></span></code></pre></div><blockquote>
<p><strong>接下来所有的一切游戏，都是基于这个引擎的基类完成的</strong></p>
</blockquote>
<h2 id="实现游戏地图功能">实现游戏地图功能</h2>
<p>目标：实现一个每一秒都在渲染的纯黑背景</p>
<p>虽然现阶段要实现的地图较为简单，但为了后期的拓展性，故还是考虑新建一个文件夹来完成</p>
<p>然后在 <code>js</code> 中，已经封装好了一个 <code>canvas</code> 的 <code>api</code> 来帮助实现背景画布，直接调用即可</p>
<p>先铺开画布，然后设置为黑色</p>
<p><code>static/js/playground/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> AcGamePlayground {
</span></span><span style="display:flex;"><span>    constructor(root) {
</span></span><span style="display:flex;"><span>        ......
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// $(&#39;.playground&#39;)对象已经在 css 文件里渲染出高宽了
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// 现在把他的高宽存下来，往下传递
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.width = <span style="color:#fff;font-weight:bold">this</span>.$playground.width();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.height = <span style="color:#fff;font-weight:bold">this</span>.$playground.height();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.game_map = <span style="color:#fff;font-weight:bold">new</span> GameMap(<span style="color:#fff;font-weight:bold">this</span>);
</span></span><span style="display:flex;"><span>        ......
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .....
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><code>static/js/playground/game-map/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> GameMap <span style="color:#fff;font-weight:bold">extends</span> AcGameObject {    <span style="color:#007f7f">// 继承自游戏引擎基类
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    constructor(playground) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">super</span>();    <span style="color:#007f7f">// 自函数功能：调用基类的构造函数
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.playground = playground;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$canvas = $(<span style="color:#0ff;font-weight:bold">`&lt;canvas&gt;&lt;/canvas&gt;`</span>); <span style="color:#007f7f">// 创建一个canvas的jQuery对象，就是我们要实现的画布
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.ctx = <span style="color:#fff;font-weight:bold">this</span>.$canvas[<span style="color:#ff0;font-weight:bold">0</span>].getContext(<span style="color:#0ff;font-weight:bold">&#39;2d&#39;</span>); <span style="color:#007f7f">// jQuery对象是一个数组，第一个索引是html对象
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// 设置画布的宽高
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.canvas.width = <span style="color:#fff;font-weight:bold">this</span>.playground.width;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.canvas.height = <span style="color:#fff;font-weight:bold">this</span>.playground.height;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.playground.$playground.append(<span style="color:#fff;font-weight:bold">this</span>.$canvas);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    start() {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    update() {  <span style="color:#007f7f">// 游戏地图每帧都要渲染
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.render();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    render() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.fillStyle = <span style="color:#0ff;font-weight:bold">&#34;rgba(0, 0, 0, 0.2)&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.fillRect(<span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#fff;font-weight:bold">this</span>.ctx.canvas.width, <span style="color:#fff;font-weight:bold">this</span>.ctx.canvas.height);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span> }
</span></span></code></pre></div><h2 id="实现玩家显示功能">实现玩家显示功能</h2>
<p>毛坯版玩家显示，每个玩家定义成一个圆，然后渲染在前端</p>
<p>需要对于玩家类定义多个参数，以方便日后拓展：</p>
<ol>
<li><code>x</code> 当前位置的横坐标</li>
<li><code>y</code> 当前位置的纵坐标</li>
<li><code>radius</code> 当前的半径</li>
<li><code>speed</code> 当前的速度</li>
<li><code>is_me</code> 该对象是否是当前玩家操控的对象（一是区别于 bot，二是区别于 日后联机的其他玩家）</li>
</ol>
<p><code>static/js/playground/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> AcGamePlayground {
</span></span><span style="display:flex;"><span>    constructor(root) {
</span></span><span style="display:flex;"><span>        ......
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.players = [];  <span style="color:#007f7f">// 存放当前游戏中的所有玩家
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// 将玩家加入游戏中
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.players.push(<span style="color:#fff;font-weight:bold">new</span> Player(<span style="color:#fff;font-weight:bold">this</span>, <span style="color:#fff;font-weight:bold">this</span>.width / <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#fff;font-weight:bold">this</span>.height / <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#fff;font-weight:bold">this</span>.height * <span style="color:#ff0;font-weight:bold">0.05</span>, <span style="color:#0ff;font-weight:bold">&#34;white&#34;</span>, <span style="color:#fff;font-weight:bold">this</span>.height * <span style="color:#ff0;font-weight:bold">0.15</span>, <span style="color:#fff;font-weight:bold">true</span>));
</span></span><span style="display:flex;"><span>        ......
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .....
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><code>static/js/playground/player/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Player <span style="color:#fff;font-weight:bold">extends</span> AcGameObject {
</span></span><span style="display:flex;"><span>    constructor(playground, x, y, radius, color, speed, is_me) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">super</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 把信息都存下来
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.playground = playground;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx = <span style="color:#fff;font-weight:bold">this</span>.playground.game_map.ctx;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.x = x;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.y = y;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.color = color;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.speed = speed;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.radius = radius;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.is_me = is_me;
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 用于浮点数运算
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.eps = <span style="color:#ff0;font-weight:bold">0.1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    start() {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    update() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.render();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    render() {  <span style="color:#007f7f">// 渲染一个圆
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.beginPath();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.arc(<span style="color:#fff;font-weight:bold">this</span>.x, <span style="color:#fff;font-weight:bold">this</span>.y, <span style="color:#fff;font-weight:bold">this</span>.radius, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">2</span> * <span style="color:#fff;font-weight:bold">Math</span>.PI, <span style="color:#fff;font-weight:bold">false</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.fillStyle = <span style="color:#fff;font-weight:bold">this</span>.color;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.fill();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    on_destroy() {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="实现玩家移动功能">实现玩家移动功能</h2>
<p>移动的实现逻辑很简单，就是让每帧渲染的圆的位置发生移动即可</p>
<p>上述简单逻辑的实现如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Player <span style="color:#fff;font-weight:bold">extends</span> AcGameObject {
</span></span><span style="display:flex;"><span>    constructor(....)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.vx = <span style="color:#ff0;font-weight:bold">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.vy = <span style="color:#ff0;font-weight:bold">1</span>;
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    update() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.x += x;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.y += y;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.render();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>然后我们来实现一个向鼠标点击位置移动的功能</p>
<p>这就需要设置一个 <code>click</code> 事件的监听函数，分别传递：</p>
<ol>
<li>鼠标点击事件</li>
<li>鼠标点击位置的横坐标</li>
<li>鼠标点击位置的纵坐标</li>
</ol>
<p>然后开始让圆的位置逐步向鼠标点击位置进行移动</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>start() {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">this</span>.is_me) {   <span style="color:#007f7f">// 对于用户玩家，加上监听函数
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.add_listening_events();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>add_listening_events() {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">let</span> outer = <span style="color:#fff;font-weight:bold">this</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// 把鼠标右键调出菜单栏的功能关掉
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">this</span>.playground.game_map.$canvas.on(<span style="color:#0ff;font-weight:bold">&#34;contextmenu&#34;</span>, <span style="color:#fff;font-weight:bold">function</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// 把右键控制移动功能加上
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">this</span>.playground.game_map.$canvas.mousedown(<span style="color:#fff;font-weight:bold">function</span>(e) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 左键:1 中键:2 右键:3
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">if</span> (e.which === <span style="color:#ff0;font-weight:bold">3</span>) {
</span></span><span style="display:flex;"><span>            outer.move_to(e.clientX, e.clientY);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>然后，我们来实现移动功能的函数 <code>move_to(tx, ty)</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>constructor(...){
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.vx = <span style="color:#ff0;font-weight:bold">0</span>;    <span style="color:#007f7f">// x方向上的移动速度
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">this</span>.vy = <span style="color:#ff0;font-weight:bold">0</span>;    <span style="color:#007f7f">// y方向上的移动速度
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">this</span>.move_length = <span style="color:#ff0;font-weight:bold">0</span>;   <span style="color:#007f7f">// 剩余移动距离
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    ...
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>get_dist (x1, y1, x2, y2) { <span style="color:#007f7f">// 求两点的欧几里得距离
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">let</span> dx = x2 - x1;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">let</span> dy = y2 - y1;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">Math</span>.sqrt(dx * dx + dy * dy);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>move_to(tx, ty) {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// 计算移动距离
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">this</span>.move_length = <span style="color:#fff;font-weight:bold">this</span>.get_dist(<span style="color:#fff;font-weight:bold">this</span>.x, <span style="color:#fff;font-weight:bold">this</span>.y, tx, ty);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// 计算移动角度，api接口：atan2(dy, dx)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">let</span> angle = <span style="color:#fff;font-weight:bold">Math</span>.atan2(ty - <span style="color:#fff;font-weight:bold">this</span>.y, tx - <span style="color:#fff;font-weight:bold">this</span>.x);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// 位移 1 个单位长度（向着矢量方向移动到单位圆上）
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">this</span>.vx = <span style="color:#fff;font-weight:bold">Math</span>.cos(angle);  <span style="color:#007f7f">// 极直互化
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">this</span>.vy = <span style="color:#fff;font-weight:bold">Math</span>.sin(angle);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>update() {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// 浮点数精度运算
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">this</span>.move_length &lt; <span style="color:#fff;font-weight:bold">this</span>.eps) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.move_length = <span style="color:#ff0;font-weight:bold">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.vx = <span style="color:#fff;font-weight:bold">this</span>.vy = <span style="color:#ff0;font-weight:bold">0</span>;
</span></span><span style="display:flex;"><span>    } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 计算单位帧里的移动距离
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">let</span> moved = <span style="color:#fff;font-weight:bold">Math</span>.min(<span style="color:#fff;font-weight:bold">this</span>.move_length, <span style="color:#fff;font-weight:bold">this</span>.speed * <span style="color:#fff;font-weight:bold">this</span>.timedelta / <span style="color:#ff0;font-weight:bold">1000</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.x += <span style="color:#fff;font-weight:bold">this</span>.vx * moved;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.y += <span style="color:#fff;font-weight:bold">this</span>.vy * moved;
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 还要减掉移动的距离
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.move_length -= moved;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.render();
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><p>这样就实现了玩家的移动功能了，可以登录 <code>id:socket</code> 调试该功能</p>
<h2 id="实现火球技能的功能">实现火球技能的功能</h2>
<p>火球对象的建立与玩家基本一致，直接照搬，在从细节上改改即可</p>
<p><code>js/src/playground/skill/fireball/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> FireBall <span style="color:#fff;font-weight:bold">extends</span> AcGameObject {
</span></span><span style="display:flex;"><span>    constructor(playground, player, x, y, radius, vx, vy, color, speed, move_length, damage) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">super</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.playground = playground;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx = <span style="color:#fff;font-weight:bold">this</span>.playground.game_map.ctx;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.player = player;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.x = x;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.y = y;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.vx = vx;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.vy = vy;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.radius = radius;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.color = color;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.speed = speed;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.move_length = move.length;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.damage = damage;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.eps = <span style="color:#ff0;font-weight:bold">0.1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    start() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    update() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">this</span>.move_length &lt; <span style="color:#fff;font-weight:bold">this</span>.eps) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.destroy();
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">let</span> moved = <span style="color:#fff;font-weight:bold">Math</span>.min(<span style="color:#fff;font-weight:bold">this</span>.move_length, <span style="color:#fff;font-weight:bold">this</span>.speed * <span style="color:#fff;font-weight:bold">this</span>.timedelta / <span style="color:#ff0;font-weight:bold">1000</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.x += <span style="color:#fff;font-weight:bold">this</span>.vx * moved;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.y += <span style="color:#fff;font-weight:bold">this</span>.vy * moved;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.move_length -= moved;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.render();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    render() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.beginPath();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.arc(<span style="color:#fff;font-weight:bold">this</span>.x, <span style="color:#fff;font-weight:bold">this</span>.y, <span style="color:#fff;font-weight:bold">this</span>.radius, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">2</span> * <span style="color:#fff;font-weight:bold">Math</span> * Pi, <span style="color:#fff;font-weight:bold">false</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.fillStyle = <span style="color:#fff;font-weight:bold">this</span>.color;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.fill();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>} 
</span></span></code></pre></div><p>然后在玩家身上实现发火球的功能</p>
<p>基本实现逻辑：当前选中了火球技能，鼠标左键点击一处，向该处发射一个火球</p>
<p>因此，为了知道用户是否选择了技能，需要加一个键盘触发事件监听函数，然后加一个鼠标左键触发事件监听函数</p>
<p>然后发射一个火球即可</p>
<p><code>js/src/playground/player/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>constructor(...) {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.cur_skill = <span style="color:#fff;font-weight:bold">null</span>;  <span style="color:#007f7f">// 记录当前选择的技能
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    ...
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>add_listening_events() {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.playground.game_map.$canvas.mousedown(<span style="color:#fff;font-weight:bold">function</span>(e) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 左键:1 中键:2 右键:3
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">if</span> (e.which === <span style="color:#ff0;font-weight:bold">3</span>) {
</span></span><span style="display:flex;"><span>            outer.move_to(e.clientX, e.clientY);
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">if</span> (e.which === <span style="color:#ff0;font-weight:bold">1</span>) {     <span style="color:#007f7f">// 鼠标左键事件
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            <span style="color:#fff;font-weight:bold">if</span> (outer.cur_skill === <span style="color:#0ff;font-weight:bold">&#34;fireball&#34;</span>) {   <span style="color:#007f7f">// 当前已经选中火球技能
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>                outer.shoot_fireball(e.clientX, e.clientY);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        outer.cur_skill = <span style="color:#fff;font-weight:bold">null</span>; <span style="color:#007f7f">// 清空当前技能
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    });
</span></span><span style="display:flex;"><span>    $(<span style="color:#fff;font-weight:bold">window</span>).keydown(<span style="color:#fff;font-weight:bold">function</span>(e) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (e.which === <span style="color:#ff0;font-weight:bold">81</span>) {       <span style="color:#007f7f">// 键盘按下事件
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            outer.cur_skill = <span style="color:#0ff;font-weight:bold">&#34;fireball&#34;</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>shoot_fireball(tx, ty) {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// 确定火球的参数
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">let</span> x = <span style="color:#fff;font-weight:bold">this</span>.x, y = <span style="color:#fff;font-weight:bold">this</span>.y; <span style="color:#007f7f">// 火球发射点就是当前玩家的位置
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">let</span> radius = <span style="color:#fff;font-weight:bold">this</span>.playground.height * <span style="color:#ff0;font-weight:bold">0.01</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">let</span> angle = <span style="color:#fff;font-weight:bold">Math</span>.atan2(ty - <span style="color:#fff;font-weight:bold">this</span>.y, tx - <span style="color:#fff;font-weight:bold">this</span>.x);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">let</span> vx = <span style="color:#fff;font-weight:bold">Math</span>.cos(angle), vy = <span style="color:#fff;font-weight:bold">Math</span>.sin(angle);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">let</span> color = <span style="color:#0ff;font-weight:bold">&#34;orange&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">let</span> speed = <span style="color:#fff;font-weight:bold">this</span>.playground.height * <span style="color:#ff0;font-weight:bold">0.5</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">let</span> move_length = <span style="color:#fff;font-weight:bold">this</span>.playground.height * <span style="color:#ff0;font-weight:bold">1.0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">let</span> damage = <span style="color:#fff;font-weight:bold">this</span>.playground.height * <span style="color:#ff0;font-weight:bold">0.01</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">new</span> FireBall(<span style="color:#fff;font-weight:bold">this</span>.playground, <span style="color:#fff;font-weight:bold">this</span>, x, y, radius, vx, vy, color, speed, move_length, damage);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>这样就成功实现了玩家发射火球的功能了</p>
<h2 id="实现单人模式下的人机功能">实现单人模式下的人机功能</h2>
<p>先创建好 5 个人机
<code>playground/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//创建好 5 个人机
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">for</span> (len i = <span style="color:#ff0;font-weight:bold">0</span>; i &lt; <span style="color:#ff0;font-weight:bold">5</span>; i ++ ) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.players.push(<span style="color:#fff;font-weight:bold">new</span> Player(<span style="color:#fff;font-weight:bold">this</span>, <span style="color:#fff;font-weight:bold">this</span>.width / <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#fff;font-weight:bold">this</span>.height / <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#fff;font-weight:bold">this</span>.height * <span style="color:#ff0;font-weight:bold">0.05</span>, <span style="color:#0ff;font-weight:bold">&#34;blue&#34;</span>, <span style="color:#fff;font-weight:bold">this</span>.height * <span style="color:#ff0;font-weight:bold">0.15</span>, <span style="color:#fff;font-weight:bold">false</span>));
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><p>这样创建出来的 5 个人机是不会行动的</p>
<p>我们写一个简易的 AI 程序，让他们也会移动</p>
<p>这里实现的逻辑是：每次随机一个目的地，向目的地移动，然后再随机一个目的地，循环下去</p>
<p>根据该逻辑，修改两个函数即可</p>
<p><code>playground/player/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>start() {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">this</span>.is_me) {   <span style="color:#007f7f">// 对于用户玩家，加上监听函数
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.add_listening_events();
</span></span><span style="display:flex;"><span>    } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> tx = <span style="color:#fff;font-weight:bold">Math</span>.random() * <span style="color:#fff;font-weight:bold">this</span>.playground.width;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> ty = <span style="color:#fff;font-weight:bold">Math</span>.random() * <span style="color:#fff;font-weight:bold">this</span>.playground.height;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.move_to(tx, ty);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span> update() {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">this</span>.move_length &lt; <span style="color:#fff;font-weight:bold">this</span>.eps) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.move_length = <span style="color:#ff0;font-weight:bold">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.vx = <span style="color:#fff;font-weight:bold">this</span>.vy = <span style="color:#ff0;font-weight:bold">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (!<span style="color:#fff;font-weight:bold">this</span>.is_me) {   <span style="color:#007f7f">// 如果是人机，停下来时再随机一个方向前进
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            <span style="color:#fff;font-weight:bold">let</span> tx = <span style="color:#fff;font-weight:bold">Math</span>.random() * <span style="color:#fff;font-weight:bold">this</span>.playground.width;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">let</span> ty = <span style="color:#fff;font-weight:bold">Math</span>.random() * <span style="color:#fff;font-weight:bold">this</span>.playground.height;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.move_to(tx, ty);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>on_destroy() {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">let</span> i = <span style="color:#ff0;font-weight:bold">0</span>; i &lt; <span style="color:#fff;font-weight:bold">this</span>.playground.players.length; i ++ ) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">this</span>.playground.players[i] === <span style="color:#fff;font-weight:bold">this</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.playground.players.splice(i, <span style="color:#ff0;font-weight:bold">1</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="实现技能命中效果碰撞检测功能">实现技能命中效果（碰撞检测功能）</h2>
<p>实现逻辑：检测两个圆的中心距离是否小于两个圆的半径之和</p>
<p>小于等于时，代表发生碰撞，开始执行命中效果：</p>
<ol>
<li>被击中用户掉血</li>
<li>被击中用户收到向后击退效果</li>
</ol>
<p>碰撞检测写在火球类里，击退效果写在玩家类里</p>
<p><code>fireball/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>update() {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> (...) {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>    } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 碰撞检测
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">let</span> i = <span style="color:#ff0;font-weight:bold">0</span>; i &lt; <span style="color:#fff;font-weight:bold">this</span>.playground.players.length; i ++ ) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">let</span> player = <span style="color:#fff;font-weight:bold">this</span>.playground.players[i];
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">this</span>.player !== player &amp;&amp; <span style="color:#fff;font-weight:bold">this</span>.is_collision(player)) {  <span style="color:#007f7f">// 碰撞发生一定是在非施法者身上
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>                <span style="color:#fff;font-weight:bold">this</span>.attack(player);    <span style="color:#007f7f">// 火球命中，目标玩家执行击退效果
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.render();
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>get_dist(x1, y1, x2, y2) {  <span style="color:#007f7f">// 获得两点的欧几里得距离
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">let</span> dx = x2 - x1;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> dy = y2 - y1;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">Math</span>.sqrt(dx * dx + dy * dy);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>is_collision(player) {  <span style="color:#007f7f">// 检测两个圆的中心距离是否小于两个圆的半径之和
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">let</span> distance = <span style="color:#fff;font-weight:bold">this</span>.get_dist(<span style="color:#fff;font-weight:bold">this</span>.x, <span style="color:#fff;font-weight:bold">this</span>.y, player.x, player.y);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> (distance &lt; (<span style="color:#fff;font-weight:bold">this</span>.radius + player.radius))
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">true</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>attack(player) {    <span style="color:#007f7f">// 火球命中，目标玩家执行击退效果
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">let</span> angle = <span style="color:#fff;font-weight:bold">Math</span>.atan2(player.y - <span style="color:#fff;font-weight:bold">this</span>.y, player.x - <span style="color:#fff;font-weight:bold">this</span>.x);   <span style="color:#007f7f">// 计算角度
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    player.is_attacked(angle, <span style="color:#fff;font-weight:bold">this</span>.damage); <span style="color:#007f7f">// 火球命中，目标玩家执行击退效果
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">this</span>.destroy(); <span style="color:#007f7f">// 火球命中后，自然消失
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>}
</span></span></code></pre></div><p><strong>被击退的时候，原来的移动速度应该置为 0，当前的移动应该转为向被击中方向上的移动</strong>
<code>player/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>is_attacked(angle, damage) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.radius -= damage;  <span style="color:#007f7f">// 受伤，半径减少
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">this</span>.radius &lt; <span style="color:#ff0;font-weight:bold">10</span>) { <span style="color:#007f7f">// 当半径小于10像素时，代表死亡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.destroy();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// 开始执行击退效果
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">this</span>.damage_vx = <span style="color:#fff;font-weight:bold">Math</span>.cos(angle);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.damage_vy = <span style="color:#fff;font-weight:bold">Math</span>.sin(angle);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.damage_speed = damage * <span style="color:#ff0;font-weight:bold">100</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.speed *= <span style="color:#ff0;font-weight:bold">0.5</span>;  <span style="color:#007f7f">// 被击中以后移动速度减半
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>}
</span></span><span style="display:flex;"><span>update() {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">this</span>.damage_speed &gt; <span style="color:#fff;font-weight:bold">this</span>.eps) {   <span style="color:#007f7f">// 当前仍处于击退效果中
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.vx = <span style="color:#fff;font-weight:bold">this</span>.vy = <span style="color:#ff0;font-weight:bold">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.move_length = <span style="color:#ff0;font-weight:bold">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.x += <span style="color:#fff;font-weight:bold">this</span>.damage_vx * <span style="color:#fff;font-weight:bold">this</span>.damage_speed * <span style="color:#fff;font-weight:bold">this</span>.timedelta / <span style="color:#ff0;font-weight:bold">1000</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.y += <span style="color:#fff;font-weight:bold">this</span>.damage_vy * <span style="color:#fff;font-weight:bold">this</span>.damage_speed * <span style="color:#fff;font-weight:bold">this</span>.timedelta / <span style="color:#ff0;font-weight:bold">1000</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.damage_speed *= <span style="color:#fff;font-weight:bold">this</span>.friction; <span style="color:#007f7f">// 击退速度乘以摩擦系数，已达到削减的目的
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="被击中以后的粒子效果特效">被击中以后的粒子效果特效</h2>
<p>实现逻辑：被击中以后，在玩家附近随机生成一些粒子小球</p>
<p>因此我们要先实现 粒子小球 对象</p>
<p><code>static/js/src/playground/particle/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Particle <span style="color:#fff;font-weight:bold">extends</span> AcGameObject {
</span></span><span style="display:flex;"><span>    constructor(playground, x, y, radius, vx, vy, color, speed) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">super</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.playground = playground;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx = <span style="color:#fff;font-weight:bold">this</span>.playground.game_map.ctx;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.x = x;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.y = y;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.radius = radius;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.vx = vx;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.vy = vy;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.color = color;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.speed = speed;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.friction = <span style="color:#ff0;font-weight:bold">0.9</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    start() {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    update() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">this</span>.speed &lt; <span style="color:#fff;font-weight:bold">this</span>.eps) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.destroy;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.x += <span style="color:#fff;font-weight:bold">this</span>.vx * <span style="color:#fff;font-weight:bold">this</span>.speed * <span style="color:#fff;font-weight:bold">this</span>.timedelta / <span style="color:#ff0;font-weight:bold">1000</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.y += <span style="color:#fff;font-weight:bold">this</span>.vy * <span style="color:#fff;font-weight:bold">this</span>.speed * <span style="color:#fff;font-weight:bold">this</span>.timedelta / <span style="color:#ff0;font-weight:bold">1000</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.speed *= <span style="color:#fff;font-weight:bold">this</span>.friction;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.render();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    render() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.beginPath();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.arc(<span style="color:#fff;font-weight:bold">this</span>.x, <span style="color:#fff;font-weight:bold">this</span>.y, <span style="color:#fff;font-weight:bold">this</span>.radius, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">2</span> * <span style="color:#fff;font-weight:bold">Math</span>.PI, <span style="color:#fff;font-weight:bold">false</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.fillStyle = <span style="color:#fff;font-weight:bold">this</span>.color;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.fill();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>} 
</span></span></code></pre></div><p>然后我们在被击退功能模块，实现生成粒子小球的效果</p>
<ul>
<li>粒子小球释放弧度为 $[0,2π)$ 的随机数
<ul>
<li>粒子小球的 x, y 分量比率根据弧度来设定</li>
</ul>
</li>
<li>粒子小球的起始坐标应与玩家的坐标相同</li>
<li>粒子小球的颜色与玩家颜色相同</li>
<li>粒子小球的速度为玩家移动速度的 $10$ 倍</li>
</ul>
<p><code>js/src/playground/player/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>is_attacked(angle, damage) {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// 粒子小球效果
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">let</span> i = <span style="color:#ff0;font-weight:bold">0</span>; i &lt; <span style="color:#ff0;font-weight:bold">10</span> + <span style="color:#fff;font-weight:bold">Math</span>.random() * <span style="color:#ff0;font-weight:bold">5</span>; i ++ ) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> x = <span style="color:#fff;font-weight:bold">this</span>.x, y = <span style="color:#fff;font-weight:bold">this</span>.y;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> radius = <span style="color:#fff;font-weight:bold">this</span>.radius * <span style="color:#fff;font-weight:bold">Math</span>.random() * <span style="color:#ff0;font-weight:bold">0.1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> angle = <span style="color:#ff0;font-weight:bold">2</span> * <span style="color:#fff;font-weight:bold">Math</span>.PI * <span style="color:#fff;font-weight:bold">Math</span>.random();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> vx = <span style="color:#fff;font-weight:bold">Math</span>.cos(angle), vy = <span style="color:#fff;font-weight:bold">Math</span>.sin(angle);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> color = <span style="color:#fff;font-weight:bold">this</span>.color;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> speed = <span style="color:#fff;font-weight:bold">this</span>.speed * <span style="color:#ff0;font-weight:bold">10</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">new</span> Particle(<span style="color:#fff;font-weight:bold">this</span>.playground, x, y, radius, vx, vy, color, speed);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="一些小优化">一些小优化</h2>
<h3 id="人机随机颜色">人机随机颜色</h3>
<p><code>js/src/playground/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>constructor(root) {
</span></span><span style="display:flex;"><span>    ......
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// 创建好 5 个人机
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">let</span> i = <span style="color:#ff0;font-weight:bold">0</span>; i &lt; <span style="color:#ff0;font-weight:bold">5</span>; i ++ ) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.players.push(<span style="color:#fff;font-weight:bold">new</span> Player(<span style="color:#fff;font-weight:bold">this</span>, <span style="color:#fff;font-weight:bold">this</span>.width / <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#fff;font-weight:bold">this</span>.height / <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#fff;font-weight:bold">this</span>.height * <span style="color:#ff0;font-weight:bold">0.05</span>, <span style="color:#fff;font-weight:bold">this</span>.get_random_color(), <span style="color:#fff;font-weight:bold">this</span>.height * <span style="color:#ff0;font-weight:bold">0.15</span>, <span style="color:#fff;font-weight:bold">false</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ......
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>get_random_color() {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">let</span> colors = [<span style="color:#0ff;font-weight:bold">&#34;blue&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;red&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;pink&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;grey&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;green&#34;</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> colors[<span style="color:#fff;font-weight:bold">Math</span>.floor(<span style="color:#fff;font-weight:bold">Math</span>.random() * <span style="color:#ff0;font-weight:bold">5</span>)];
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="人机ai随机攻击操作">人机AI随机攻击操作</h3>
<p><code>js/src/playground/player/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>constructor (...) {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.spent_time = <span style="color:#ff0;font-weight:bold">0</span>;    <span style="color:#007f7f">// 初始人机冷却攻击时间
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>}
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>update() {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.spent_time += <span style="color:#fff;font-weight:bold">this</span>.timedelta / <span style="color:#ff0;font-weight:bold">1000</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> (!<span style="color:#fff;font-weight:bold">this</span>.is_me &amp;&amp; <span style="color:#fff;font-weight:bold">this</span>.spent_time &gt; <span style="color:#ff0;font-weight:bold">4</span> &amp;&amp; <span style="color:#fff;font-weight:bold">Math</span>.random() * <span style="color:#ff0;font-weight:bold">180</span> &lt; <span style="color:#ff0;font-weight:bold">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> player = <span style="color:#fff;font-weight:bold">this</span>.playground.players[<span style="color:#fff;font-weight:bold">Math</span>.floor(<span style="color:#fff;font-weight:bold">Math</span>.random() * <span style="color:#fff;font-weight:bold">this</span>.playground.players.length)];
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.shoot_fireball(player.x, player.y);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="部署nginx与对接acappஐ">部署nginx与对接acappஐ</h1>
<ul>
<li><a href="https://www.acwing.com/file_system/file/content/whole/index/content/3257028/">5. 部署nginx与对接acapp | 讲义</a></li>
<li><a href="https://www.acwing.com/solution/content/79244/">5.1 上课笔记 | Andrew1729</a></li>
<li><a href="https://www.acwing.com/solution/content/78903/">5.1. 上课笔记 | 菊花</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/364622127">Ngnix 介绍</a></li>
<li><a href="https://www.jianshu.com/p/36187963b553">nginx 和uwsgi的区别与作用</a></li>
</ul>
<hr>
<h2 id="nginx是什么">Nginx是什么？</h2>
<blockquote>
<p><strong>Nginx是一款自由的、开源的、高性能的HTTP服务器和反向代理服务器</strong></p>
<p><strong>Nginx可以作为一个HTTP服务器进行网站的发布处理，另外Nginx可以作为反向代理进行负载均衡的实现</strong></p>
<p><strong>Nginx中HttpUwsgiModule的作用是与uWSGI服务器进行交换</strong></p>
</blockquote>
<h2 id="uwsgi是什么">uWSGI是什么？</h2>
<blockquote>
<p><strong>uWSGI是一个全功能的HTTP服务器，实现了WSGI、uwsgi、http等协议</strong></p>
<p><strong>它要做的就是把HTTP协议转化成语言支持的网络协议。比如把HTTP协议转化成WSGI协议，让Python可以直接使用</strong></p>
<p><strong>WSGI协议是Python 语言定义的 Web 服务器和 Web 应用程序或框架之间的一种简单而通用的接口</strong></p>
<p><strong>简单来说uWSGI就是用来沟通nginx和django的一座桥梁</strong></p>
</blockquote>
<h2 id="nginxuwsgidiango-工作流程">Nginx+uWSGI+Diango 工作流程</h2>
<blockquote>
<p><strong><code>nginx</code> 是对外的服务接口，外部浏览器通过<code>url</code>访问<code>nginx</code></strong></p>
<p><strong><code>nginx</code> 接收到浏览器发送过来的<code>http</code>请求，将包进行解析</strong></p>
<p><strong>分析<code>url</code>，如果是静态文件请求就直接访问用户给<code>nginx</code>配置的静态文件目录，直接返回用户请求的静态文件</strong></p>
<p><strong>如果不是静态文件，而是一个动态的请求，那么<code>nginx</code>就将请求转发给<code>uwsgi</code>，<code>uwsgi</code> 接收到请求之后将包进行处理，处理成<code>wsgi</code>可以接受的格式，并发给<code>wsgi</code>，<code>wsgi</code> 根据请求调用应用程序的某个文件，某个文件的某个函数，最后处理完将返回值再次交给<code>wsgi</code>，<code>wsgi</code>将返回值进行打包，打包成<code>uwsgi</code>能够接收的格式，<code>uwsgi</code>接收<code>wsgi</code> 发送的请求，并转发给<code>nginx</code>, <code>nginx</code>最终将返回值返回给浏览器</strong></p>
</blockquote>
<h2 id="uwsgi服务的开启关闭">uwsgi服务的开启&amp;&amp;关闭</h2>
<ul>
<li>在<code>~/acapp</code>启动uwsgi服务：<strong><code>uwsgi --ini scripts/uwsgi.ini</code></strong></li>
<li>关闭uwsgi服务：<code>sudo pkill -f uwsgi -9</code></li>
</ul>
<h2 id="针对-acapp-的优化">针对 acapp 的优化</h2>
<h3 id="打包脚本优化">打包脚本优化</h3>
<p>由于现在 <strong>发布版本的脚本文件</strong> 用的是打包在根目录里的 <strong>static</strong> 文件夹</p>
<p>每次修改好 <strong>static</strong> 文件夹后，不仅需要对 <strong>js</strong> 文件打包，还需要对 <strong>static</strong> 文件夹打包</p>
<p>不放把 &ldquo;将static文件夹打包&rdquo; 的 <strong>shell</strong> 代码一起加入 <strong>js</strong> 打包脚本中，从而实现一键打包</p>
<p><code>scripts/compress_game_js.sh</code></p>
<pre tabindex="0"><code>#! /bin/bash

JS_PATH=/home/acs/acapp/game/static/js/
JS_PATH_DIST=${JS_PATH}dist/
JS_PATH_SRC=${JS_PATH}src/

find $JS_PATH_SRC -type f -name &#39;*.js&#39; | sort | xargs cat &gt; ${JS_PATH_DIST}game.js

echo &#34;yes&#34; | python3 manage.py collectstatic
</code></pre><h3 id="鼠标点击事件的相对偏移">鼠标点击事件的相对偏移</h3>
<p>由于写游戏界面的时候，玩家移动是按照鼠标相对于当前整个浏览器取的位置参数 <code>e.clientX</code></p>
<p>而 <code>acapp</code> 里，每个应用是一个小窗口，鼠标点击位置的参数应当是 <strong>相对于整个游戏窗口的位置参数</strong></p>
<p>所有会导致出现，点击的位置与移动的位置不同，这里需要做出小优化</p>
<p>优化的逻辑 :</p>
<ol>
<li>$clientX−窗口左侧到浏览器左侧的距离=玩家的目标X$</li>
<li>$clientY−窗口上侧到浏览器上侧的距离=玩家的目标Y$
这就要用到一个 <code>js</code> 的 <code>API</code> 了 : <code>getBoundingClientRect()</code></li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>rectObject = object.getBoundingClientRect();
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>rectObject.top : 元素上边到视窗上边的距离;
</span></span><span style="display:flex;"><span>rectObject.right : 元素右边到视窗左边的距离;
</span></span><span style="display:flex;"><span>rectObject.bottom : 元素下边到视窗上边的距离;
</span></span><span style="display:flex;"><span>rectObject.left : 元素左边到视窗左边的距离;
</span></span><span style="display:flex;"><span>rectObject.width : 是元素自身的宽
</span></span><span style="display:flex;"><span>rectObject.height : 是元素自身的高
</span></span></code></pre></div><p><code>player/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span> add_listening_events() {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.playground.game_map.$canvas.mousedown(<span style="color:#fff;font-weight:bold">function</span>(e) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 创建 rect 对象
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">const</span> rect = outer.ctx.canvas.getBoundingClientRect();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (e.which === <span style="color:#ff0;font-weight:bold">3</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// 调整偏移量
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            outer.move_to(e.clientX - rect.left, e.clientY - rect.top);
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">if</span> (e.which === <span style="color:#ff0;font-weight:bold">1</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span> (outer.cur_skill === <span style="color:#0ff;font-weight:bold">&#34;fireball&#34;</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">// 调整偏移量
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>                outer.shoot_fireball(e.clientX - rect.left, e.clientY - rect.top);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><h3 id="将菜单界面重新设为主界面">将菜单界面重新设为主界面</h3>
<p><code>js/zbase.js</code> 的注释取消，使之创建出 <strong>menu</strong> 对象</p>
<p><code>js/playground/zbase.js</code> 的注释取消，并设置逻辑，让 <strong>playground</strong> 打开后，才进行游戏界面初始化</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> AcGamePlayground {
</span></span><span style="display:flex;"><span>    constructor(root) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.root = root;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$playground = $(<span style="color:#0ff;font-weight:bold">`&lt;div class=&#34;ac-game-playground&#34;&gt;&lt;/div&gt;`</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.hide();    <span style="color:#007f7f">// 初始时隐藏
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// 游戏界面生成代码在下面展示 playground 时执行
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.start();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    show() {    <span style="color:#007f7f">// 打开 playground 界面
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.$playground.show();
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 开始生成游戏界面
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.root.$ac_game.append(<span style="color:#fff;font-weight:bold">this</span>.$playground);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.width = <span style="color:#fff;font-weight:bold">this</span>.$playground.width();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.height = <span style="color:#fff;font-weight:bold">this</span>.$playground.height();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.game_map = <span style="color:#fff;font-weight:bold">new</span> GameMap(<span style="color:#fff;font-weight:bold">this</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.players = [];  <span style="color:#007f7f">// 存放当前游戏中的所有玩家
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// 将玩家加入游戏中
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.players.push(<span style="color:#fff;font-weight:bold">new</span> Player(<span style="color:#fff;font-weight:bold">this</span>, <span style="color:#fff;font-weight:bold">this</span>.width / <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#fff;font-weight:bold">this</span>.height / <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#fff;font-weight:bold">this</span>.height * <span style="color:#ff0;font-weight:bold">0.05</span>, <span style="color:#0ff;font-weight:bold">&#34;white&#34;</span>, <span style="color:#fff;font-weight:bold">this</span>.height * <span style="color:#ff0;font-weight:bold">0.15</span>, <span style="color:#fff;font-weight:bold">true</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 创建好 5 个人机
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">let</span> i = <span style="color:#ff0;font-weight:bold">0</span>; i &lt; <span style="color:#ff0;font-weight:bold">5</span>; i ++ ) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.players.push(<span style="color:#fff;font-weight:bold">new</span> Player(<span style="color:#fff;font-weight:bold">this</span>, <span style="color:#fff;font-weight:bold">this</span>.width / <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#fff;font-weight:bold">this</span>.height / <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#fff;font-weight:bold">this</span>.height * <span style="color:#ff0;font-weight:bold">0.05</span>, <span style="color:#fff;font-weight:bold">this</span>.get_random_color(), <span style="color:#fff;font-weight:bold">this</span>.height * <span style="color:#ff0;font-weight:bold">0.15</span>, <span style="color:#fff;font-weight:bold">false</span>));
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="调整-css-文件适应窗口">调整 css 文件，适应窗口</h3>
<p>在设置 <code>web</code> 网页的时候，有些设置了绝对值，可能对于窗口化的 <code>acapp</code> 显示效果差</p>
<p>将他们修改成相对数值</p>
<p><code>game.css</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>.ac-game-menu-field {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    top: <span style="color:#ff0;font-weight:bold">40</span>%;
</span></span><span style="display:flex;"><span>    left: <span style="color:#ff0;font-weight:bold">20</span>%;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>.ac-game-menu-field-item {
</span></span><span style="display:flex;"><span>    height: <span style="color:#ff0;font-weight:bold">6</span>vh;
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    font-size: <span style="color:#ff0;font-weight:bold">4</span>vh;
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><h1 id="创建账号系统">创建账号系统</h1>
<p><a href="https://www.acwing.com/file_system/file/content/whole/index/content/3294700/">6. 创建账号系统 | 讲义</a></p>
<hr>
<h2 id="用户名密码登录">用户名密码登录</h2>
<ul>
<li><a href="https://www.acwing.com/blog/content/12373/">6.1 用户名密码登录 | 讲义</a></li>
<li><a href="https://www.acwing.com/solution/content/79314/">6.1 上课笔记 | Andrew1729</a></li>
<li><a href="https://www.acwing.com/solution/content/75831/">6.1 上课笔记 | 吃饱喝足不学习</a></li>
</ul>
<hr>
<h3 id="客户端请求与django响应流程">客户端请求与Django响应流程</h3>
<blockquote>
<p><strong>用户在客户端通过<code>$.ajax</code>发送请求，根据<code>urls</code>路由到对应的<code>views</code>中的函数，处理<code>request</code>后返回<code>JsonResponse</code> 至客户端</strong></p>
</blockquote>
<h3 id="前期准备工作">前期准备工作</h3>
<p>做开发，先开启调试模式，如果不开启，服务器一旦运行错误，就只返回 <code>Error</code> 报错
<code>settings.py</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>DEBUG = <span style="color:#fff;font-weight:bold">True</span>
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><p>不过 <code>django</code> 自带的 <code>User</code> 表并不能满足我们的需求，因此我们需要自己额外建表</p>
<h3 id="创建用户表">创建用户表</h3>
<p>所有的数据表都存在 <code>models</code> 里</p>
<p>我们在 <code>models</code> 里创建一个 <code>player</code> 文件夹，用于存储所有的 <code>player</code> 相关的表</p>
<p>然后对文件夹初始化 <code>__init__.py</code>，接着扩充成一个我们需要的数据表</p>
<p><code>game/models/player/player.py</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> django.db <span style="color:#fff;font-weight:bold">import</span> models
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> django.contrib.auth.models <span style="color:#fff;font-weight:bold">import</span> User
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Player(models.Model): <span style="color:#007f7f"># Player 类继承自 Model 类</span>
</span></span><span style="display:flex;"><span>    user = models.OneToOneField(User, on_delete=models.CASCADE)
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f"># 说明Player是从User表扩充过来的，每一个player都与一个user是一一对应关联关系</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f"># 后一个参数是指，当user被删除后，对应的player也要被删除</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f"># （感觉就是外键的意思）</span>
</span></span><span style="display:flex;"><span>    photo = models.URLField(max_length=<span style="color:#ff0;font-weight:bold">256</span>, blank=<span style="color:#fff;font-weight:bold">True</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f"># 用于存储用户的头像的url</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f"># 指定每个player数据展示在前台的数据</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">def</span> __str__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">str</span>(self.user)    <span style="color:#007f7f"># 展示用户的用户名</span>
</span></span></code></pre></div><p>将定义的表，注册到后台 <code>admin</code> 页面中</p>
<p><code>game/admin.py</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> game.models.player.player <span style="color:#fff;font-weight:bold">import</span> Player
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>admin.site.register(Player)
</span></span></code></pre></div><p>然后将创建的数据表更新到 <code>django</code> 的数据库中去</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f00">$</span> python3 manage.py makemigrations
</span></span><span style="display:flex;"><span>&gt; Migrations <span style="color:#fff;font-weight:bold">for</span> <span style="color:#0ff;font-weight:bold">&#39;game&#39;</span>:
</span></span><span style="display:flex;"><span>&gt;   game/migrations/<span style="color:#ff0;font-weight:bold">0001</span>_initial.py
</span></span><span style="display:flex;"><span>&gt;     - Create model Player
</span></span><span style="display:flex;"><span><span style="color:#f00">$</span> 
</span></span><span style="display:flex;"><span><span style="color:#f00">$</span> python3 manage.py migrate
</span></span><span style="display:flex;"><span>&gt; Operations to perform:
</span></span><span style="display:flex;"><span>&gt;   Apply <span style="color:#fff;font-weight:bold">all</span> migrations: admin, auth, contenttypes, game, sessions
</span></span><span style="display:flex;"><span>&gt; Running migrations:
</span></span><span style="display:flex;"><span>&gt;   Applying game<span style="color:#ff0;font-weight:bold">.0001</span>_initial... OK
</span></span></code></pre></div><p>然后重启一下服务，就可以在管理员页面看到新建的数据库了</p>
<h3 id="实现客户端的类型判别acapp-or-web">实现客户端的类型判别（ACAPP or WEB）</h3>
<p>由于我们实现的项目是前后端分离类型，因此对于不同的客户端，前端要控制生成不同的页面</p>
<p>为了增强扩展性，故这里要实现客户端类型的判别</p>
<p><strong>y总</strong> 已经提前写好了 <strong>ACAPP</strong> 的接口，如果用户用的是 <strong>ACAPP</strong> 访问，则在新建对象 <strong>ac_game</strong> 时，会额外传递一个参数</p>
<p>我们只需按照这个接口去完成扩充即可</p>
<blockquote>
<p><strong>之后写小程序之类的同理，额外传一个接口</strong></p>
</blockquote>
<p><code>js/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">export</span> <span style="color:#fff;font-weight:bold">class</span> AcGame {
</span></span><span style="display:flex;"><span>    constructor(id, AcWingOS) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.id = id;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$ac_game = $(<span style="color:#0ff;font-weight:bold">&#39;#&#39;</span> + id);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.AcWingOS = AcWingOS;   <span style="color:#007f7f">//如果是acapp端，该变量就会带着一系列y总提供的接口
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.menu = <span style="color:#fff;font-weight:bold">new</span> AcGameMenu(<span style="color:#fff;font-weight:bold">this</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.playground = <span style="color:#fff;font-weight:bold">new</span> AcGamePlayground(<span style="color:#fff;font-weight:bold">this</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.start();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    start() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="构建登录功能框架">构建登录功能框架</h3>
<p>基本逻辑 : 用户访问页面 -&gt; 进入登录页面 -&gt; 提交登录信息 -&gt; 核对登录信息 -&gt; 返回登陆结果和其他信息</p>
<p>每实现一个函数，就需要实现三个部分：</p>
<ol>
<li><code>views</code> : 实现具体的调用数据库的逻辑</li>
<li><code>urls</code> : 实现一个路由</li>
<li><code>js</code> : 前端实现GET上述接口的过程</li>
</ol>
<p>欲实现流程 :</p>
<ol>
<li>用户访问网站，通过先前完成的路由，访问到 <code>web.html </code></li>
<li><code>web.html</code> 中的 <code>js</code> 部分创建了一个 <code>AcGame</code> 对象</li>
<li><code>AcGame</code> 对象创建的过程中，生成了 <code>Settings</code> 对象</li>
<li><code>Settings</code> 对象创建完成后，调用 <code>Settings.start()</code> 函数</li>
<li><code>Settings.start()</code> 函数调用了 <code>Settings.getinfo()</code> 函数</li>
<li><code>Settings.getinfo()</code> 函数中执行了 <code>ajax</code> 向 <code>getinfo</code> 接口发起一个含参数 <code>platform</code> 的 <code>GET</code> 请求</li>
<li>通过 <code>urls</code> 路由的实现，最终定位到 <code>views/settings/getinfo.py</code> 文件的 <code>getinfo(request)</code> 函数</li>
<li>根据传递过来的 <code>platform</code> 函数，实现不同的 <code>JsonResponse</code> 返回</li>
<li><code>Settings.getinfo()</code> 接受到了 <code>response</code> 完成上述基本逻辑</li>
</ol>
<h4 id="views">views</h4>
<p><code>views/settings/getinfo.py</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> django.http <span style="color:#fff;font-weight:bold">import</span> JsonResponse
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> game.models.player.player <span style="color:#fff;font-weight:bold">import</span> Player
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">def</span> getinfo_acapp(request):
</span></span><span style="display:flex;"><span>    player = Player.objects.all()[<span style="color:#ff0;font-weight:bold">0</span>]    <span style="color:#007f7f"># 取出数据库中第一个用户(调试该功能)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> JsonResponse({
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#39;result&#39;</span>: <span style="color:#0ff;font-weight:bold">&#34;success&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#39;username&#39;</span>: player.user.username,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#39;photo&#39;</span>: player.photo,
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">def</span> getinfo_web(request):
</span></span><span style="display:flex;"><span>    player = Player.objects.all()[<span style="color:#ff0;font-weight:bold">0</span>]    <span style="color:#007f7f"># 取出数据库中第一个用户(调试该功能)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> JsonResponse({
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#39;result&#39;</span>: <span style="color:#0ff;font-weight:bold">&#34;success&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#39;username&#39;</span>: player.user.username,
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#39;photo&#39;</span>: player.photo,
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">def</span> getinfo(request):   <span style="color:#007f7f"># 处理请求</span>
</span></span><span style="display:flex;"><span>    platform = request.GET.get(<span style="color:#0ff;font-weight:bold">&#39;platform&#39;</span>)  <span style="color:#007f7f"># 根据请求的平台不同，进行不同返回处理</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> platform == <span style="color:#0ff;font-weight:bold">&#34;ACAPP&#34;</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> getinfo_acapp(request)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">elif</span> platform == <span style="color:#0ff;font-weight:bold">&#34;WEB&#34;</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> getinfo_web(request)
</span></span></code></pre></div><h4 id="urls">urls</h4>
<p><code>urls/settings/index.py</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> django.urls <span style="color:#fff;font-weight:bold">import</span> path
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> game.views.settings.getinfo <span style="color:#fff;font-weight:bold">import</span> getinfo
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>urlpatterns = [
</span></span><span style="display:flex;"><span>    path(<span style="color:#0ff;font-weight:bold">&#34;getinfo/&#34;</span>, getinfo, name=<span style="color:#0ff;font-weight:bold">&#34;settings_getinfo&#34;</span>),
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><p>路由建立好以后，访问 <code>xxxx/settings/getinfo</code>，可以看到 <code>getinfo.py</code> 返回的 <code>JSON</code> 类型的 <code>JSONResponse</code></p>
<h4 id="js">js</h4>
<p>网页刚访问时，应先将 <code>menu</code> 关闭，然后打开登录界面，随意先修改一个让 <code>menu</code> 初始关闭</p>
<p><code>static/js/src/menu/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> AcGameMenu {
</span></span><span style="display:flex;"><span>    constructor(root) {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$menu.hide();
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span></code></pre></div><p><code>static/js/src/settings/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Settings {
</span></span><span style="display:flex;"><span>    constructor(root) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.root = root;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.platform = <span style="color:#0ff;font-weight:bold">&#34;WEB&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">this</span>.root.AcWingOS) <span style="color:#fff;font-weight:bold">this</span>.platform = <span style="color:#0ff;font-weight:bold">&#34;ACAPP&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.start();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    start() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.getinfo();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    register() {    <span style="color:#007f7f">// 打开注册界面
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    }
</span></span><span style="display:flex;"><span>    login() {       <span style="color:#007f7f">// 打开登录界面
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    }
</span></span><span style="display:flex;"><span>    getinfo() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> outer = <span style="color:#fff;font-weight:bold">this</span>;
</span></span><span style="display:flex;"><span>        $.ajax({
</span></span><span style="display:flex;"><span>            url: <span style="color:#0ff;font-weight:bold">&#34;https://app1117.acapp.acwing.com.cn/settings/getinfo/&#34;</span>,
</span></span><span style="display:flex;"><span>            type: <span style="color:#0ff;font-weight:bold">&#34;GET&#34;</span>,
</span></span><span style="display:flex;"><span>            data: {
</span></span><span style="display:flex;"><span>                platform: outer.platform,
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            success: <span style="color:#fff;font-weight:bold">function</span>(resp) {
</span></span><span style="display:flex;"><span>                console.log(resp);
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">if</span> (resp.result === <span style="color:#0ff;font-weight:bold">&#34;success&#34;</span>) {    <span style="color:#007f7f">// 登录成功，关闭登录界面，打开主菜单
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>                    outer.hide();
</span></span><span style="display:flex;"><span>                    outer.root.menu.show();
</span></span><span style="display:flex;"><span>                } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                    outer.login();
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    hide() {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    show() {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>然后不要忘记在 <code>根js</code> 下创建对象</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">export</span> <span style="color:#fff;font-weight:bold">class</span> AcGame {
</span></span><span style="display:flex;"><span>    constructor(id, AcWingOS) {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.settings = <span style="color:#fff;font-weight:bold">new</span> Settings(<span style="color:#fff;font-weight:bold">this</span>);
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>这样基本框架就完成了</p>
<h4 id="完善-http-请求的函数">完善 HTTP 请求的函数</h4>
<p>如果用户未登录，返回信息 &ldquo;not login&rdquo;</p>
<p>如果用户登录，返回信息 &ldquo;success&rdquo; 以及用户名和头像</p>
<p><code>views/setting/getinfo.py</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">def</span> getinfo_web(request):
</span></span><span style="display:flex;"><span>    user = request.user
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> not user.is_authenticated:   <span style="color:#007f7f"># 未登录</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> JsonResponse({
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#39;result&#39;</span>: <span style="color:#0ff;font-weight:bold">&#34;not login&#34;</span>
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">else</span>:                           <span style="color:#007f7f"># 已登录</span>
</span></span><span style="display:flex;"><span>        player = Player.objects.get(user=user)
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> JsonResponse({
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#39;result&#39;</span>: <span style="color:#0ff;font-weight:bold">&#34;success&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#39;username&#39;</span>: player.user.username,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#39;photo&#39;</span>: player.photo,
</span></span><span style="display:flex;"><span>        })
</span></span></code></pre></div><p>注意前后台是一个登录系统，因此要先退掉后台，再测试</p>
<h3 id="将用户头像渲染到玩家上">将用户头像渲染到玩家上</h3>
<p>将返回的 <code>JsonResponse</code> 存到 <code>Settings</code> 类的变量中
<code>settings/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Settings {
</span></span><span style="display:flex;"><span>    constructor(root) {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.username = <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.photo = <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    getinfo() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> outer = <span style="color:#fff;font-weight:bold">this</span>;
</span></span><span style="display:flex;"><span>        $.ajax({
</span></span><span style="display:flex;"><span>            ...
</span></span><span style="display:flex;"><span>            success: <span style="color:#fff;font-weight:bold">function</span>(resp) {
</span></span><span style="display:flex;"><span>                ...
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">if</span> (resp.result === <span style="color:#0ff;font-weight:bold">&#34;success&#34;</span>) {
</span></span><span style="display:flex;"><span>                    outer.username = resp.username;
</span></span><span style="display:flex;"><span>                    outer.photo = resp.photo;
</span></span><span style="display:flex;"><span>                    ...
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                ..
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>然后在 <code>Player</code> 里把用户的头像渲染到对应的玩家上</p>
<p><code>playground/player/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Player {
</span></span><span style="display:flex;"><span>    constructor(...) {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.img = <span style="color:#fff;font-weight:bold">new</span> Image();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.img.src = <span style="color:#fff;font-weight:bold">this</span>.playground.root.settings.photo;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    render() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">this</span>.is_me) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.ctx.save();
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.ctx.beginPath();
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.ctx.arc(<span style="color:#fff;font-weight:bold">this</span>.x, <span style="color:#fff;font-weight:bold">this</span>.y, <span style="color:#fff;font-weight:bold">this</span>.radius, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#fff;font-weight:bold">Math</span>.PI * <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#fff;font-weight:bold">false</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.ctx.stroke();
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.ctx.clip();
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.ctx.drawImage(<span style="color:#fff;font-weight:bold">this</span>.img, <span style="color:#fff;font-weight:bold">this</span>.x - <span style="color:#fff;font-weight:bold">this</span>.radius, <span style="color:#fff;font-weight:bold">this</span>.y - <span style="color:#fff;font-weight:bold">this</span>.radius, 
</span></span><span style="display:flex;"><span>                               <span style="color:#fff;font-weight:bold">this</span>.radius * <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#fff;font-weight:bold">this</span>.radius * <span style="color:#ff0;font-weight:bold">2</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.ctx.restore();
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.ctx.beginPath();
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.ctx.arc(<span style="color:#fff;font-weight:bold">this</span>.x, <span style="color:#fff;font-weight:bold">this</span>.y, <span style="color:#fff;font-weight:bold">this</span>.radius, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">2</span> * <span style="color:#fff;font-weight:bold">Math</span>.PI, <span style="color:#fff;font-weight:bold">false</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.ctx.fillStyle = <span style="color:#fff;font-weight:bold">this</span>.color;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.ctx.fill();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="实现登录界面的前端">实现登录界面的前端</h3>
<p>先完成登录界面显示的逻辑</p>
<p><code>settings/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Settings {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    register() {  <span style="color:#007f7f">// 打开注册界面
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.$login.hide();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$register.show();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    login() {  <span style="color:#007f7f">// 打开登录界面
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.$register.hide();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$login.show();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    hide() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$settings.hide();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    show() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$settings.show();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="实现前端的基础框架">实现前端的基础框架</h4>
<p><code>settings/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Settings {
</span></span><span style="display:flex;"><span>    constructor(root) {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$settings = $(<span style="color:#0ff;font-weight:bold">`
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">&lt;div class=&#34;ac-game-settings&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">    &lt;div class=&#34;ac-game-settings-login&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;div class=&#34;ac-game-settings-title&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            登录
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;div class=&#34;ac-game-settings-username&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;div class=&#34;ac-game-settings-item&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">                &lt;input type=&#34;text&#34; placeholder=&#34;用户名&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;div class=&#34;ac-game-settings-password&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;div class=&#34;ac-game-settings-item&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">                &lt;input type=&#34;password&#34; placeholder=&#34;密码&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;div class=&#34;ac-game-settings-submit&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;div class=&#34;ac-game-settings-item&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">                &lt;button&gt;登录&lt;/button&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;div class=&#34;ac-game-settings-error-message&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;div class=&#34;ac-game-settings-option&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            注册
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;br&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;div class=&#34;ac-game-settings-acwing&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;img width=&#34;30&#34; src=&#34;https://app165.acapp.acwing.com.cn/static/image/settings/acwing_logo.png&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;br&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">                AcWing一键登录
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">    &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">    &lt;div class=&#34;ac-game-settings-register&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;div class=&#34;ac-game-settings-title&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            注册
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;div class=&#34;ac-game-settings-username&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;div class=&#34;ac-game-settings-item&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">                &lt;input type=&#34;text&#34; placeholder=&#34;用户名&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;div class=&#34;ac-game-settings-password ac-game-settings-password-first&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;div class=&#34;ac-game-settings-item&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">                &lt;input type=&#34;password&#34; placeholder=&#34;密码&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;div class=&#34;ac-game-settings-password ac-game-settings-password-second&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;div class=&#34;ac-game-settings-item&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">                &lt;input type=&#34;password&#34; placeholder=&#34;确认密码&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;div class=&#34;ac-game-settings-submit&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;div class=&#34;ac-game-settings-item&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">                &lt;button&gt;注册&lt;/button&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;div class=&#34;ac-game-settings-error-message&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;div class=&#34;ac-game-settings-option&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            登录
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;br&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;div class=&#34;ac-game-settings-acwing&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;img width=&#34;30&#34; src=&#34;https://app165.acapp.acwing.com.cn/static/image/settings/acwing_logo.png&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;br&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">                AcWing一键登录
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">            &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">        &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">    &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">&lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">`</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$login = <span style="color:#fff;font-weight:bold">this</span>.$settings.find(<span style="color:#0ff;font-weight:bold">&#34;.ac-game-settings-login&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$login_username = <span style="color:#fff;font-weight:bold">this</span>.$login.find(<span style="color:#0ff;font-weight:bold">&#34;.ac-game-settings-username input&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$login_password = <span style="color:#fff;font-weight:bold">this</span>.$login.find(<span style="color:#0ff;font-weight:bold">&#34;.ac-game-settings-password input&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$login_submit = <span style="color:#fff;font-weight:bold">this</span>.$login.find(<span style="color:#0ff;font-weight:bold">&#34;.ac-game-settings-submit button&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$login_error_message = <span style="color:#fff;font-weight:bold">this</span>.$login.find(<span style="color:#0ff;font-weight:bold">&#34;.ac-game-settings-error-message&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$login_register = <span style="color:#fff;font-weight:bold">this</span>.$login.find(<span style="color:#0ff;font-weight:bold">&#34;.ac-game-settings-option&#34;</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$login.hide();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$register = <span style="color:#fff;font-weight:bold">this</span>.$settings.find(<span style="color:#0ff;font-weight:bold">&#34;.ac-game-settings-register&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$register_username = <span style="color:#fff;font-weight:bold">this</span>.$register.find(<span style="color:#0ff;font-weight:bold">&#34;.ac-game-settings-username input&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$register_password = <span style="color:#fff;font-weight:bold">this</span>.$register.find(<span style="color:#0ff;font-weight:bold">&#34;.ac-game-settings-password-first input&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$register_password_confirm = <span style="color:#fff;font-weight:bold">this</span>.$register.find(<span style="color:#0ff;font-weight:bold">&#34;.ac-game-settings-password-second input&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$register_submit = <span style="color:#fff;font-weight:bold">this</span>.$register.find(<span style="color:#0ff;font-weight:bold">&#34;.ac-game-settings-submit button&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$register_error_message = <span style="color:#fff;font-weight:bold">this</span>.$register.find(<span style="color:#0ff;font-weight:bold">&#34;.ac-game-settings-error-message&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$register_login = <span style="color:#fff;font-weight:bold">this</span>.$register.find(<span style="color:#0ff;font-weight:bold">&#34;.ac-game-settings-option&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$register.hide();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.root.$ac_game.append(<span style="color:#fff;font-weight:bold">this</span>.$settings);
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>对应的 <code>css</code> 文件部分：</p>
<p><code>css/game.css</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>.ac-game-settings {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">width</span>: <span style="color:#ff0;font-weight:bold">100</span><span style="color:#fff;font-weight:bold">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">height</span>: <span style="color:#ff0;font-weight:bold">100</span><span style="color:#fff;font-weight:bold">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">background-image</span>: <span style="color:#fff;font-weight:bold">url</span>(<span style="color:#0ff;font-weight:bold">&#34;/static/image/menu/background.gif&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">background-size</span>: <span style="color:#ff0;font-weight:bold">100</span><span style="color:#fff;font-weight:bold">%</span> <span style="color:#ff0;font-weight:bold">100</span><span style="color:#fff;font-weight:bold">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">user-select</span>: <span style="color:#fff;font-weight:bold">none</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.ac-game-settings-login {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">height</span>: <span style="color:#ff0;font-weight:bold">41</span><span style="color:#fff;font-weight:bold">vh</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">width</span>: <span style="color:#ff0;font-weight:bold">20</span><span style="color:#fff;font-weight:bold">vw</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">position</span>: <span style="color:#fff;font-weight:bold">relative</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">top</span>: <span style="color:#ff0;font-weight:bold">50</span><span style="color:#fff;font-weight:bold">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">left</span>: <span style="color:#ff0;font-weight:bold">50</span><span style="color:#fff;font-weight:bold">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">transform</span>: <span style="color:#fff;font-weight:bold">translate</span>(<span style="color:#ff0;font-weight:bold">-50</span><span style="color:#fff;font-weight:bold">%</span>, <span style="color:#ff0;font-weight:bold">-50</span><span style="color:#fff;font-weight:bold">%</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">background-color</span>: <span style="color:#fff;font-weight:bold">rgba</span>(<span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">0.7</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">border-radius</span>: <span style="color:#ff0;font-weight:bold">5</span><span style="color:#fff;font-weight:bold">px</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.ac-game-settings-title {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">color</span>: <span style="color:#fff;font-weight:bold">white</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">font-size</span>: <span style="color:#ff0;font-weight:bold">3</span><span style="color:#fff;font-weight:bold">vh</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">text-align</span>: <span style="color:#fff;font-weight:bold">center</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">padding-top</span>: <span style="color:#ff0;font-weight:bold">2</span><span style="color:#fff;font-weight:bold">vh</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">margin-bottom</span>: <span style="color:#ff0;font-weight:bold">2</span><span style="color:#fff;font-weight:bold">vh</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.ac-game-settings-username {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">display</span>: <span style="color:#fff;font-weight:bold">block</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">height</span>: <span style="color:#ff0;font-weight:bold">7</span><span style="color:#fff;font-weight:bold">vh</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.ac-game-settings-password {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">display</span>: <span style="color:#fff;font-weight:bold">block</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">height</span>: <span style="color:#ff0;font-weight:bold">7</span><span style="color:#fff;font-weight:bold">vh</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.ac-game-settings-submit {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">display</span>: <span style="color:#fff;font-weight:bold">block</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">height</span>: <span style="color:#ff0;font-weight:bold">7</span><span style="color:#fff;font-weight:bold">vh</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.ac-game-settings-acwing {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">display</span>: <span style="color:#fff;font-weight:bold">block</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">height</span>: <span style="color:#ff0;font-weight:bold">7</span><span style="color:#fff;font-weight:bold">vh</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.ac-game-settings-item {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">width</span>: <span style="color:#ff0;font-weight:bold">100</span><span style="color:#fff;font-weight:bold">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">height</span>: <span style="color:#ff0;font-weight:bold">100</span><span style="color:#fff;font-weight:bold">%</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.ac-game-settings-item &gt; <span style="font-weight:bold">input</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">width</span>: <span style="color:#ff0;font-weight:bold">90</span><span style="color:#fff;font-weight:bold">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">line-height</span>: <span style="color:#ff0;font-weight:bold">3</span><span style="color:#fff;font-weight:bold">vh</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">position</span>: <span style="color:#fff;font-weight:bold">relative</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">top</span>: <span style="color:#ff0;font-weight:bold">50</span><span style="color:#fff;font-weight:bold">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">left</span>: <span style="color:#ff0;font-weight:bold">50</span><span style="color:#fff;font-weight:bold">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">transform</span>: <span style="color:#fff;font-weight:bold">translate</span>(<span style="color:#ff0;font-weight:bold">-50</span><span style="color:#fff;font-weight:bold">%</span>, <span style="color:#ff0;font-weight:bold">-50</span><span style="color:#fff;font-weight:bold">%</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.ac-game-settings-item &gt; <span style="font-weight:bold">button</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">color</span>: <span style="color:#fff;font-weight:bold">white</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">width</span>: <span style="color:#ff0;font-weight:bold">90</span><span style="color:#fff;font-weight:bold">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">line-height</span>: <span style="color:#ff0;font-weight:bold">3</span><span style="color:#fff;font-weight:bold">vh</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">position</span>: <span style="color:#fff;font-weight:bold">relative</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">top</span>: <span style="color:#ff0;font-weight:bold">50</span><span style="color:#fff;font-weight:bold">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">left</span>: <span style="color:#ff0;font-weight:bold">50</span><span style="color:#fff;font-weight:bold">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">transform</span>: <span style="color:#fff;font-weight:bold">translate</span>(<span style="color:#ff0;font-weight:bold">-50</span><span style="color:#fff;font-weight:bold">%</span>, <span style="color:#ff0;font-weight:bold">-50</span><span style="color:#fff;font-weight:bold">%</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">background-color</span>: <span style="color:#ff0;font-weight:bold">#4CAF50</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">border-radius</span>: <span style="color:#ff0;font-weight:bold">5</span><span style="color:#fff;font-weight:bold">px</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.ac-game-settings-error-message {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">color</span>: <span style="color:#fff;font-weight:bold">red</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">font-size</span>: <span style="color:#ff0;font-weight:bold">0.8</span><span style="color:#fff;font-weight:bold">vh</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">display</span>: <span style="color:#fff;font-weight:bold">inline</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">float</span>: <span style="color:#fff;font-weight:bold">left</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">padding-left</span>: <span style="color:#ff0;font-weight:bold">1</span><span style="color:#fff;font-weight:bold">vw</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.ac-game-settings-option {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">color</span>: <span style="color:#fff;font-weight:bold">white</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">font-size</span>: <span style="color:#ff0;font-weight:bold">2</span><span style="color:#fff;font-weight:bold">vh</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">display</span>: <span style="color:#fff;font-weight:bold">inline</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">float</span>: <span style="color:#fff;font-weight:bold">right</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">padding-right</span>: <span style="color:#ff0;font-weight:bold">1</span><span style="color:#fff;font-weight:bold">vw</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">cursor</span>: <span style="color:#fff;font-weight:bold">pointer</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.ac-game-settings-acwing &gt; <span style="font-weight:bold">img</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">position</span>: <span style="color:#fff;font-weight:bold">relative</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">top</span>: <span style="color:#ff0;font-weight:bold">50</span><span style="color:#fff;font-weight:bold">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">left</span>: <span style="color:#ff0;font-weight:bold">50</span><span style="color:#fff;font-weight:bold">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">transform</span>: <span style="color:#fff;font-weight:bold">translate</span>(<span style="color:#ff0;font-weight:bold">-50</span><span style="color:#fff;font-weight:bold">%</span>, <span style="color:#ff0;font-weight:bold">-50</span><span style="color:#fff;font-weight:bold">%</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">cursor</span>: <span style="color:#fff;font-weight:bold">pointer</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">display</span>: <span style="color:#fff;font-weight:bold">block</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.ac-game-settings-acwing &gt; <span style="font-weight:bold">div</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">color</span>: <span style="color:#fff;font-weight:bold">white</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">font-size</span>: <span style="color:#ff0;font-weight:bold">1.5</span><span style="color:#fff;font-weight:bold">vh</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">text-align</span>: <span style="color:#fff;font-weight:bold">center</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">display</span>: <span style="color:#fff;font-weight:bold">block</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.ac-game-settings-register {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">height</span>: <span style="color:#ff0;font-weight:bold">49</span><span style="color:#fff;font-weight:bold">vh</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">width</span>: <span style="color:#ff0;font-weight:bold">20</span><span style="color:#fff;font-weight:bold">vw</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">position</span>: <span style="color:#fff;font-weight:bold">relative</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">top</span>: <span style="color:#ff0;font-weight:bold">50</span><span style="color:#fff;font-weight:bold">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">left</span>: <span style="color:#ff0;font-weight:bold">50</span><span style="color:#fff;font-weight:bold">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">transform</span>: <span style="color:#fff;font-weight:bold">translate</span>(<span style="color:#ff0;font-weight:bold">-50</span><span style="color:#fff;font-weight:bold">%</span>, <span style="color:#ff0;font-weight:bold">-50</span><span style="color:#fff;font-weight:bold">%</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">background-color</span>: <span style="color:#fff;font-weight:bold">rgba</span>(<span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">0.7</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">border-radius</span>: <span style="color:#ff0;font-weight:bold">5</span><span style="color:#fff;font-weight:bold">px</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="实现登录注册的相互切换">实现登录/注册的相互切换</h4>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Settings {
</span></span><span style="display:flex;"><span>    constructor(root) {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    start() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.getinfo();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.add_listening_events();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    add_listening_events() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.add_listening_events_login();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.add_listening_events_register();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    add_listening_events_login() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> outer = <span style="color:#fff;font-weight:bold">this</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$login_register.click(<span style="color:#fff;font-weight:bold">function</span>() {
</span></span><span style="display:flex;"><span>            outer.register();   <span style="color:#007f7f">// 跳到注册界面
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    add_listening_events_register() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> outer = <span style="color:#fff;font-weight:bold">this</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$register_login.click(<span style="color:#fff;font-weight:bold">function</span>() {
</span></span><span style="display:flex;"><span>            outer.login();      <span style="color:#007f7f">// 跳到登录界面
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        })
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="实现登录功能">实现登录功能</h3>
<p><code>views/settings/login.py</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> django.http <span style="color:#fff;font-weight:bold">import</span> JsonResponse
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> django.contrib.auth <span style="color:#fff;font-weight:bold">import</span> authenticate, login
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">def</span> signin(request):
</span></span><span style="display:flex;"><span>    data = request.GET
</span></span><span style="display:flex;"><span>    username = data.get(<span style="color:#0ff;font-weight:bold">&#39;username&#39;</span>)
</span></span><span style="display:flex;"><span>    password = data.get(<span style="color:#0ff;font-weight:bold">&#39;password&#39;</span>)
</span></span><span style="display:flex;"><span>    user = authenticate(username=username, password=password)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> not user:
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> JsonResponse({
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#39;result&#39;</span>: <span style="color:#0ff;font-weight:bold">&#34;用户名或密码不正确&#34;</span>
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>    login(request, user)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> JsonResponse({
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#39;result&#39;</span>: <span style="color:#0ff;font-weight:bold">&#34;success&#34;</span>
</span></span><span style="display:flex;"><span>    })
</span></span></code></pre></div><p><code>urls/settings/index.py</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> django.urls <span style="color:#fff;font-weight:bold">import</span> path
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> game.views.settings.getinfo <span style="color:#fff;font-weight:bold">import</span> getinfo
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> game.views.settings.login <span style="color:#fff;font-weight:bold">import</span> signin
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>urlpatterns = [
</span></span><span style="display:flex;"><span>    path(<span style="color:#0ff;font-weight:bold">&#34;getinfo/&#34;</span>, getinfo, name=<span style="color:#0ff;font-weight:bold">&#34;settings_getinfo&#34;</span>),
</span></span><span style="display:flex;"><span>    path(<span style="color:#0ff;font-weight:bold">&#34;login/&#34;</span>, signin, name=<span style="color:#0ff;font-weight:bold">&#34;settings_login&#34;</span>),
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><p><code>settings/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Settings{
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    add_listening_events_login() {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$login_submit.click(<span style="color:#fff;font-weight:bold">function</span>() {
</span></span><span style="display:flex;"><span>            outer.login_on_remote();
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    login_on_remote() {     <span style="color:#007f7f">// 在远程服务器上登录
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">let</span> outer = <span style="color:#fff;font-weight:bold">this</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> username = <span style="color:#fff;font-weight:bold">this</span>.$login_username.val();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> password = <span style="color:#fff;font-weight:bold">this</span>.$login_password.val();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$login_error_message.empty();
</span></span><span style="display:flex;"><span>        $.ajax({
</span></span><span style="display:flex;"><span>            url: <span style="color:#0ff;font-weight:bold">&#34;https://app1117.acapp.acwing.com.cn/settings/login/&#34;</span>,
</span></span><span style="display:flex;"><span>            type: <span style="color:#0ff;font-weight:bold">&#34;GET&#34;</span>,
</span></span><span style="display:flex;"><span>            data: {
</span></span><span style="display:flex;"><span>                username: username,
</span></span><span style="display:flex;"><span>                password: password,
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            success: <span style="color:#fff;font-weight:bold">function</span>(resp) {
</span></span><span style="display:flex;"><span>                console.log(resp);
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">if</span> (resp.result === <span style="color:#0ff;font-weight:bold">&#34;success&#34;</span>) {
</span></span><span style="display:flex;"><span>                    location.reload();
</span></span><span style="display:flex;"><span>                } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                    outer.$login_error_message.html(resp.result);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="实现登出功能">实现登出功能</h3>
<p><code>views/settings/logout.py</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> django.http <span style="color:#fff;font-weight:bold">import</span> JsonResponse
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> django.contrib.auth <span style="color:#fff;font-weight:bold">import</span> logout
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">def</span> signout(request):
</span></span><span style="display:flex;"><span>    user = request.user
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> not user.is_authenticated:
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> JsonResponse({
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#39;result&#39;</span>: <span style="color:#0ff;font-weight:bold">&#34;success&#34;</span>,
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>    logout(request)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> JsonResponse({
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#39;result&#39;</span>: <span style="color:#0ff;font-weight:bold">&#34;success&#34;</span>,
</span></span><span style="display:flex;"><span>    })
</span></span></code></pre></div><p><code>urls/settings/index.py</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> game.views.settings.logout <span style="color:#fff;font-weight:bold">import</span> signout
</span></span><span style="display:flex;"><span>urlpatterns = [
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    path(<span style="color:#0ff;font-weight:bold">&#34;logout/&#34;</span>, signout, name=<span style="color:#0ff;font-weight:bold">&#34;settings_logout&#34;</span>),
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><p><code>settings/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>login_on_remote() {     <span style="color:#007f7f">// 在远程服务器上登录
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">let</span> outer = <span style="color:#fff;font-weight:bold">this</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">let</span> username = <span style="color:#fff;font-weight:bold">this</span>.$login_username.val();
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">let</span> password = <span style="color:#fff;font-weight:bold">this</span>.$login_password.val();
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.$login_error_message.empty();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    $.ajax({
</span></span><span style="display:flex;"><span>        url: <span style="color:#0ff;font-weight:bold">&#34;https://app1117.acapp.acwing.com.cn/settings/login/&#34;</span>,
</span></span><span style="display:flex;"><span>        type: <span style="color:#0ff;font-weight:bold">&#34;GET&#34;</span>,
</span></span><span style="display:flex;"><span>        data: {
</span></span><span style="display:flex;"><span>            username: username,
</span></span><span style="display:flex;"><span>            password: password,
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        success: <span style="color:#fff;font-weight:bold">function</span>(resp) {
</span></span><span style="display:flex;"><span>            console.log(resp);
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span> (resp.result === <span style="color:#0ff;font-weight:bold">&#34;success&#34;</span>) {
</span></span><span style="display:flex;"><span>                location.reload();
</span></span><span style="display:flex;"><span>            } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                outer.$login_error_message.html(resp.result);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><p>再顺便将 <code>menu</code> 菜单页面里的 <code>设置</code> 按钮也绑定上登出功能</p>
<p><code>menu/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>add_listening_events() {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">let</span> outer = <span style="color:#fff;font-weight:bold">this</span>;
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.$settings_mode.click(<span style="color:#fff;font-weight:bold">function</span>() {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>        outer.root.settings.logout_on_remote();
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="实现注册功能">实现注册功能</h3>
<p><code>views/settings/register.py</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> django.http <span style="color:#fff;font-weight:bold">import</span> JsonResponse
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> django.contrib.auth <span style="color:#fff;font-weight:bold">import</span> login
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> django.contrib.auth.models <span style="color:#fff;font-weight:bold">import</span> User
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> game.models.player.player <span style="color:#fff;font-weight:bold">import</span> Player
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">def</span> register(request):
</span></span><span style="display:flex;"><span>    data = request.GET
</span></span><span style="display:flex;"><span>    username = data.get(<span style="color:#0ff;font-weight:bold">&#34;username&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>).strip()
</span></span><span style="display:flex;"><span>    password = data.get(<span style="color:#0ff;font-weight:bold">&#34;password&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>).strip()
</span></span><span style="display:flex;"><span>    password_confirm = data.get(<span style="color:#0ff;font-weight:bold">&#34;password_confirm&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>).strip()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> not username or not password:
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> JsonResponse({
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#39;result&#39;</span>: <span style="color:#0ff;font-weight:bold">&#34;用户名或密码不能为空&#34;</span>,
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> password != password_confirm:
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> JsonResponse({
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#39;result&#39;</span>: <span style="color:#0ff;font-weight:bold">&#34;两个密码不一致&#34;</span>,
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> User.objects.filter(username=username).exists():
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> JsonResponse({
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#39;result&#39;</span>: <span style="color:#0ff;font-weight:bold">&#34;用户名已存在&#34;</span>,
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>    user = User(username=username)
</span></span><span style="display:flex;"><span>    user.set_password(password)
</span></span><span style="display:flex;"><span>    user.save()
</span></span><span style="display:flex;"><span>    Player.objects.create(user=user, photo=<span style="color:#0ff;font-weight:bold">&#34;https://cdn.acwing.com/media/user/profile/photo/42832_lg_f999efc3c8.png&#34;</span>)
</span></span><span style="display:flex;"><span>    login(request, user)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> JsonResponse({
</span></span><span style="display:flex;"><span>        <span style="color:#0ff;font-weight:bold">&#39;result&#39;</span>: <span style="color:#0ff;font-weight:bold">&#34;success&#34;</span>,
</span></span><span style="display:flex;"><span>    })
</span></span></code></pre></div><p><code>urls/settings/index.py</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> game.views.settings.register <span style="color:#fff;font-weight:bold">import</span> register
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>urlpatterns = [
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    path(<span style="color:#0ff;font-weight:bold">&#34;register/&#34;</span>, register, name=<span style="color:#0ff;font-weight:bold">&#34;settings_register&#34;</span>),
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><p><code>settings/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>add_listening_events_register() {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.$register_submit.click(<span style="color:#fff;font-weight:bold">function</span>() {
</span></span><span style="display:flex;"><span>        outer.register_on_remote();
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>register_on_remote() {  <span style="color:#007f7f">// 在远程服务器上注册
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">let</span> outer = <span style="color:#fff;font-weight:bold">this</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">let</span> username = <span style="color:#fff;font-weight:bold">this</span>.$register_username.val();
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">let</span> password = <span style="color:#fff;font-weight:bold">this</span>.$register_password.val();
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">let</span> password_confirm = <span style="color:#fff;font-weight:bold">this</span>.$register_password_confirm.val();
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.$register_error_message.empty();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    $.ajax({
</span></span><span style="display:flex;"><span>        url: <span style="color:#0ff;font-weight:bold">&#34;https://app1117.acapp.acwing.com.cn/settings/register/&#34;</span>,
</span></span><span style="display:flex;"><span>        type: <span style="color:#0ff;font-weight:bold">&#34;GET&#34;</span>,
</span></span><span style="display:flex;"><span>        data: {
</span></span><span style="display:flex;"><span>            username: username,
</span></span><span style="display:flex;"><span>            password: password,
</span></span><span style="display:flex;"><span>            password_confirm: password_confirm,
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        success: <span style="color:#fff;font-weight:bold">function</span>(resp) {
</span></span><span style="display:flex;"><span>            console.log(resp);
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span> (resp.result === <span style="color:#0ff;font-weight:bold">&#34;success&#34;</span>) {
</span></span><span style="display:flex;"><span>                location.reload();
</span></span><span style="display:flex;"><span>            } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                outer.$register_error_message.html(resp.result);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><h2 id="redisஐ">Redisஐ</h2>
<h3 id="redis是什么">Redis是什么？</h3>
<blockquote>
<p><strong><code>Redis</code> 是一款内存高速缓存数据库</strong></p>
</blockquote>
<h3 id="为什么要使用redis">为什么要使用Redis?</h3>
<blockquote>
<p><strong>我们目前用的是<code>Django</code>自带的数据库<code>Sqlite</code>。<code>Django</code>是很容易将数据库迁移到<code>mySQL</code>的。但是存储效率不如<code>redis</code>，因为<code>redis</code>是内存数据库，所以调用东西都非常快，存的是一个一个的<code>&lt;key, value&gt;</code>，而且是单线程的</strong></p>
</blockquote>
<h3 id="在django中集成redis">在Django中集成Redis</h3>
<ol>
<li>安装 <code>django_redis</code></li>
</ol>
<pre tabindex="0"><code>pip install django_redis
</code></pre><ol start="2">
<li>配置 <code>settings.py</code></li>
</ol>
<pre tabindex="0"><code>CACHES = { 
    &#39;default&#39;: {
        &#39;BACKEND&#39;: &#39;django_redis.cache.RedisCache&#39;,
        &#39;LOCATION&#39;: &#39;redis://127.0.0.1:6379/1&#39;,
        &#34;OPTIONS&#34;: {
            &#34;CLIENT_CLASS&#34;: &#34;django_redis.client.DefaultClient&#34;,
        },  
    },  
}
USER_AGENTS_CACHE = &#39;default&#39;
</code></pre><ol start="3">
<li>启动 <code>redis-server</code></li>
</ol>
<pre tabindex="0"><code>sudo redis-server /etc/redis/redis.conf
</code></pre><h3 id="在-django-后台里操纵-redis">在 Django 后台里操纵 Redis</h3>
<pre tabindex="0"><code>$ python3 manage.py shell&#39;

In [1]: from django.core.cache import cache # 引入redis

In [2]: cache.keys(&#39;*&#39;)                     # 查询redis里所有的关键字
Out[2]: []

In [3]: cache.set(&#39;yxc&#39;, 1, 5)              # 插入一个key-val，存在 5 s
Out[3]: True

In [4]: cache.keys(&#39;*&#39;)                     # 查询redis里所有的关键字
Out[4]: [&#39;yxc&#39;]

In [5]: cache.set(&#39;yxc&#39;, 2, None)           # 插入一个key-val，不会过期
Out[5]: True

In [6]: cache.set(&#39;abc&#39;, 3, None)
Out[6]: True

In [7]: cache.keys(&#39;y*&#39;)
Out[7]: [&#39;yxc&#39;]

In [8]: cache.has_key(&#39;abc&#39;)
Out[8]: True

In [9]: cache.has_key(&#39;abcd&#39;)
Out[9]: False

In [10]: cache.get(&#39;yxc&#39;)
Out[10]: 2

In [11]: cache.delete(&#39;yxc&#39;)
Out[11]: True

In [12]: cache.keys(&#39;*&#39;)
Out[12]: [&#39;abc&#39;]

In [13]:
</code></pre><h2 id="web端acwing一键登录ஐ">Web端AcWing一键登录ஐ</h2>
<ul>
<li><a href="https://www.acwing.com/blog/content/12466/">6.2 Web端AcWing一键登录 | 讲义</a></li>
<li><a href="https://www.acwing.com/solution/content/79354/">6.2 上课笔记 | Andrew1729</a></li>
<li><a href="https://www.acwing.com/video/3565/">6.2 Web端AcWing一键登录 | Vedio</a>
<ol>
<li><strong>Oauth2一键授权登录的基本原理</strong>：$17m30s——29m15s——32m51s$</li>
<li>数据表添加<code>openid</code>信息：$33m20s——34m47s$</li>
<li><strong>Oauth2一键授权登录的代码实现</strong>：$35m20s——1h25s——1h27m20s$</li>
</ol>
</li>
</ul>
<hr>
<blockquote>
<p><strong>用户点击<code>AcWing一键登录</code>，通过<code>urls &amp; views</code>调用<code>apply_code</code>函数，将<code>state</code>放到<code>redis</code>中，将<code>appid &amp; redirect_uri &amp; scope &amp; state</code> 传入<code>apply_code_url</code>链接，返回并重定向至<code>apply_code_url</code>向用户询问是否授权</strong></p>
<p><strong>用户点击<code>同意</code>后，重定向至<code>redirect_uri</code>链接，返回参数为<code>code</code>和<code>state</code>，通过<code>urls &amp; views</code>调用<code>receive_code</code>函数</strong></p>
<p><strong>若验证<code>state</code>失败，直接重定向至初始界面</strong></p>
<p><strong>若验证<code>state</code>成功，将<code>appid &amp; code &amp; secret</code>发送至<code>AcWing服务器</code>，申请授权令牌<code>access_token</code>和用户的<code>openid</code></strong></p>
<p><strong>若申请令牌成功，将<code>access_token &amp; openid</code>发送至<code>AcWing服务器</code>，得到用户信息，创建并登录用户，最后重定向至初始界面</strong></p>
</blockquote>
<h2 id="acapp端acwing一键登录ஐ">AcApp端AcWing一键登录ஐ</h2>
<ul>
<li><a href="https://www.acwing.com/blog/content/12467/">6.3 AcApp端AcWing一键登录 | 讲义</a></li>
<li><a href="https://www.acwing.com/solution/content/79365/">6.3 上课笔记 | Andrew1729</a></li>
<li><a href="https://www.acwing.com/video/3566/">6.3 Acapp端AcWing一键登录 | Vedio</a>
<ol>
<li><strong>Oauth2一键授权登录的基本原理</strong>：$10m——12m20s——16m35s——18m$</li>
<li><strong>Oauth2一键授权登录的代码实现</strong>：$19m25s——21m——23m25s——34m29s——42m10s$</li>
</ol>
</li>
</ul>
<hr>
<h1 id="实现联机对战ஐ">实现联机对战ஐ</h1>
<ul>
<li><a href="https://www.acwing.com/file_system/file/content/whole/index/content/3357332/">7. 实现联机对战 | 讲义</a></li>
<li><a href="https://www.acwing.com/solution/content/89506/">7.1 上课笔记 | 大菜狗</a></li>
<li><a href="https://www.acwing.com/solution/content/88801/">7.2 上课笔记 | 菊花</a></li>
</ul>
<hr>
<h2 id="统一长度单位">统一长度单位</h2>
<p>由于联机对战的时候，每个用户的客户端长宽不一样</p>
<p>在之前完成的游戏界面里，我们会根据当前客户端的大小，进行渲染</p>
<p>但是在联机对战的时候，应当让所有玩家的游戏界面保持同步才可以</p>
<p>所有，就引入了 <strong>统一长度单位</strong> 的目标</p>
<h3 id="地图渲染">地图渲染</h3>
<h4 id="地图-169-等比例缩放">地图 16:9 等比例缩放</h4>
<p>实现逻辑：根据当前用户的客户端大小，统一渲染成 <strong>16:9</strong> 的游戏界面，且随着用户调整窗口大小，也动态调整</p>
<p><code>js/src/playground/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> AcGamePlayground {
</span></span><span style="display:flex;"><span>    constructor(root) {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.root.$ac_game.append(<span style="color:#fff;font-weight:bold">this</span>.$playground);<span style="color:#007f7f">// 未来可能会多次 show 因此把创建场景挪到这里
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        ...
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    start() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> outer = <span style="color:#fff;font-weight:bold">this</span>;
</span></span><span style="display:flex;"><span>        $(<span style="color:#fff;font-weight:bold">window</span>).resize(<span style="color:#fff;font-weight:bold">function</span>() {
</span></span><span style="display:flex;"><span>            outer.resize();
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    resize() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.width = <span style="color:#fff;font-weight:bold">this</span>.$playground.width();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.height = <span style="color:#fff;font-weight:bold">this</span>.$playground.height();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> unit = <span style="color:#fff;font-weight:bold">Math</span>.min(<span style="color:#fff;font-weight:bold">this</span>.width / <span style="color:#ff0;font-weight:bold">16</span>, <span style="color:#fff;font-weight:bold">this</span>.height / <span style="color:#ff0;font-weight:bold">9</span>);  <span style="color:#007f7f">// 以最小的作为基准，渲染
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.width = unit * <span style="color:#ff0;font-weight:bold">16</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.height = unit * <span style="color:#ff0;font-weight:bold">9</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.resize();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.scale = <span style="color:#fff;font-weight:bold">this</span>.height;   <span style="color:#007f7f">// resize时，其他元素的渲染大小都以当前渲染的高度为基准，存为 scale 变量
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">this</span>.game_map) <span style="color:#fff;font-weight:bold">this</span>.game_map.resize();  <span style="color:#007f7f">//如果此时地图已创建，则resize一下
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    }
</span></span><span style="display:flex;"><span>    show() {    <span style="color:#007f7f">// 打开 playground 界面
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.$playground.show();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.resize();
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><code>js/src/playground/game_map/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> GameMap <span style="color:#fff;font-weight:bold">extends</span> AcGameObject {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    resize() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.canvas.width = <span style="color:#fff;font-weight:bold">this</span>.playground.width;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.canvas.height = <span style="color:#fff;font-weight:bold">this</span>.playground.height;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="地图居中">地图居中</h4>
<p>直接把 <code>canvas</code> 元素，用相对位置居中即可</p>
<p><code>css/game.css</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>.ac-game-playground {
</span></span><span style="display:flex;"><span>    <span style="color:#f00">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">background-color</span>: <span style="color:#fff;font-weight:bold">grey</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>.ac-game-playground &gt; <span style="font-weight:bold">canvas</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">position</span>: <span style="color:#fff;font-weight:bold">relative</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">top</span>: <span style="color:#ff0;font-weight:bold">50</span><span style="color:#fff;font-weight:bold">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">left</span>: <span style="color:#ff0;font-weight:bold">50</span><span style="color:#fff;font-weight:bold">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">transform</span>: <span style="color:#fff;font-weight:bold">translate</span>(<span style="color:#ff0;font-weight:bold">-50</span><span style="color:#fff;font-weight:bold">%</span>, <span style="color:#ff0;font-weight:bold">-50</span><span style="color:#fff;font-weight:bold">%</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="解决地图-resize-时会出现渐变成黑色的情况">解决地图 resize 时，会出现渐变成黑色的情况</h4>
<p>原由是因为我们的实现逻辑是：每帧会渲染一层半透明的黑色背景</p>
<p>也就造就了一开始会出现灰屏的情况，解决方法很简单，直接 resize 完，强制涂一层不透明的黑色即可</p>
<p><code>js/src/playground/game_map/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> GameMap <span style="color:#fff;font-weight:bold">extends</span> AcGameObject {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    resize() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.canvas.width = <span style="color:#fff;font-weight:bold">this</span>.playground.width;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.canvas.height = <span style="color:#fff;font-weight:bold">this</span>.playground.height;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.fillStyle = <span style="color:#0ff;font-weight:bold">&#34;rgba(0, 0, 0, 1)&#34;</span>;    <span style="color:#007f7f">// resize 完，涂一层不透明的即可
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.fillRect(<span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#fff;font-weight:bold">this</span>.ctx.canvas.width, <span style="color:#fff;font-weight:bold">this</span>.ctx.canvas.height);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="元素渲染">元素渲染</h3>
<p>地图随着尺寸等比例放大缩小的同时，地图内的其他元素也应与背景一同等比例放大缩小</p>
<p>因此，我们只需把元素全部设为相对大小即可，用我们先前设置的 playground.scale 值即可</p>
<h4 id="玩家-player">玩家 Player</h4>
<p>初始化的时候，转为传递 <strong>scale</strong> 的比例值</p>
<p><code>js/src/playground/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> AcGamePlayground {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    show() {    <span style="color:#007f7f">// 打开 playground 界面
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        ...
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.players.push(<span style="color:#fff;font-weight:bold">new</span> Player(<span style="color:#fff;font-weight:bold">this</span>, <span style="color:#fff;font-weight:bold">this</span>.width / <span style="color:#ff0;font-weight:bold">2</span> / <span style="color:#fff;font-weight:bold">this</span>.scale, <span style="color:#ff0;font-weight:bold">0.5</span>, <span style="color:#ff0;font-weight:bold">0.05</span>, <span style="color:#0ff;font-weight:bold">&#34;white&#34;</span>, <span style="color:#ff0;font-weight:bold">0.15</span>, <span style="color:#fff;font-weight:bold">true</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">let</span> i = <span style="color:#ff0;font-weight:bold">0</span>; i &lt; <span style="color:#ff0;font-weight:bold">5</span>; i ++ ) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.players.push(<span style="color:#fff;font-weight:bold">new</span> Player(<span style="color:#fff;font-weight:bold">this</span>, <span style="color:#fff;font-weight:bold">this</span>.width / <span style="color:#ff0;font-weight:bold">2</span> / <span style="color:#fff;font-weight:bold">this</span>.scale, <span style="color:#ff0;font-weight:bold">0.5</span>, <span style="color:#ff0;font-weight:bold">0.05</span>, <span style="color:#fff;font-weight:bold">this</span>.get_random_color(), <span style="color:#ff0;font-weight:bold">0.15</span>, <span style="color:#fff;font-weight:bold">false</span>));
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><code>js/src/playground/player/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Player {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    start() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">this</span>.is_me) {
</span></span><span style="display:flex;"><span>            ...
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">let</span> tx = <span style="color:#fff;font-weight:bold">Math</span>.random() * <span style="color:#fff;font-weight:bold">this</span>.playground.width / <span style="color:#fff;font-weight:bold">this</span>.playground.scale;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">let</span> ty = <span style="color:#fff;font-weight:bold">Math</span>.random() * <span style="color:#fff;font-weight:bold">this</span>.playground.height / <span style="color:#fff;font-weight:bold">this</span>.playground.scale;
</span></span><span style="display:flex;"><span>            ...
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    add_listening_events() {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.playground.game_map.$canvas.mousedown(<span style="color:#fff;font-weight:bold">function</span>(e) {
</span></span><span style="display:flex;"><span>            ...
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span> (e.which === <span style="color:#ff0;font-weight:bold">3</span>) {
</span></span><span style="display:flex;"><span>                outer.move_to((e.clientX - rect.left) / outer.playground.scale, (e.clientY - rect.top) / outer.playground.scale);
</span></span><span style="display:flex;"><span>            } <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">if</span> (e.which === <span style="color:#ff0;font-weight:bold">1</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">if</span> (outer.cur_skill === <span style="color:#0ff;font-weight:bold">&#34;fireball&#34;</span>) {
</span></span><span style="display:flex;"><span>                    outer.shoot_fireball((e.clientX - rect.left) / outer.playground.scale, (e.clientY - rect.top) / outer.playground.scale);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            ...
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    shoot_fireball(tx, ty) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> x = <span style="color:#fff;font-weight:bold">this</span>.x, y = <span style="color:#fff;font-weight:bold">this</span>.y;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> radius = <span style="color:#ff0;font-weight:bold">0.01</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> angle = <span style="color:#fff;font-weight:bold">Math</span>.atan2(ty - <span style="color:#fff;font-weight:bold">this</span>.y, tx - <span style="color:#fff;font-weight:bold">this</span>.x);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> vx = <span style="color:#fff;font-weight:bold">Math</span>.cos(angle), vy = <span style="color:#fff;font-weight:bold">Math</span>.sin(angle);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> color = <span style="color:#0ff;font-weight:bold">&#34;orange&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> speed = <span style="color:#ff0;font-weight:bold">0.5</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> move_length = <span style="color:#ff0;font-weight:bold">1.0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> damage = <span style="color:#ff0;font-weight:bold">0.01</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">new</span> FireBall(<span style="color:#fff;font-weight:bold">this</span>.playground, <span style="color:#fff;font-weight:bold">this</span>, x, y, radius, vx, vy, color, speed, move_length, damage);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    update() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.update_move();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.render();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    update_move() { <span style="color:#007f7f">// 更新玩家移动
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        ...
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (!<span style="color:#fff;font-weight:bold">this</span>.is_me &amp;&amp; <span style="color:#fff;font-weight:bold">this</span>.spent_time &gt; <span style="color:#ff0;font-weight:bold">4</span> &amp;&amp; <span style="color:#fff;font-weight:bold">Math</span>.random() * <span style="color:#ff0;font-weight:bold">180</span> &lt; <span style="color:#ff0;font-weight:bold">1</span>) {
</span></span><span style="display:flex;"><span>            ...
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">this</span>.damage_speed &gt; <span style="color:#fff;font-weight:bold">this</span>.eps) {
</span></span><span style="display:flex;"><span>            ...
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">this</span>.move_length &lt; <span style="color:#fff;font-weight:bold">this</span>.eps) {
</span></span><span style="display:flex;"><span>                ...
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">if</span> (!<span style="color:#fff;font-weight:bold">this</span>.is_me) {
</span></span><span style="display:flex;"><span>                    <span style="color:#fff;font-weight:bold">let</span> tx = <span style="color:#fff;font-weight:bold">Math</span>.random() * <span style="color:#fff;font-weight:bold">this</span>.playground.width / <span style="color:#fff;font-weight:bold">this</span>.playground.scale;
</span></span><span style="display:flex;"><span>                    <span style="color:#fff;font-weight:bold">let</span> ty = <span style="color:#fff;font-weight:bold">Math</span>.random() * <span style="color:#fff;font-weight:bold">this</span>.playground.height / <span style="color:#fff;font-weight:bold">this</span>.playground.scale;
</span></span><span style="display:flex;"><span>                    ...
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                ...
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    render() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> scale = <span style="color:#fff;font-weight:bold">this</span>.playground.scale;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">this</span>.is_me) {
</span></span><span style="display:flex;"><span>            ...
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.ctx.arc(<span style="color:#fff;font-weight:bold">this</span>.x * scale, <span style="color:#fff;font-weight:bold">this</span>.y * scale, <span style="color:#fff;font-weight:bold">this</span>.radius * scale, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#fff;font-weight:bold">Math</span>.PI * <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#fff;font-weight:bold">false</span>);
</span></span><span style="display:flex;"><span>            ...
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.ctx.drawImage(<span style="color:#fff;font-weight:bold">this</span>.img, (<span style="color:#fff;font-weight:bold">this</span>.x - <span style="color:#fff;font-weight:bold">this</span>.radius) * scale, (<span style="color:#fff;font-weight:bold">this</span>.y - <span style="color:#fff;font-weight:bold">this</span>.radius) * scale, <span style="color:#fff;font-weight:bold">this</span>.radius * <span style="color:#ff0;font-weight:bold">2</span> * scale, <span style="color:#fff;font-weight:bold">this</span>.radius * <span style="color:#ff0;font-weight:bold">2</span> * scale);
</span></span><span style="display:flex;"><span>            ...
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>            ...
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.ctx.arc(<span style="color:#fff;font-weight:bold">this</span>.x * scale, <span style="color:#fff;font-weight:bold">this</span>.y * scale, <span style="color:#fff;font-weight:bold">this</span>.radius * scale, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">2</span> * <span style="color:#fff;font-weight:bold">Math</span>.PI, <span style="color:#fff;font-weight:bold">false</span>);
</span></span><span style="display:flex;"><span>            ...
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="火球-fireball">火球 Fireball</h4>
<p><code>js/src/playground/skill/fireball/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Fireball {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    render() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> scale = <span style="color:#fff;font-weight:bold">this</span>.playground.scale;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.beginPath();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.arc(<span style="color:#fff;font-weight:bold">this</span>.x * scale, <span style="color:#fff;font-weight:bold">this</span>.y * scale, <span style="color:#fff;font-weight:bold">this</span>.radius * scale, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">2</span> * <span style="color:#fff;font-weight:bold">Math</span>.PI, <span style="color:#fff;font-weight:bold">false</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.fillStyle = <span style="color:#fff;font-weight:bold">this</span>.color;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.fill();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="粒子-particle">粒子 Particle</h4>
<p><code>js/src/playground/particle/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Particle {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    render() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> scale = <span style="color:#fff;font-weight:bold">this</span>.playground.scale;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.beginPath();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.arc(<span style="color:#fff;font-weight:bold">this</span>.x * scale, <span style="color:#fff;font-weight:bold">this</span>.y * scale, <span style="color:#fff;font-weight:bold">this</span>.radius * scale, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">2</span> * <span style="color:#fff;font-weight:bold">Math</span>.PI, <span style="color:#fff;font-weight:bold">false</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.fillStyle = <span style="color:#fff;font-weight:bold">this</span>.color;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ctx.fill();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="增加联机对战模式">增加“联机对战”模式</h2>
<p>为了区分：用户自己，机器人，联机玩家</p>
<p>需要把 <code>is_me</code> 改成字符串，用以表示不同 <strong>Player</strong></p>
<p><code>menu/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> AcGameMenu{
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    add_listening_events() {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$single_mode.click(<span style="color:#fff;font-weight:bold">function</span>(){
</span></span><span style="display:flex;"><span>            outer.hide();
</span></span><span style="display:flex;"><span>            outer.root.playground.show(<span style="color:#0ff;font-weight:bold">&#34;single mode&#34;</span>);
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.$multi_mode.click(<span style="color:#fff;font-weight:bold">function</span>() {
</span></span><span style="display:flex;"><span>            outer.hide();
</span></span><span style="display:flex;"><span>            outer.root.playground.show(<span style="color:#0ff;font-weight:bold">&#34;multi mode&#34;</span>);
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><code>playground/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Playground {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    show(mode) {    <span style="color:#007f7f">// 打开 playground 界面
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        ...
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.players.push(<span style="color:#fff;font-weight:bold">new</span> Player(<span style="color:#fff;font-weight:bold">this</span>, <span style="color:#fff;font-weight:bold">this</span>.width / <span style="color:#ff0;font-weight:bold">2</span> / <span style="color:#fff;font-weight:bold">this</span>.scale, <span style="color:#ff0;font-weight:bold">0.5</span>, <span style="color:#ff0;font-weight:bold">0.05</span>, <span style="color:#0ff;font-weight:bold">&#34;white&#34;</span>, <span style="color:#ff0;font-weight:bold">0.15</span>, <span style="color:#0ff;font-weight:bold">&#34;me&#34;</span>, <span style="color:#fff;font-weight:bold">this</span>.root.settings.username, <span style="color:#fff;font-weight:bold">this</span>.root.settings.photo)));
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (mode === <span style="color:#0ff;font-weight:bold">&#34;single mode&#34;</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">let</span> i = <span style="color:#ff0;font-weight:bold">0</span>; i &lt; <span style="color:#ff0;font-weight:bold">5</span>; i ++ ) {
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">this</span>.players.push(<span style="color:#fff;font-weight:bold">new</span> Player(<span style="color:#fff;font-weight:bold">this</span>, <span style="color:#fff;font-weight:bold">this</span>.width / <span style="color:#ff0;font-weight:bold">2</span> / <span style="color:#fff;font-weight:bold">this</span>.scale, <span style="color:#ff0;font-weight:bold">0.5</span>, <span style="color:#ff0;font-weight:bold">0.05</span>, <span style="color:#fff;font-weight:bold">this</span>.get_random_color(), <span style="color:#ff0;font-weight:bold">0.15</span>, <span style="color:#0ff;font-weight:bold">&#34;robot&#34;</span>));
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">if</span> (mode === <span style="color:#0ff;font-weight:bold">&#34;multi mode&#34;</span>) {
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><code>playground/player/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Player <span style="color:#fff;font-weight:bold">extends</span> AcGameObject {
</span></span><span style="display:flex;"><span>    constructor(playground, x, y, radius, color, speed, character, username, photo) {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.character = character;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.username = username;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.photo = photo;
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">this</span>.character !== <span style="color:#0ff;font-weight:bold">&#34;robot&#34;</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.img = <span style="color:#fff;font-weight:bold">new</span> Image();
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.img.src = <span style="color:#fff;font-weight:bold">this</span>.photo;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// 同理，根据对应的逻辑，修改后面所有的 is_me 为 character
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>}
</span></span></code></pre></div><h2 id="django_channels">Django_channels</h2>
<ul>
<li><a href="https://www.jianshu.com/p/bcefda55bce4">谈谈Websocket </a></li>
<li><a href="https://www.cnblogs.com/dreamroute/p/6247726.html">HTTP/TCP</a></li>
</ul>
<hr>
<h3 id="django_channels是什么">Django_channels是什么？</h3>
<blockquote>
<p><strong>Django_Channels 是一个为Django 提供异步扩展的库，通常主要用来提供WebSocket 支持和后台任务</strong></p>
<p><strong><code>WSS</code> 是 <code>Web Socket</code> 协议的安全模式，支持 <code>C/S</code> 下的双向通信（HTTP协议只支持单向通信）</strong></p>
</blockquote>
<h3 id="配置django_channels">配置Django_channels</h3>
<ol>
<li>安装 <code>channels_redis</code></li>
</ol>
<pre tabindex="0"><code>pip install channels_redis
</code></pre><ol start="2">
<li>配置 <code>acapp/asgi.py</code></li>
</ol>
<pre tabindex="0"><code>import os

from channels.auth import AuthMiddlewareStack
from channels.routing import ProtocolTypeRouter, URLRouter
from django.core.asgi import get_asgi_application
from game.routing import websocket_urlpatterns

os.environ.setdefault(&#39;DJANGO_SETTINGS_MODULE&#39;, &#39;acapp.settings&#39;)

application = ProtocolTypeRouter({
    &#34;http&#34;: get_asgi_application(),
    &#34;websocket&#34;: AuthMiddlewareStack(URLRouter(websocket_urlpatterns))
})
</code></pre><ol start="3">
<li>配置 <code>acapp/settings.py</code></li>
</ol>
<p>在 <code>INSTALLED_APPS</code> 中添加 <code>channels</code> ，添加后如下所示：</p>
<pre tabindex="0"><code>INSTALLED_APPS = [ 
    &#39;channels&#39;,
    &#39;game.apps.GameConfig&#39;,
    &#39;django.contrib.admin&#39;,
    &#39;django.contrib.auth&#39;,
    &#39;django.contrib.contenttypes&#39;,
    &#39;django.contrib.sessions&#39;,
    &#39;django.contrib.messages&#39;,
    &#39;django.contrib.staticfiles&#39;,
]
</code></pre><p>然后在文件末尾添加：</p>
<pre tabindex="0"><code>ASGI_APPLICATION = &#39;acapp.asgi.application&#39;
CHANNEL_LAYERS = {
    &#34;default&#34;: {
        &#34;BACKEND&#34;: &#34;channels_redis.core.RedisChannelLayer&#34;,
        &#34;CONFIG&#34;: {
            &#34;hosts&#34;: [(&#34;127.0.0.1&#34;, 6379)],
        },
    },
}
</code></pre><ol start="4">
<li>配置 <code>game/routing.py</code>
这一部分的作用相当于 <code>http</code> 的 <code>urls</code></li>
</ol>
<p>内容如下：</p>
<pre tabindex="0"><code>from django.urls import path

websocket_urlpatterns = [
]
</code></pre><ol start="5">
<li>编写 <code>game/consumers</code>
这一部分的作用相当于 <code>http</code> 的 <code>views</code></li>
</ol>
<p>参考示例：</p>
<p><code>consumers/multiplayer/index.py</code></p>
<pre tabindex="0"><code>from channels.generic.websocket import AsyncWebsocketConsumer
import json

class MultiPlayer(AsyncWebsocketConsumer):
    async def connect(self):
        await self.accept()
        print(&#39;accept&#39;)

        self.room_name = &#34;room&#34;
        await self.channel_layer.group_add(self.room_name, self.channel_name)

    async def disconnect(self, close_code):
        print(&#39;disconnect&#39;)
        await self.channel_layer.group_discard(self.room_name, self.channel_name);


    async def receive(self, text_data):
        data = json.loads(text_data)
        print(data)
</code></pre><ol start="6">
<li>启动 <code>django_channels</code></li>
</ol>
<p>在 <code>~/acapp</code> 目录下执行：</p>
<pre tabindex="0"><code>daphne -b 0.0.0.0 -p 5015 acapp.asgi:application
</code></pre><ol start="7">
<li>建立 <strong>WSS</strong> 连接</li>
</ol>
<p><code>game/routing.py</code></p>
<pre tabindex="0"><code>from django.urls import path
from game.consumers.multiplayer.index import MultiPlayer

websocket_urlpatterns = [
    path(&#34;wss/multiplayer/&#34;, MultiPlayer.as_asgi(), name=&#34;wss_multiplayer&#34;),
]
</code></pre><p><code>playground/zbase.js</code></p>
<pre tabindex="0"><code>class AcGamePlayground {
    ...
    show(mode) {    // 打开 playground 界面
        ...
        if (mode === &#34;single mode&#34;) {
            ...
        } else if (mode === &#34;multi mode&#34;) {
            this.mps = new MultiPlayerSocket(this);
            this.mps.ws.onopen = function() {
                outer.mps.send_create_player();
            };
        }

    }
}
</code></pre><p><code>playground/socket/multiplayer/zbase.js</code></p>
<pre tabindex="0"><code>class MultiPlayerSocket {
    constructor(playground) {
        this.playground = playground;
        this.ws = new WebSocket(&#34;wss://app1117.acapp.acwing.com.cn/wss/multiplayer/&#34;);
        this.start();
    }
    start() {
    }
    send_create_player() {
        this.ws.send(JSON.stringify({
            &#39;message&#39;: &#39;hello acapp server&#39;,
        }));
    }
    receive_create_player() {
    }
}
</code></pre><h2 id="编写同步函数">编写同步函数</h2>
<p>一共需要完成四个通信：</p>
<p>（通信的逻辑基本都是先在本地完成，然后将结果返回给服务器，服务器再分发给其他客户端，达成同步）</p>
<ol>
<li><strong>create-player</strong> : 在所有玩家的游戏界面，创建一个新加入的玩家</li>
<li><strong>move-to</strong> : 在所有玩家的游戏界面，将一个角色移动到一个位置</li>
<li><strong>shoot-fireball</strong> : 在所有玩家的游戏界面，让一个角色发射一个火球</li>
<li><strong>attack</strong> : 在所有玩家的游戏界面，让一个角色被攻击</li>
</ol>
<p>一场游戏里，所有的元素（玩家，火球等）都需要唯一的标识，来方便同步</p>
<p>为此，我们可以直接修改一下游戏引擎，对于每个元素都创建我们需要的唯一标识</p>
<p><code>playground/ac-game-object/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> AcGameObject {
</span></span><span style="display:flex;"><span>    constructor() {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.uuid = <span style="color:#fff;font-weight:bold">this</span>.create_uuid();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    create_uuid() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> res = <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">let</span> i = <span style="color:#ff0;font-weight:bold">0</span>; i &lt; <span style="color:#ff0;font-weight:bold">8</span>; i ++ ) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">let</span> x = <span style="color:#fff;font-weight:bold">parseInt</span>(<span style="color:#fff;font-weight:bold">Math</span>.floor(<span style="color:#fff;font-weight:bold">Math</span>.random() * <span style="color:#ff0;font-weight:bold">10</span>));   <span style="color:#007f7f">// [0, 10)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            res += x;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> res;
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><code>playground/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> AcGamePlayground {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    show(mode) {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (mode === <span style="color:#0ff;font-weight:bold">&#34;single mode&#34;</span>) {
</span></span><span style="display:flex;"><span>            ...
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">if</span> (mode === <span style="color:#0ff;font-weight:bold">&#34;multi mode&#34;</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.mps = <span style="color:#fff;font-weight:bold">new</span> MultiPlayerSocket(<span style="color:#fff;font-weight:bold">this</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.mps.uuid = <span style="color:#fff;font-weight:bold">this</span>.players[<span style="color:#ff0;font-weight:bold">0</span>].uuid;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.mps.ws.onopen = <span style="color:#fff;font-weight:bold">function</span>() {
</span></span><span style="display:flex;"><span>                outer.mps.send_create_player();
</span></span><span style="display:flex;"><span>            };
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><code>playground/socket/multiplayer/zbase.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> MultiPlayerSocket {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    send_create_player() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">let</span> outer = <span style="color:#fff;font-weight:bold">this</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.ws.send(JSON.stringify({
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#39;event&#39;</span>: <span style="color:#0ff;font-weight:bold">&#39;create_player&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#39;uuid&#39;</span>: outer.uuid,
</span></span><span style="display:flex;"><span>        }));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>接着，利用通信的方式，使得每个窗口内，逻辑上相同的元素，其 <code>uid</code> 也相同即可</p>
<p>原则是：哪个窗口创建的元素，就用他创建时的 <code>uid</code> 作为整个项目运行时的 <code>uid</code></p>
<p>然后，我们打算用 <strong>redis</strong> 来实现存储每个游戏房间，以及元素，并初始默认设定每个房间上限 3 人</p>
<h3 id="create-player">create-player</h3>
<h4 id="前端">前端</h4>
<p><code>game/static/js/src/playground/socket/multiplayer/zbase.js</code></p>
<pre tabindex="0"><code>class MultiPlayerSocket {
    constructor(playground) {
        this.playground = playground;

        this.ws = new WebSocket(&#34;wss://app1117.acapp.acwing.com.cn/wss/multiplayer/&#34;);

        this.start();
    }
    start() {
        this.receive();
    }
    receive() {
        let outer = this;
        this.ws.onmessage = function(e) {
            let data = JSON.parse(e.data);
            let uuid = data.uuid;
            if (uuid === outer.uuid) return false;

            let event = data.event;
            if (event === &#34;create_player&#34;) {
                outer.receive_create_player(uuid, data.username, data.photo);
            }
        };
    }
    send_create_player(username, photo) {
        let outer = this;
        this.ws.send(JSON.stringify({
            &#39;event&#39;: &#39;create_player&#39;,
            &#39;uuid&#39;: outer.uuid,
            &#39;username&#39;: username,
            &#39;photo&#39;: photo,
        }));
    }
    receive_create_player(uuid, username, photo) {
        let player = new Player(
            this.playground,
            this.playground.width / 2 / this.playground.scale,
            0.5,
            0.05,
            &#34;white&#34;,
            0.15,
            &#34;enemy&#34;,
            username,
            photo,
        );
        player.uuid = uuid;
        this.playground.players.push(player);
    }
}
</code></pre><h4 id="后端">后端</h4>
<p><code>settings.py</code></p>
<pre tabindex="0"><code>...
ROOM_CAPACITY = 3
</code></pre><p><code>consumers/multiplayer/index.py</code></p>
<pre tabindex="0"><code>from channels.generic.websocket import AsyncWebsocketConsumer
import json
from django.conf import settings
from django.core.cache import cache

class MultiPlayer(AsyncWebsocketConsumer):
    async def connect(self):
        self.room_name = None
        for i in range(1000):   # 上限 1k 个房间
            name = &#34;room-%d&#34; % (i)
            # 当前房间为空，或房间内玩家人数不到 ROOM_CAPACITY
            if not cache.has_key(name) or len(cache.get(name)) &lt; settings.ROOM_CAPACITY:
                self.room_name = name
                break
        if not self.room_name:
            return

        await self.accept()

        if not cache.has_key(self.room_name):   # 如果房间不存在，则新建房间
            cache.set(self.room_name, [], 3600) # 有效期 1 小时

        for player in cache.get(self.room_name):    # 对该房间已存在的用户，创建到新加入的用户的游戏界面中
            await self.send(text_data=json.dumps({
                &#39;event&#39;: &#34;create_player&#34;,
                &#39;uuid&#39;: player[&#39;uuid&#39;],
                &#39;username&#39;: player[&#39;username&#39;],
                &#39;photo&#39;: player[&#39;photo&#39;],
            }))
        await self.channel_layer.group_add(self.room_name, self.channel_name)

    async def disconnect(self, close_code):
        print(&#39;disconnect&#39;)
        await self.channel_layer.group_discard(self.room_name, self.channel_name);

    async def create_player(self, data):
        players = cache.get(self.room_name)
        players.append({
            &#39;uuid&#39;: data[&#39;uuid&#39;],
            &#39;username&#39;: data[&#39;username&#39;],
            &#39;photo&#39;: data[&#39;photo&#39;],
        })
        cache.set(self.room_name, players, 3600) # 更新房间存在时间为 1 小时（最后一次加入一名玩家时）
        # 群发消息更新
        await self.channel_layer.group_send(
            self.room_name,
            {
                &#39;type&#39;: &#34;group_create_player&#34;,  # 群发该消息后，作为客户端接受者，所接受用的函数名
                &#39;event&#39;: &#34;create_player&#34;,
                &#39;uuid&#39;: data[&#39;uuid&#39;],
                &#39;username&#39;: data[&#39;username&#39;],
                &#39;photo&#39;: data[&#39;photo&#39;],
            }
        )
    async def group_create_player(self, data):
        await self.send(text_data=json.dumps(data))

    async def receive(self, text_data):
        data = json.loads(text_data)
        event = data[&#39;event&#39;]
        if event == &#34;create_player&#34;:
            await self.create_player(data)
</code></pre><h4 id="redis-调试语句">redis 调试语句</h4>
<p>打开 shell 交互</p>
<pre tabindex="0"><code>python3 manage.py shell
</code></pre><p>然后用 py3 交互进行 cache 调试</p>
<pre tabindex="0"><code>from django.core.cache import cache

def clear():
    for key in cache.keys(&#39;*&#39;):
        cache.delete(key)

cache.keys(&#39;*&#39;) # 查询当前 redis 中所有 key

cache.get(&#39;room-1&#39;) # 查询当前 redis 中 key 为 room-1 的值
</code></pre><p>到目前为止，便可以在不同的窗口渲染同一批玩家了</p>
<h3 id="move-to">move-to</h3>
<h4 id="前端-1">前端</h4>
<p>客户端的通信的发出和接受函数</p>
<p><code>game/static/js/src/playground/socket/multiplayer/zbase.js</code></p>
<pre tabindex="0"><code>class MultiPlayerSocket {
    ...
    receive() {
        let outer = this;
        this.ws.onmessage = function(e) {
            ...
            else if (event === &#34;move_to&#34;) {
                outer.receive_move_to(uuid, data.tx, data.ty);
            }
        };
    }
    send_move_to(tx, ty) {
        let outer = this;
        this.ws.send(JSON.stringify({
            &#39;event&#39;: &#39;move_to&#39;,
            &#39;uuid&#39;: outer.uuid,
            &#39;tx&#39;: tx,
            &#39;ty&#39;: ty,
        }));
    }
    get_player(uuid) {
        let players = this.playground.players;
        for (let i = 0; i &lt; players.length; i ++ ) {
            let player = players[i];
            if (player.uuid === uuid) {
                return player;
            }
        }
        return null;
    }
    receive_move_to(uuid, tx, ty) {
        let player = this.get_player(uuid);
        if (player) {
            player.move_to(tx, ty);
        }
    }
}
</code></pre><p>为了让游戏界面中对于要移动的元素做出移动动作，需要对 <code>move_to</code> 函数做出一些修改</p>
<p>首先要标识出当前为多人模式，然后模式为多人模式时，每次移动都会触发一次通信</p>
<p><code>playground/zbase.js</code></p>
<pre tabindex="0"><code>class AcGamePlayground {
    ...
    show(mode) {
        ...
        this.mode = mode;
    }
}
</code></pre><p><code>playground/player/zbase.js</code></p>
<pre tabindex="0"><code>class Player extends AcGameObject {
    ...
    add_listening_events() {
      ...
       this.playground.game_map.$canvas.mousedown(function(e) {
           ...
           if (e.which === 3) {
               let tx = (e.clientX - rect.left) / outer.playground.scale;
               let ty = (e.clientY - rect.top) / outer.playground.scale;
               outer.move_to(tx, ty);
               if (outer.playground.mode === &#34;multi mode&#34;) {
                   outer.playground.mps.send_move_to(tx, ty);
               }
           }
           ...
   }
   ...
}
</code></pre><h4 id="后端-1">后端</h4>
<p><code>consumers/multiplayer/index.py</code></p>
<pre tabindex="0"><code>async def move_to(self, data):
    await self.channel_layer.group_send(
        self.room_name,
        {
            &#39;type&#39;: &#34;group_send_event&#34;,
            &#39;event&#39;: &#34;move_to&#34;,
            &#39;uuid&#39;: data[&#39;uuid&#39;],
            &#39;tx&#39;: data[&#39;tx&#39;],
            &#39;ty&#39;: data[&#39;ty&#39;],
        }
    )

async def group_send_event(self, data):
    await self.send(text_data=json.dumps(data))

async def receive(self, text_data):
    data = json.loads(text_data)
    event = data[&#39;event&#39;]
    if event == &#34;create_player&#34;:
        await self.create_player(data)
    elif event == &#34;move_to&#34;:
        await self.move_to(data)
</code></pre><h3 id="shoot-fireball">shoot-fireball</h3>
<h4 id="前端-2">前端</h4>
<p>用一个数组来存一个玩家发射的所有火球，以便于子弹消失时，将他们找出并对应删掉</p>
<p><code>playground/player/zbase.js</code></p>
<pre tabindex="0"><code>class Player extends AcGameObject {
    constructor(playground, x, y, radius, color, speed, character, username, photo) {
        ...
        this.fireballs = [];    // 存该用户发射的所有火球
    }
    add_listening_events() {
        ...
        this.playground.game_map.$canvas.mousedown(function(e) {
            ...
            else if (e.which === 1) {
                let tx = (e.clientX - rect.left) / outer.playground.scale;
                let ty = (e.clientY - rect.top) / outer.playground.scale;
                if (outer.cur_skill === &#34;fireball&#34;) {
                    let fireball = outer.shoot_fireball(tx, ty);
                    if (outer.playground.mode === &#34;multi mode&#34;) {
                        outer.playground.mps.send_shoot_fireball(tx, ty, fireball.uuid);
                    }
                }
            }
            ...
        });
        $(window).keydown(function(e) {
            if (e.which === 81) {           // 键盘按下q事件
                outer.cur_skill = &#34;fireball&#34;;
                return false;
            }
        });
    }
    ...
    shoot_fireball(tx, ty) {
        ...

        let fireball = new FireBall(this.playground, this, x, y, radius, vx, vy, color, speed, move_length, damage);
        this.fireballs.push(fireball);
        return fireball;
    }
    destroy_fireball(uuid) {
        for (let i = 0; i &lt; this.fireballs.length; i ++ ) {
            let fireball = this.fireballs[i];
            if (fireball.uuid == uuid) {
                fireball.destroy();
                break;
            }
        }
    }
    ...
</code></pre><p><code>playground/skill/fireball/zbase.js</code></p>
<pre tabindex="0"><code>class FireBall extends AcGameObject {
    ...
    on_destory() {
        let fireballs = this.player.fireballs;
        for (let i = 0; i &lt; fireballs.length; i ++ ) {
            if (fireballs[i] === this) {
                fireballs.splice(i, 1);
                break;
            }
        }
    }
}
</code></pre><p><code>game/static/js/src/playground/socket/multiplayer/zbase.js</code></p>
<pre tabindex="0"><code>class MultiPlayerSocket {
    ...
    send_shoot_fireball(tx, ty, ball_uuid) {
        let outer = this;
        this.ws.send(JSON.stringify({
            &#39;event&#39;: &#39;move_to&#39;,
            &#39;uuid&#39;: outer.uuid,
            &#39;tx&#39;: tx,
            &#39;ty&#39;: ty,
            &#39;ball_uuid&#39;: ball_uuid;
        }));
    }
    receive_shoot_fireball(uuid, tx, ty, ball_uuid) {
        let player = this.get_player(uuid);
        if (player) {
            let fireball = player.shoot_fireball(tx, ty);
            fireball.uuid = ball_uuid;
        }
    }
}
</code></pre><h4 id="后端-2">后端</h4>
<p><code>consumers/multiplayer/index.py</code></p>
<pre tabindex="0"><code>...
class MultiPlayer(AsyncWebsocketConsumer):
    ...
    async def shoot_fireball(self, data):
        await self.channel_layer.group_send(
            self.room_name,
            {
                &#39;type&#39;: &#34;group_send_event&#34;,
                &#39;event&#39;: &#34;shoot_fireball&#34;,
                &#39;uuid&#39;: data[&#39;uuid&#39;],
                &#39;tx&#39;: data[&#39;tx&#39;],
                &#39;ty&#39;: data[&#39;ty&#39;],
                &#39;ball_uuid&#39;: data[&#39;ball_uuid&#39;],
            }
        )
    async def receive(self, text_data):
        ...
        elif event == &#34;shoot_fireball&#34;:
            await self.shoot_fireball(data)
</code></pre><h3 id="attack">attack</h3>
<p>为了只让一个客户端进行攻击命中的判断，因此只有发出方的火球才做碰撞检测</p>
<p>其他客户端对于该火球只有动画效果</p>
<p>又由于碰撞检测是在一台客户端上进行的，因此多端之间可能会存在同步上的延迟</p>
<p>为此的解决方法是：碰撞检测成功时，强制把被击中玩家移动到发起方客户端中的位置，以避免击中延迟上发生的事情</p>
<h4 id="前端-3">前端</h4>
<p><code>playground/skill/fireball/zbase.js</code></p>
<pre tabindex="0"><code>class FireBall extends AcGameObject {
    update() {
        if (this.move_length &lt; this.eps) {
            this.destroy();
            return false;
        }
        this.update_move();

        if (this.player.character !== &#34;enemy&#34;) {
            this.update_attack();
        }
        this.render();
    }
    attack(player) {
        ...
        if (this.playground.mode === &#34;multi mode&#34;) {
            this.playground.mps.send_attack(player.uuid, player.x, player.y, angle, this.damage, this.uuid);
        }
        ...
    }
    ...
}
</code></pre><p><code>playground/player/zbase.js</code></p>
<pre tabindex="0"><code>class Player extends AcGameObject {
    ...
    receive_attack(x, y, angle, damage, ball_uuid, attacker) {
        attacker.destroy_fireball(ball_uuid);
        this.x = x;
        this.y = y;
        this.is_attacked(angle, damage);
    }
    ...
}
</code></pre><p><code>game/static/js/src/playground/socket/multiplayer/zbase.js</code></p>
<pre tabindex="0"><code>class MultiPlayerSocket {
    ...
    send_attack(attackee_uuid, x, y, angle, damage, ball_uuid) {
        let outer = this;
        this.ws.send(JSON.stringify({
            &#39;event&#39;: &#34;attack&#34;,
            &#39;uuid&#39;: outer.uuid,
            &#39;attackee_uuid&#39;: attackee_uuid,
            &#39;x&#39;: x,
            &#39;y&#39;: y,
            &#39;angle&#39;: angle,
            &#39;damage&#39;: damage,
            &#39;ball_uuid&#39;: ball_uuid,
        }));
    }
    receive_attack(uuid, attackee_uuid, x, y, angle, damage, ball_uuid) {
        let attacker = this.get_player(uuid);
        let attackee = this.get_player(attackee_uuid);
        if (attacker &amp;&amp; attackee) {
            attackee.receive_attack(x, y, angle, damage, ball_uuid, attacker);
        }
    }
}
</code></pre><h4 id="后端-3">后端</h4>
<p><code>consumers/multiplayer/index.py</code></p>
<pre tabindex="0"><code>...
class MultiPlayer(AsyncWebsocketConsumer):
    ...
    async def attack(self, data):
        await self.channel_layer.group_send(
            self.room_name,
            {
                &#39;type&#39;: &#34;group_send_event&#34;,
                &#39;event&#39;: &#34;attack&#34;,
                &#39;uuid&#39;: data[&#39;uuid&#39;],
                &#39;x&#39;: data[&#39;x&#39;],
                &#39;y&#39;: data[&#39;y&#39;],
                &#39;angle&#39;: data[&#39;angle&#39;],
                &#39;damage&#39;: data[&#39;damage&#39;],
                &#39;ball_uuid&#39;: data[&#39;ball_uuid&#39;],
            }
        )
    ...
</code></pre><h2 id="游戏的小优化">游戏的小优化</h2>
<h3 id="多人模式下游戏没有开始前玩家不可以移动">多人模式下游戏没有开始前，玩家不可以移动</h3>
<p>为此我们先引入一个状态机：<code>'waiting' -&gt; 'fighting' -&gt; 'over'</code> 来标识当前游戏进行的状态</p>
<p>然后用一个 <code>notice_board</code> 计分板在前端显示出来</p>
<p>实现的逻辑就是：游戏初始时为 <code>waiting</code> 状态，房间内人数满 3 人时，才会进入 <code>fighting</code>，角色死亡时为 <code>over</code></p>
<p>且发射火球，移动等行为，当且仅当玩家状态为 <code>fighting</code> 时，才可以做</p>
<p>然后设定火球技能的 cd 为 3 秒，且在游戏进入 <code>fighting</code> 时，先自动进入 cd 状态</p>
<p>这样就实现了初始 3 秒内，任何玩家不可攻击</p>
<p><code>js/src/playground/notice_board/zbase.js</code></p>
<pre tabindex="0"><code>class NoticeBoard extends AcGameObject {
    constructor(playground) {
        super();

        this.playground = playground;
        this.ctx = this.playground.game_map.ctx;
        this.text = &#34;已就绪：0人&#34;;
    }
    start() {
    }

    write(text) {
        this.text = text;
    }

    update() {
        this.render();
    }

    render() {
        this.ctx.font = &#34;20px serif&#34;;
        this.ctx.fillStyle = &#34;white&#34;;
        this.ctx.textAlign = &#34;center&#34;;
        this.ctx.fillText(this.text, this.playground.width / 2, 20);
    }
}
</code></pre><p><code>js/src/playground/zbase.js</code></p>
<pre tabindex="0"><code>class AcGamePlayground {
    ...
    show(mode) {
        ...
        this.state = &#34;waiting&#34;;     // waiting -&gt; fighting -&gt; over
        this.notice_board = new NoticeBoard(this);
        this.player_count = 0;
        ...
    }
}
</code></pre><p><code>js/src/playground/player/zbase.js</code></p>
<pre tabindex="0"><code>class Player extends AcGameObject {
    ...
    add_listening_events() {
        ...
        this.playground.game_map.$canvas.mousedown(function(e) {
            if (outer.playground.state !== &#34;fighting&#34;)
                return false;
            ...
        }
        $(window).keydown(function(e) {
            if (outer.playground.state !== &#34;fighting&#34;)
                return false;
            ...
        });
    }
    start() {
        this.playground.player_count ++ ;
        this.playground.notice_board.write(&#34;已就绪：&#34; + this.playground.player_count + &#34;人&#34;);
        if (this.playground.player_count &gt;= 3) {
            this.playground.state = &#34;fighting&#34;;
            this.playground.notice_board.write(&#34;Fighting&#34;);
        }
        ...
    }
    ...
}
</code></pre><h3 id="技能cd">技能CD</h3>
<p>给火球技能设置 3s 的 cd，实现逻辑很简单，设定一个 cool_time 变量，每次渲染的时候减去上次渲染的时间间隔</p>
<p>然后 cool_time 为 0 时，技能才可以成功释放</p>
<p>另外修改冷却时间，只用修改自己的即可</p>
<p><code>js/src/playground/player/zbase.js</code></p>
<pre tabindex="0"><code>class Player extends AcGameObject {
    constructor(...) {
        ...
        if (this.character === &#34;me&#34;) {
            this.fireball_coldtime = 3; // 单位：s
        }
    }
    ...
    add_listening_events() {
        ...
        this.playground.game_map.$canvas.mousedown(function(e) {
            ...
            else if (e.which === 1) {
                ...
                if (outer.cur_skill === &#34;fireball&#34;) {
                    ...
                    if (outer.playground.mode === &#34;multi mode&#34;) {
                        outer.playground.mps.send_shoot_fireball(tx, ty, fireball.uuid);
                    }
                    outer.fireball_coldtime = 3;
                }
            }
            ...
        });
        $(window).keydown(function(e) {
            ...
            if (outer.fireball_coldtime &gt;= outer.eps)
                return false;
            ...
        });
    }
    update() {
        ...
        if (this.character === &#34;me&#34; &amp;&amp; this.playground.state === &#34;fighting&#34;) {
            this.update_coldtime();
        }
        ...
    }
    update_coldtime() {
        this.fireball_coldtime -= this.timedelta / 1000;
        this.fireball_coldtime = Math.max(0, this.fireball_coldtime);
    }
    ...
}
</code></pre><h3 id="用图片来渲染技能cd">用图片来渲染技能CD</h3>
<p><code>js/src/playground/player/zbase.js</code></p>
<pre tabindex="0"><code>class Player extends AcGameObject {
    constructor(...) {
        ...
        if (this.character === &#34;me&#34;) {
            this.fireball_coldtime = 3; // 单位：s
            this.fireball_img = new Image();
            this.fireball_img.src = &#34;https://cdn.acwing.com/media/article/image/2021/12/02/1_9340c86053-fireball.png&#34;;
        }
    }
    ...
    render() {
        ...
        if (this.character === &#34;me&#34; &amp;&amp; this.playground.state === &#34;fighting&#34;) {
            this.render_skill_coldtime();
        }
    }
     render_skill_coldtime() {
        let scale = this.playground.scale;
        let x = 1.5, y = 0.9, r = 0.04;

        // 渲染技能图标
        this.ctx.save();
        this.ctx.beginPath();
        this.ctx.arc(x * scale, y * scale, r * scale, 0, Math.PI * 2, false);
        this.ctx.stroke();
        this.ctx.clip();
        this.ctx.drawImage(this.fireball_img, (x - r) * scale, (y - r) * scale, r * 2 * scale, r * 2 * scale);
        this.ctx.restore();

        // 渲染冷却指示
        if (this.fireball_coldtime &gt;= this.eps){
            this.ctx.beginPath();
            this.ctx.moveTo(x * scale, y * scale);
            this.ctx.arc(x * scale, y * scale, r * scale, 0 - Math.PI / 2, Math.PI * 2 * (1 - this.fireball_coldtime / 3) - Math.PI / 2, true);
            this.ctx.lineTo(x * scale, y * scale);
            this.ctx.fillStyle = &#34;rgba(0, 0, 255, 0.6)&#34;;
            this.ctx.fill();
        }
    }
    ...
</code></pre><h3 id="添加一个闪现技能">添加一个闪现技能</h3>
<h4 id="单机部分">单机部分</h4>
<p><code>js/src/playground/player/zbase.js</code></p>
<pre tabindex="0"><code>class Player extends AcGameObject {
    constructor(...) {
        ...
        if (this.character === &#34;me&#34;) {
            ...
            this.blink_coldtime = 5;
            this.blink_img = new Image();
            this.blink_img.src = &#34;https://cdn.acwing.com/media/article/image/2021/12/02/1_daccabdc53-blink.png&#34;;
        }
    }
    add_listening_events() {
        ...
        this.playground.game_map.$canvas.mousedown(function(e) {
            ...
            else if (e.which === 1) {
                ...
                else if (outer.cur_skill === &#34;blink&#34;) {
                    outer.blink(tx, ty);
                    // 同步函数
                    if (outer.playground.mode === &#34;multi mode&#34;) {
                        outer.playground.mps.send_blink(tx, ty);
                    }
                    outer.blink_coldtime = 5;
                }
            }
            outer.cur_skill = null; // 清空当前技能
        });
        $(window).keydown(function(e) {
            ...
            else if (e.which === 70) {    // f键
                if (outer.blink_coldtime &gt;= outer.eps) return true;
                outer.cur_skill = &#34;blink&#34;;
                return false;
            }
        });
    }
    ...
    blink(tx, ty) {
        let d = this.get_dist(this.x, this.y, tx, ty);
        d = Math.min(d, 0.5);
        let angle = Math.atan2(ty - this.y, tx - this.x);
        this.x += d * Math.cos(angle);
        this.y += d * Math.sin(angle);

        this.move_length = 0;   // 闪现完停下来
    }
    ...
    render_skill_coldtime() {
        ...
        x = 1.62, y = 0.9, r = 0.04;
        // 闪现技能
        // 渲染技能图标
        this.ctx.save();
        this.ctx.beginPath();
        this.ctx.arc(x * scale, y * scale, r * scale, 0, Math.PI * 2, false);
        this.ctx.stroke();
        this.ctx.clip();
        this.ctx.drawImage(this.blink_img, (x - r) * scale, (y - r) * scale, r * 2 * scale, r * 2 * scale);
        this.ctx.restore();

        // 渲染冷却指示
        if (this.blink_coldtime &gt;= this.eps){
            this.ctx.beginPath();
            this.ctx.moveTo(x * scale, y * scale);
            this.ctx.arc(x * scale, y * scale, r * scale, 0 - Math.PI / 2, Math.PI * 2 * (1 - this.blink_coldtime / 5) - Math.PI / 2, true);
            this.ctx.lineTo(x * scale, y * scale);
            this.ctx.fillStyle = &#34;rgba(0, 0, 255, 0.6)&#34;;
            this.ctx.fill();
        }
    }
}
</code></pre><h4 id="联机部分">联机部分</h4>
<p><code>game/static/js/src/playground/socket/multiplayer/zbase.js</code></p>
<pre tabindex="0"><code>class MultiPlayerSocket {
    ...
    send_blink(tx, ty) {
        let outer = this;
        this.ws.send(JSON.stringify({
            &#39;event&#39;: &#34;blink&#34;,
            &#39;uuid&#39;: outer.uuid,
            &#39;tx&#39;: tx,
            &#39;ty&#39;: ty,
        }));
    }
    receive_blink(uuid, tx, ty) {
        let player = this.get_player(uuid);
        if (player) {
            player.blink(tx, ty);
        }
    }
}
</code></pre><p><code>consumers/multiplayer/index.py</code></p>
<pre tabindex="0"><code>...
class MultiPlayer(AsyncWebsocketConsumer):
    ...
    async def blink(self, data):
        await self.channel_layer.group_send(
            self.room_name,
            {
                &#39;type&#39;: &#34;group_send_event&#34;,
                &#39;event&#39;: &#34;blink&#34;,
                &#39;uuid&#39;: data[&#39;uuid&#39;],
                &#39;tx&#39;: data[&#39;tx&#39;],
                &#39;ty&#39;: data[&#39;ty&#39;],
            }
        )
</code></pre><h1 id="实现聊天系统ஐ">实现聊天系统ஐ</h1>
<ul>
<li><a href="https://www.acwing.com/solution/content/89508/">8.1 上课笔记 | 大菜狗</a></li>
</ul>
<hr>
<h2 id="优化键盘绑定事件">优化键盘绑定事件</h2>
<p>这部分算是之前的遗留问题，先前的 <code>keydown</code> 监听事件绑定在了 <code>window</code> 上会出现一个问题</p>
<p>如果在一个浏览器内打开多个 <code>ACAPP</code>，此时按下键位触发 <code>keydown</code> 事件，会被浏览器内所有的 <code>ACAPP</code> 都捕获到</p>
<p>之前影响不大，但对此次要实现的聊天系统就有着致命的影响，即打开一个 <code>ACAPP</code> 的聊天栏，其他都会被打开</p>
<p>所有我们要将 <code>keydown</code> 监听事件绑定到 <code>canvas</code> 上</p>
<p><code>playground/player/zbase.js</code></p>
<pre tabindex="0"><code>class Player extends AcGameObject {
    ...
    add_listening_events() {
        ...
        this.playground.game_map.$canvas.keydown(function(e) {
            if (outer.playground.state !== &#34;fighting&#34;)
                return true;
            if (e.which === 81) {           // 键盘按下q事件
                if (outer.fireball_coldtime &gt;= outer.eps) return true;
                outer.cur_skill = &#34;fireball&#34;;
                return false;
            } else if (e.which === 70) {    // f键
                if (outer.blink_coldtime &gt;= outer.eps) return true;
                outer.cur_skill = &#34;blink&#34;;
                return false;
            }
        });
    }
}
</code></pre><p><code>playground/game-map/zbase.js</code></p>
<pre tabindex="0"><code>class GameMap extends AcGameObject {
    constructor(playground) {
        ...
        this.$canvas = $(`&lt;canvas tabindex=0&gt;&lt;/canvas&gt;`);
        ...
    }
    start() {
        this.$canvas.focus();
    }
}
</code></pre><h2 id="本地前端">本地前端</h2>
<p>要实现两个部分： 1. 文本输入框（让用户输入要发送的信息） 2. 历史记录显示框（之前用户发送的信息的显示框）</p>
<p>欲实现逻辑：用户按下 <code>&lt;Enter&gt;</code> 后，游戏界面弹出文本输入框，然后聚焦于文本输入框，且同时弹出历史记录显示框 3 秒</p>
<p>然后用户输入信息后，按下 <code>&lt;Enter&gt;</code> 后发出信息，接着信息会显示在历史记录显示框最下方，并弹出历史记录显示框 3 秒</p>
<p><code>playground/chat_field/zbase.js</code></p>
<p><code>chat field</code> 负责管理 文本输入框 和 历史记录显示框</p>
<pre tabindex="0"><code>class ChatField {
    constructor(playground) {
        this.playground = playground;

        this.$history = $(`&lt;div class=&#34;ac-game-chat-field-history&#34;&gt;&lt;/div&gt;`);
        this.$input = $(`&lt;input type=&#34;text&#34; class=&#34;ac-game-chat-field-input&#34;&gt;`);

        this.$history.hide();
        this.$input.hide();

        this.func_id = null;

        this.playground.$playground.append(this.$history);
        this.playground.$playground.append(this.$input);

        this.start();
    }

    start() {
        this.add_listening_events();
    }
    add_listening_events() {
        let outer = this;
        this.$input.keydown(function(e) {
            if (e.which === 27) {   //ESC
                outer.hide_input();
                return false;
            } else if (e.which === 13) {
                let username = outer.playground.root.settings.username;
                let text = outer.$input.val();
                if (text) {
                    outer.$input.val(&#34;&#34;);
                    outer.add_message(username, text);
                }
                return false;
            }
        });
    }
    show_history() {
        let outer = this;
        this.$history.fadeIn();
        if (this.func_id) clearTimeout(this.func_id);
        this.func_id = setTimeout(function() {
            outer.$history.fadeOut();
            outer.func_id = null;
        }, 3000);
    }
    render_message(message) {
        return $(`&lt;div&gt;${message}&lt;/div&gt;`);
    }
    add_message(username, text) {
        this.show_history();
        let message = `[${username}] ${text}`;
        this.$history.append(this.render_message(message));
        this.$history.scrollTop(this.$history[0].scrollHeight);
    }
    show_input() {
        this.show_history();
        this.$input.show();
        this.$input.focus();    // 输入时，聚焦于输入框
    }
    hide_input() {
        this.$input.hide();
        this.playground.game_map.$canvas.focus();   // 退出时，聚焦回游戏界面
    }
}
</code></pre><p><code>playground/zbase.js</code></p>
<p>把它创建出来</p>
<pre tabindex="0"><code>class AcGamePlayground {
    ...
    show(mode) {    //打开 playground 界面
        ...
        else if (mode === &#34;multi mode&#34;) {
            this.chat_field = new ChatField(this);
            ...
        }

    }
}
</code></pre><p><code>playground/player/zbase.js</code></p>
<p>添加监听事件</p>
<pre tabindex="0"><code>class Player extends AcGameObject {
    ...
    add_listening_events() {
        ...
        this.playground.game_map.$canvas.keydown(function(e) {
            if (e.which === 13) {   // enter (显示对话框)
                if (outer.playground.mode === &#34;multi mode&#34;) {
                    outer.playground.chat_field.show_input();
                    return false;
                }
            } else if (e.which === 27) {    // esc（关闭对话框）
                if (outer.playground.mode === &#34;multi mode&#34;) {
                    outer.playground.char_field.hide_input();
                    return false;
                }
            }
            ...
        }
    }
}
</code></pre><p><code>game.css</code></p>
<pre tabindex="0"><code>...
.ac-game-chat-field-history {
    position: absolute;
    top: 66%;
    left: 20%;
    transform: translate(-50%, -50%);
    width: 20%;
    height: 32%;
    color: white;
    font-size: 2vh;
    padding: 5px;
    overflow: auto;
}

.ac-game-chat-field-history::-webkit-scrollbar {
    width: 0;
}

.ac-game-chat-field-input {
    position: absolute;
    top: 86%;
    left: 20%;
    transform: translate(-50%, -50%);
    width: 20%;
    height: 3vh;
    color: white;
    font-size: 2vh;
    background-color: rgba(222,225,230, 0.2);
}
</code></pre><h2 id="联机聊天窗">联机聊天窗</h2>
<h3 id="前端-4">前端</h3>
<p><code>playground/chat_field/zbase.js</code></p>
<pre tabindex="0"><code>class ChatField {
    ...
    add_listening_events() {
        ...
        this.$input.keydown(function(e) {
            ...
            else if (e.which === 13) {
                ...
                if (text) {
                    ...
                    outer.playground.mps.send_message(text);
                }
                ...
            }
        });
    }
    ...
}
</code></pre><p><code>js/src/playground/socket/multiplayer/zbase.js</code></p>
<pre tabindex="0"><code>class MultiPlayerSocket {
    ...
    send_message(text) {
        let outer = this;
        this.ws.send(JSON.stringify({
            &#39;event&#39;: &#34;message&#34;,
            &#39;uuid&#39;: outer.uuid,
            &#39;username&#39;: outer.playground.root.settings.username,
            &#39;text&#39;: text,
        }));
    }
    receive_message(username, text) {
        this.playground.chat_field.add_message(username, text);
    }
}
</code></pre><h3 id="后端-4">后端</h3>
<p><code>consumers/multiplayer/index.py</code></p>
<pre tabindex="0"><code>...
class MultiPlayer(AsyncWebsocketConsumer):
    ...
    async def message(self, data):
        await self.channel_layer.group_send(
            self.room_name,
            {
                &#39;type&#39;: &#34;group_send_event&#34;,
                &#39;event&#39;: &#34;message&#34;,
                &#39;uuid&#39;: data[&#39;uuid&#39;],
                &#39;username&#39;: data[&#39;username&#39;],
                &#39;text&#39;: data[&#39;text&#39;],
            }
        )
</code></pre><h1 id="实现匹配系统ஐ">实现匹配系统ஐ</h1>
<ul>
<li><a href="https://www.acwing.com/file_system/file/content/whole/index/content/3435229/">9. 实现匹配系统 | 讲义</a></li>
<li><a href="https://www.acwing.com/activity/content/code/content/2360556/">9.1 上课笔记 | 一只野生彩色铅笔</a></li>
</ul>
<hr>
<p>本章节内容是利用 <code>thrift</code> 创建客户端-服务端交互的接口</p>
<p>然后利用该接口完成一个匹配系统</p>
<p>匹配系统由一个消息队列 + 生产者-消费者模型 + 匹配池 完成</p>
<p>基本与 Linux基础课 里的部分完全一致</p>
<p>当时我们是拿 cpp 来写的，写了差不多 200 行</p>
<p>本节会拿 py 来实现，差不多 140 行即可</p>
<p><code>thrift</code> 接口文件</p>
<pre tabindex="0"><code>namespace py match_service

service Match {
    i32 add_player(1: i32 score, 2: string uuid, 3: string username, 4: string photo, 5: string channel_name),
}
</code></pre><p>然后用该源文件生成接口文件</p>
<h2 id="服务端">服务端</h2>
<p>配置 <code>asgi.py</code> 让服务端进程可以调用客户端进程里的函数</p>
<p><code>acapp/acapp/asgi.py</code></p>
<pre tabindex="0"><code>import os

import django
os.environ.setdefault(&#39;DJANGO_SETTINGS_MODULE&#39;, &#39;acapp.settings&#39;)
django.setup()
...
from channels.layers import get_channel_layer
channel_layer = get_channel_layer()
...
</code></pre><p><code>acapp/match_system/src/main.py</code></p>
<pre tabindex="0"><code>#! /usr/bin/env python3

import glob
import sys
sys.path.insert(0, glob.glob(&#39;../../&#39;)[0])

from match_server.match_service import Match

from thrift.transport import TSocket
from thrift.transport import TTransport
from thrift.protocol import TBinaryProtocol
from thrift.server import TServer

from queue import Queue
from time import sleep
from threading import Thread

from acapp.asgi import channel_layer
from asgiref.sync import async_to_sync
from django.core.cache import cache

queue = Queue()  # 消息队列

class Player:
    def __init__(self, score, uuid, username, photo, channel_name):
        self.score = score
        self.uuid = uuid
        self.username = username
        self.photo = photo
        self.channel_name = channel_name
        self.waiting_time = 0  # 等待时间


class Pool:
    def __init__(self):
        self.players = []

    def add_player(self, player):
        self.players.append(player)

    def check_match(self, a, b):
        dt = abs(a.score - b.score)
        a_max_dif = a.waiting_time * 50
        b_max_dif = b.waiting_time * 50
        return dt &lt;= a_max_dif and dt &lt;= b_max_dif

    def match_success(self, ps):
        print(&#34;Match Success: %s %s %s&#34; % (ps[0].username, ps[1].username, ps[2].username))
        room_name = &#34;room-%s-%s-%s&#34; % (ps[0].uuid, ps[1].uuid, ps[2].uuid)
        players = []
        for p in ps:
            async_to_sync(channel_layer.group_add)(room_name, p.channel_name)
            players.append({
                &#39;uuid&#39;: p.uuid,
                &#39;username&#39;: p.username,
                &#39;photo&#39;: p.photo,
                &#39;hp&#39;: 100,
            })
        cache.set(room_name, players, 3600)  # 有效时间：1小时
        for p in ps:
            async_to_sync(channel_layer.group_send)(
                room_name,
                {
                    &#39;type&#39;: &#34;group_send_event&#34;,
                    &#39;event&#39;: &#34;create_player&#34;,
                    &#39;uuid&#39;: p.uuid,
                    &#39;username&#39;: p.username,
                    &#39;photo&#39;: p.photo,
                }
            )

    def increase_waiting_time(self):
        for player in self.players:
            player.waiting_time += 1

    def match(self):
        while len(self.players) &gt;= 3:
            self.players = sorted(self.players, key=lambda p: p.score)
            flag = False
            for i in range(len(self.players) - 2):
                a, b, c = self.players[i], self.players[i + 1], self.players[i + 2]
                if self.check_match(a, b) and self.check_match(a, c) and self.check_match(b, c):
                    self.match_success([a, b, c])
                    self.players = self.players[:i] + self.players[i + 3:]
                    flag = True
                    break
            if not flag:
                break

        self.increase_waiting_time()



class MatchHandler:
    def add_player(self, score, uuid, username, photo, channel_name):
        print(&#34;Add Player: %s %d&#34; % (username, score))
        player = Player(score, uuid, username, photo, channel_name)
        queue.put(player)
        return 0


def get_player_from_queue():
    try:
        return queue.get_nowait()
    except:
        return None


def worker():
    pool = Pool()
    while True:
        player = get_player_from_queue()
        if player:
            pool.add_player(player)
        else:
            pool.match()
            sleep(1)



if __name__ == &#39;__main__&#39;:
    handler = MatchHandler()
    processor = Match.Processor(handler)
    transport = TSocket.TServerSocket(host=&#39;127.0.0.1&#39;, port=9090)
    tfactory = TTransport.TBufferedTransportFactory()
    pfactory = TBinaryProtocol.TBinaryProtocolFactory()

    server = TServer.TThreadedServer(
        processor, transport, tfactory, pfactory)

    Thread(target=worker, daemon=True).start()

    print(&#39;Starting the server...&#39;)
    server.serve()
    print(&#39;done.&#39;)
</code></pre><h2 id="客户端">客户端</h2>
<p>扩展数据库表，让其可以存放 rank分 的信息</p>
<p><code>game/models/player/player.py</code></p>
<pre tabindex="0"><code>...
class Player(models.Model):
    ...
    score = models.IntegerField(default=1500)
    ...
</code></pre><p><code>consumers/multiplayer/index.py</code></p>
<pre tabindex="0"><code>from channels.generic.websocket import AsyncWebsocketConsumer
import json
from django.conf import settings
from django.core.cache import cache

from thrift import Thrift
from thrift.transport import TSocket
from thrift.transport import TTransport
from thrift.protocol import TBinaryProtocol

from match_system.src.match_server.match_service import Match
from game.models.player.player import Player
from channels.db import database_sync_to_async

class MultiPlayer(AsyncWebsocketConsumer):
    async def connect(self):
        await self.accept()

    async def disconnect(self, close_code):
        if self.room_name:
            await self.channel_layer.group_discard(self.room_name, self.channel_name)

    async def create_player(self, data):
        self.room_name = None
        self.uuid = data[&#39;uuid&#39;]
        # Make socket
        transport = TSocket.TSocket(&#39;127.0.0.1&#39;, 9090)
        # Buffering is critical. Raw sockets are very slow
        transport = TTransport.TBufferedTransport(transport)

        # Wrap in a protocol
        protocol = TBinaryProtocol.TBinaryProtocol(transport)

        # Create a client to use the protocol encoder
        client = Match.Client(protocol)

        def db_get_player():
            return Player.objects.get(user__username=data[&#39;username&#39;])

        player = await database_sync_to_async(db_get_player)()

        # Connect!
        transport.open()

        client.add_player(player.score, data[&#39;uuid&#39;], data[&#39;username&#39;], data[&#39;photo&#39;], self.channel_name)

        # Close!
        transport.close()
    
    async def group_send_event(self, data):
        if not self.room_name:
            keys = cache.keys(&#39;*%s*&#39; % (self.uuid))
            if keys:
                self.room_name = keys[0]
        await self.send(text_data=json.dumps(data))
    ...
</code></pre><h1 id="项目收尾ஐ">项目收尾ஐ</h1>
<h2 id="加密压缩js代码">加密、压缩js代码</h2>
<p>安装 <code>terser</code> :</p>
<pre tabindex="0"><code>sudo apt-get update
sudo apt-get install npm
sudo npm install terser -g
</code></pre><p><code>terser</code> 不仅支持文件输入，也支持标准输入。结果会输出到标准输出中。</p>
<p>使用方式：</p>
<pre tabindex="0"><code>terser xxx.js -c -m
</code></pre><p>我们将整合 <code>js</code> 文件的脚本修改一下即可：</p>
<p><code>scripts/compress_game_js.sh</code></p>
<pre tabindex="0"><code>#! /bin/bash

JS_PATH=/home/acs/acapp/game/static/js/
JS_PATH_DIST=${JS_PATH}dist/
JS_PATH_SRC=${JS_PATH}src/

find $JS_PATH_SRC -type f -name &#39;*.js&#39; | sort | xargs cat | terser -c -m &gt; ${JS_PATH_DIST}game.js

echo &#34;yes&#34; | python3 manage.py collectstatic
</code></pre><h2 id="清理监听函数">清理监听函数</h2>
<p>在AcAPP关闭之前触发的事件可以通过如下api添加：</p>
<pre tabindex="0"><code>AcWingOS.api.window.on_close(func);
</code></pre><p>注意：</p>
<ul>
<li>同一个页面中，多个 <code>acapp</code> 引入的 <code>js</code> 代码只会加载一次，因此 <code>AC_GAME_OBJECTS</code> 等全局变量是同一个页面、同一个 <code>acapp</code> 的所有窗口共用的</li>
<li>各自创建的局部变量是独立的，比如 <code>new AcGame()</code> 创建出的对象各个窗口是独立的</li>
</ul>
<p>我们给每一个窗口创建一个 <code>uid</code> 然后根据不同的 <code>uid</code> 进行事件解绑</p>
<p><code>playground/zbase.js</code></p>
<pre tabindex="0"><code>class AcGamePlayground {
    ...
    create_uuid() {
        let res = &#34;&#34;;
        for (let i = 0; i &lt; 8; i ++ ) {
            let x = parseInt(Math.floor(Math.random() * 10));   //[0, 10)
            res += x;
        }
        return res;
    }
    start() {
        let outer = this;
        let uuid = this.create_uuid();
        $(window).on(`resize.${uuid}`, function() {
            outer.resize();
        });

        if (this.root.AcWingOS) {
            outer.root.AcWingOS.api.window.on_close(function() {
                $(window).off(`resize.${uuid}`);
            });
        }
    }
    ...
}
</code></pre><h2 id="编写每局游戏的结束界面">编写每局游戏的结束界面</h2>
<p>单独创建一个结束界面，然后游戏结束的时候渲染出该结束界面即可</p>
<p>因为结束界面要覆盖在游戏界面之上，因此我们需要先修改一下游戏引擎，添加一个 <code>late_update</code></p>
<p>在每一帧渲染的内容最后再渲染，从而实现结束界面叠加在游戏界面之上的效果</p>
<p><code>ac_game_object/zbase.js</code></p>
<pre tabindex="0"><code>...
class AcGameObject {
    ...
    late_update() { // 每一帧均会执行一次，且在所有 update 执行完后才执行

    }
    ...
}
...
let AC_GAME_ANIMATION = function(timestamp) {
    ...
    for (let i = 0; i &lt; AC_GAME_OBJECTS.length; i ++ ) {
        let obj = AC_GAME_OBJECTS[i];
        obj.late_update();
    }
    ...
}
...
</code></pre><p>然后我们做一个渲染出结束界面的类</p>
<p><code>playground/score_board/zbase.js</code></p>
<pre tabindex="0"><code>class ScoreBoard extends AcGameObject {
    constructor(playground) {
        super();
        this.playground = playground;
        this.ctx = this.playground.game_map.ctx;

        this.state = null;  // win-胜利；lose-失败

        this.win_img = new Image();
        this.win_img.src = &#34;https://cdn.acwing.com/media/article/image/2021/12/17/1_8f58341a5e-win.png&#34;;

        this.lose_img = new Image();
        this.lose_img.src = &#34;https://cdn.acwing.com/media/article/image/2021/12/17/1_9254b5f95e-lose.png&#34;;
    }
    start() {
    }

    add_listening_events() {    // 点击后，返回主页面
        let outer = this;
        let $canvas = this.playground.game_map.$canvas;

        $canvas.on(&#39;click&#39;, function() {
            outer.playground.hide();
            outer.playground.root.menu.show();
        });
    }

    win() {
        this.state = &#34;win&#34;;
        let outer = this;
        setTimeout(function() {
            outer.add_listening_events();
        }, 1000);   // 1秒后监听点击事件
    }

    lose() {
        this.state = &#34;lose&#34;;
        let outer = this;
        setTimeout(function() {
            outer.add_listening_events();
        }, 1000);   // 1秒后监听点击事件
    }

    late_update() {
        this.render();  // 渲染在图层最上方
    }
    render() {
        let len = this.playground.height / 2;
        if (this.state === &#34;win&#34;) {
            this.ctx.drawImage(this.win_img, this.playground.width / 2 - len / 2, this.playground.height / 2 - len / 2, len, len);
        } else if (this.state === &#34;lose&#34;) {
            this.ctx.drawImage(this.lose_img, this.playground.width / 2 - len / 2, this.playground.height / 2 - len / 2, len, len);
        }
    }
}
</code></pre><p>通过游戏结束的逻辑判断，渲染结束界面，同时在结束并返回主菜单的时候，重置游戏元素</p>
<p>游戏元素重置</p>
<p><code>playground/zbase.js</code></p>
<pre tabindex="0"><code>class AcGamePlayground {
    ...
    show(mode) {    // 打开 playground 界面
        ...
        this.score_board = new ScoreBoard(this);
        ...
    }
    ...
    hide() {
        // 清空所有游戏元素
        while (this.players &amp;&amp; this.players.length &gt; 0) {
            this.players[0].destroy();
        }
        if (this.game_map) {
            this.game_map.destroy();
            this.game_map = null;
        }
        if (this.notice_board) {
            this.notice_board.destroy();
            this.notice_board = null;
        }
        if (this.score_board) {
            this.score_board.destroy();
            this.score_board = null;
        }
        this.$playground.empty();   // 清空所有html标签
        this.$playground.hide();
    }
}
</code></pre><p>游戏结束的逻辑判断</p>
<p><code>playground/player/zbase.js</code></p>
<pre tabindex="0"><code>class Player extends AcGameObject {
    ...
    update() {
        ...
        this.update_win();
        ...
    }
    update_win() {
        // 竞赛状态，且只有一名玩家，且改名玩家就是我，则胜利
        if (this.playground.state === &#34;fighting&#34; &amp;&amp; this.character === &#34;me&#34; &amp;&amp; this.playground.players.length === 1) {
            this.playground.state = &#34;over&#34;;
            this.playground.score_board.win();
        }
    }
    ...
    on_destroy() {
        // 我死亡，且游戏处于竞赛状态，则失败
        if (this.character === &#34;me&#34; &amp;&amp; this.playground.state === &#34;fighting&#34;) {
            this.playground.state = &#34;over&#34;
            this.playground.score_board.lose();
        }
        ...
    }
}
</code></pre><h2 id="更新战绩">更新战绩</h2>
<p>这里我们完全交给后端来判断</p>
<p>在处理广播的 <code>attack</code> 信息的时候，先前我们额外留了一个参数 <code>hp</code></p>
<p>围绕该 <code>hp</code> 进行续写，若当前房间内 <code>hp</code> 大于 0 的玩家少于等于 1 个</p>
<p>则对于所有 <code>hp</code> 为 0 的玩家减 <code>rank</code> 分，大于 0 的玩家加 <code>rank</code> 分</p>
<p><code>consumers/multiplayer/index.py</code></p>
<pre tabindex="0"><code>...
class MultiPlayer(AsyncWebsocketConsumer):
    ...
    async def attack(self, data):
        if not self.room_name:
            return
        players = cache.get(self.room_name)

        if not players:
            return

        for player in players:
            if player[&#39;uuid&#39;] == data[&#39;attackee_uuid&#39;]:
                player[&#39;hp&#39;] -= 25

        remain_cnt = 0
        for player in players:
            if player[&#39;hp&#39;] &gt; 0:
                remain_cnt += 1

        if remain_cnt &gt; 1:  # 继续进行游戏
            if self.room_name:
                cache.set(self.room_name, players, 3600)
        else:   # 结算 
            def db_update_player_score(username, score):
                player = Player.objects.get(user__username=username)
                player.score += score
                player.save()
            for player in players:
                if player[&#39;hp&#39;] &lt;= 0:
                    await database_sync_to_async(db_update_player_score)(player[&#39;username&#39;], -5)
                else:
                    await database_sync_to_async(db_update_player_score)(player[&#39;username&#39;], 10)
        ...
    ...
</code></pre><h2 id="添加faviconico">添加favicon.ico</h2>
<p>这是修正一个小 BUG，之前 web 端一直没有网页显示图标，这里给他加上去</p>
<p><code>game/templates/multiends/web.html</code></p>
<pre tabindex="0"><code>...
&lt;head&gt;
    ...
    &lt;link rel=&#34;icon&#34; href=&#34;https://cdn.acwing.com/media/article/image/2021/12/17/1_be4c11ce5f-acapp.png&#34;&gt;
&lt;/head&gt;
...
</code></pre><h1 id="各种环境命令">各种环境命令</h1>
<ol>
<li>启动<code>django</code>项目，在<code>~/acapp</code>目录下执行：</li>
</ol>
<pre tabindex="0"><code>python3 manage.py runserver 0.0.0.0:8000
</code></pre><ol start="2">
<li>每次修改好 <code>game/static</code>  下的文件后，需要在<code>~/acapp</code>目录下运行打包文件：</li>
</ol>
<pre tabindex="0"><code>./scripts/compress_game_js.sh
</code></pre><ol start="3">
<li>在定义完一个数据表之后，需要将创建的数据表更新到 <code>django</code> 的数据库中去：</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f00">$</span> python3 manage.py makemigrations
</span></span><span style="display:flex;"><span>&gt; Migrations <span style="color:#fff;font-weight:bold">for</span> <span style="color:#0ff;font-weight:bold">&#39;game&#39;</span>:
</span></span><span style="display:flex;"><span>&gt;   game/migrations/<span style="color:#ff0;font-weight:bold">0001</span>_initial.py
</span></span><span style="display:flex;"><span>&gt;     - Create model Player
</span></span><span style="display:flex;"><span><span style="color:#f00">$</span> 
</span></span><span style="display:flex;"><span><span style="color:#f00">$</span> python3 manage.py migrate
</span></span><span style="display:flex;"><span>&gt; Operations to perform:
</span></span><span style="display:flex;"><span>&gt;   Apply <span style="color:#fff;font-weight:bold">all</span> migrations: admin, auth, contenttypes, game, sessions
</span></span><span style="display:flex;"><span>&gt; Running migrations:
</span></span><span style="display:flex;"><span>&gt;   Applying game<span style="color:#ff0;font-weight:bold">.0001</span>_initial... OK
</span></span></code></pre></div><ol start="4">
<li>启动<code>nginx</code>服务，用于域名访问：</li>
</ol>
<pre tabindex="0"><code>sudo /etc/init.d/nginx start
</code></pre><ol start="5">
<li>启动<code>uwsgi</code>服务，用于域名访问：</li>
</ol>
<pre tabindex="0"><code>uwsgi --ini scripts/uwsgi.ini
</code></pre><ol start="6">
<li>关闭<code>uwsgi</code>服务：</li>
</ol>
<pre tabindex="0"><code>sudo pkill -f uwsgi -9
</code></pre><ol start="7">
<li>启动 <code>redis-server</code>，用于一键登录：</li>
</ol>
<pre tabindex="0"><code>sudo redis-server /etc/redis/redis.conf
</code></pre><ol start="8">
<li>启动 <code>Django_channels</code>，用于联机对战，在<code>~/acapp</code>目录下执行：</li>
</ol>
<pre tabindex="0"><code>daphne -b 0.0.0.0 -p 5015 acapp.asgi:application
</code></pre><ol start="9">
<li>启动<code>thrift</code>服务，用于匹配系统，在<code>~/acapp/match_system/src/</code>目录下执行：</li>
</ol>
<pre tabindex="0"><code>./main.py
</code></pre><ol start="10">
<li>版本更新，在<a href="https://www.acwing.com/user/myspace/application/update/2433/">术士之战</a>中将 <code>js地址</code> 一栏更新为：</li>
</ol>
<pre tabindex="0"><code>// 本地文件夹中对应的文件也需要更改名字
https://app2433.acapp.acwing.com.cn/static/js/dist/game-版本号.js
</code></pre>]]></content:encoded>
    </item>
    
    <item>
      <title>Manage-time</title>
      <link>https://xancoding.cn/posts/2022-10-14-16-07-09/</link>
      <pubDate>Fri, 14 Oct 2022 16:07:09 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2022-10-14-16-07-09/</guid>
      <description>&lt;h1 id=&#34;todo清单&#34;&gt;Todo清单&lt;/h1&gt;
&lt;p&gt;我目前在用的时间管理软件是&lt;code&gt;Todo清单&lt;/code&gt;，优势在于多设备云端同步（需要付费使用）、具备番茄钟功能、可以用来安排每日的待办清单&lt;/p&gt;
&lt;h2 id=&#34;安排好你的待办清单&#34;&gt;安排好你的待办清单&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;思考以下几点：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. 有哪些工作需要完成？&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.我有多少时间可以用来完成这些工作？&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.工作事项是否有逻辑顺序以及优先级&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;每一天你都会受到很多的干扰，看到APP上的一个个红点，消息通知从屏幕上弹出。注意力在一次次的查看信息中被逐渐消磨，时间也变得碎片化，难以静下心来专注于某件事。有些干扰无可避免，但只要愿意付出努力，大部分的干扰可以得到排除。&lt;/p&gt;
&lt;p&gt;白天我会尽量避免受到干扰，所有的社交软件，它们是工作效率的最大杀手。我控制自己在上午以及下午的大块时间中忽略来自社交网络的信息，将消息的查看集中在中午以及晚上的特定时间，做一个统一的查看。&lt;/p&gt;
&lt;p&gt;每天的晚上，我会花些的时间，把第二天的工作做个大致的安排，写到待办事项中，第二天再用番茄工作法进行专注执行。记得让自己的计划保持比较高的自由度，要留有足够的时间余量。&lt;/p&gt;
&lt;h2 id=&#34;番茄工作法&#34;&gt;番茄工作法&lt;/h2&gt;
&lt;p&gt;番茄工作法这个名词我之前便有听说过，但一直未尝试着去做过，直到最近从《软技能》一书中再次看到，感觉不错，便开始了尝试。在经过一个星期的体验后，它确实提高了我的效率，让我能够更好的对自己的时间做出规划。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;它的基本思路是：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;你规划出打算一天之内完成的工作，然后设置一个时长25分钟的定时器，去完成计划中的第一项任务；在这25分钟之内，你只专注于这一项任务，心无旁骛。一旦有干扰，可以用各种方法屏蔽掉干扰，但是通常你要努力保证自己完全不被打扰。总之，你不希望自己的专注的工作状态被打断。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;在25分钟结束的时候，设置一个5分钟的定时器，休息一下。这就是所谓的一个“番茄钟”。每4个番茄钟后，你都需要休息一会儿，通常为15分钟。&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;值得注意的是，使用番茄工作法所要做的并不只是集中注意力25分钟这么简单。通过使用番茄工作法，你可以&lt;strong&gt;高效跟踪自己一天完成的番茄钟的数量&lt;/strong&gt;，并为此设定目标。开始的几天，你可能无法对自己能完成的工作做一个很好的估计。但相信在使用番茄工作法一段时间后，你可以做到较为准确的估计，并能完成通过番茄钟的数量，评估自己完成的工作。&lt;/p&gt;
&lt;p&gt;通过使用番茄钟，你可以&lt;strong&gt;定量的描述自己的工作状态&lt;/strong&gt;，而不再像过去那样只是凭借感觉。你可以把每周看作是由有限个番茄钟组成的，知道了自己一周大概能完成的番茄钟的数量后，你也会认识到应该如何通过设置任务的优先级，来&lt;strong&gt;合理分配自己的时间&lt;/strong&gt;。你不会再过高的幻想自己会在一周的时间里完成超出自己实际许多的任务，并在每周结束时，因未能完成而感到沮丧。&lt;/p&gt;
&lt;p&gt;
&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2022/10/30/635e1e89d7f3f.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2022/10/30/635e1e89d7f3f.png&#34; alt=&#34;Pomodoro&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/p&gt;
&lt;p&gt;当你在一天中为自己设置了&lt;strong&gt;x&lt;/strong&gt;个番茄钟的工作目标（这一目标你完全可控）并且达成的时候，你就可以知道自己一天到底可以完成多少工作，这会让自己感觉良好，更重要的是，还能让自己放松身心。它不仅能帮你完成更多的工作，还能让你尽情享受业余时间——因为你已经通过番茄钟完成了一天的任务，在剩下的时间里，你完全可以自由安排消磨时间，而不会再有任何的心理负担。&lt;/p&gt;
&lt;p&gt;最后的最后，一定记得要&lt;strong&gt;对自己的能力做一个合理的预期&lt;/strong&gt;，你每周工作40小时并不意味着你能完成80个番茄钟。找到适合你的番茄钟数量，过度的加量会适得其反。&lt;/p&gt;
&lt;h1 id=&#34;推荐阅读&#34;&gt;推荐阅读&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://todo.evestudio.cn/&#34;&gt;Todo清单&lt;/a&gt; 一款跨平台待办事项与时间管理应用&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/468627225?utm_campaign=shareopn&amp;amp;utm_medium=social&amp;amp;utm_oi=1205113084614000640&amp;amp;utm_psn=1564268556828737536&amp;amp;utm_source=wechat_session&#34;&gt;如何用Todo清单度过余生的每一天？&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://geekplux.com/posts/farewell_social_network&#34;&gt;告别社交网络有多难&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://geekplux.com/newsletters/28&#34;&gt;社交网络名存实亡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.axios.com/2022/07/25/sunset-social-network-facebook-tiktok&#34;&gt;Sunset of the social network&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://book.douban.com/subject/26835090/&#34;&gt;《软技能》&lt;/a&gt; 生产力篇&lt;/li&gt;
&lt;/ul&gt;
</description>
      <content:encoded><![CDATA[<h1 id="todo清单">Todo清单</h1>
<p>我目前在用的时间管理软件是<code>Todo清单</code>，优势在于多设备云端同步（需要付费使用）、具备番茄钟功能、可以用来安排每日的待办清单</p>
<h2 id="安排好你的待办清单">安排好你的待办清单</h2>
<blockquote>
<p>思考以下几点：</p>
<p><strong>1. 有哪些工作需要完成？</strong></p>
<p><strong>2.我有多少时间可以用来完成这些工作？</strong></p>
<p><strong>3.工作事项是否有逻辑顺序以及优先级</strong></p>
</blockquote>
<p>每一天你都会受到很多的干扰，看到APP上的一个个红点，消息通知从屏幕上弹出。注意力在一次次的查看信息中被逐渐消磨，时间也变得碎片化，难以静下心来专注于某件事。有些干扰无可避免，但只要愿意付出努力，大部分的干扰可以得到排除。</p>
<p>白天我会尽量避免受到干扰，所有的社交软件，它们是工作效率的最大杀手。我控制自己在上午以及下午的大块时间中忽略来自社交网络的信息，将消息的查看集中在中午以及晚上的特定时间，做一个统一的查看。</p>
<p>每天的晚上，我会花些的时间，把第二天的工作做个大致的安排，写到待办事项中，第二天再用番茄工作法进行专注执行。记得让自己的计划保持比较高的自由度，要留有足够的时间余量。</p>
<h2 id="番茄工作法">番茄工作法</h2>
<p>番茄工作法这个名词我之前便有听说过，但一直未尝试着去做过，直到最近从《软技能》一书中再次看到，感觉不错，便开始了尝试。在经过一个星期的体验后，它确实提高了我的效率，让我能够更好的对自己的时间做出规划。</p>
<blockquote>
<p>它的基本思路是：</p>
<p><strong>你规划出打算一天之内完成的工作，然后设置一个时长25分钟的定时器，去完成计划中的第一项任务；在这25分钟之内，你只专注于这一项任务，心无旁骛。一旦有干扰，可以用各种方法屏蔽掉干扰，但是通常你要努力保证自己完全不被打扰。总之，你不希望自己的专注的工作状态被打断。</strong></p>
<p><strong>在25分钟结束的时候，设置一个5分钟的定时器，休息一下。这就是所谓的一个“番茄钟”。每4个番茄钟后，你都需要休息一会儿，通常为15分钟。</strong></p>
</blockquote>
<p>值得注意的是，使用番茄工作法所要做的并不只是集中注意力25分钟这么简单。通过使用番茄工作法，你可以<strong>高效跟踪自己一天完成的番茄钟的数量</strong>，并为此设定目标。开始的几天，你可能无法对自己能完成的工作做一个很好的估计。但相信在使用番茄工作法一段时间后，你可以做到较为准确的估计，并能完成通过番茄钟的数量，评估自己完成的工作。</p>
<p>通过使用番茄钟，你可以<strong>定量的描述自己的工作状态</strong>，而不再像过去那样只是凭借感觉。你可以把每周看作是由有限个番茄钟组成的，知道了自己一周大概能完成的番茄钟的数量后，你也会认识到应该如何通过设置任务的优先级，来<strong>合理分配自己的时间</strong>。你不会再过高的幻想自己会在一周的时间里完成超出自己实际许多的任务，并在每周结束时，因未能完成而感到沮丧。</p>
<p>
<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2022/10/30/635e1e89d7f3f.png">
<img src="https://bu.dusays.com/2022/10/30/635e1e89d7f3f.png" alt="Pomodoro"  />
</a>
</div>

</p>
<p>当你在一天中为自己设置了<strong>x</strong>个番茄钟的工作目标（这一目标你完全可控）并且达成的时候，你就可以知道自己一天到底可以完成多少工作，这会让自己感觉良好，更重要的是，还能让自己放松身心。它不仅能帮你完成更多的工作，还能让你尽情享受业余时间——因为你已经通过番茄钟完成了一天的任务，在剩下的时间里，你完全可以自由安排消磨时间，而不会再有任何的心理负担。</p>
<p>最后的最后，一定记得要<strong>对自己的能力做一个合理的预期</strong>，你每周工作40小时并不意味着你能完成80个番茄钟。找到适合你的番茄钟数量，过度的加量会适得其反。</p>
<h1 id="推荐阅读">推荐阅读</h1>
<ul>
<li><a href="https://todo.evestudio.cn/">Todo清单</a> 一款跨平台待办事项与时间管理应用</li>
<li><a href="https://zhuanlan.zhihu.com/p/468627225?utm_campaign=shareopn&amp;utm_medium=social&amp;utm_oi=1205113084614000640&amp;utm_psn=1564268556828737536&amp;utm_source=wechat_session">如何用Todo清单度过余生的每一天？</a></li>
</ul>
<hr>
<ul>
<li><a href="https://geekplux.com/posts/farewell_social_network">告别社交网络有多难</a></li>
<li><a href="https://geekplux.com/newsletters/28">社交网络名存实亡</a></li>
<li><a href="https://www.axios.com/2022/07/25/sunset-social-network-facebook-tiktok">Sunset of the social network</a></li>
</ul>
<hr>
<ul>
<li><a href="https://book.douban.com/subject/26835090/">《软技能》</a> 生产力篇</li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>Get Info</title>
      <link>https://xancoding.cn/posts/2022-10-12-22-42-04/</link>
      <pubDate>Wed, 12 Oct 2022 22:42:04 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2022-10-12-22-42-04/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;这个时代不缺信息，因为信息太多了，缺的是时间&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;整个互联网正在充斥着流量内容，而我们得学会如何从垃圾中找到金子&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;获取信息的方式最好是主动的，摆脱算法和机器的喂养，自己去挖掘有价值的信息&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;rss&#34;&gt;RSS&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/349349861&#34;&gt;知道RSS的人越少，我就越希望它能被人知道！&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://mp.weixin.qq.com/s/VUhz2Tg08UqYSAZB6nU9MQ&#34;&gt;RSS 二十年&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rss-source.com/&#34;&gt;RSS Source | RSS订阅源推荐&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;什么是rss&#34;&gt;什么是RSS?&lt;/h2&gt;
&lt;p&gt;RSS 英文全称为 Really Simple Syndication，即简易资讯聚合。其实叫什么并不重要，我们只用知道它是一个&lt;strong&gt;能让你在一个地方订阅&lt;/strong&gt;各种感兴趣网站的工具。&lt;/p&gt;
&lt;p&gt;RSS的核心是&lt;strong&gt;资讯聚合&lt;/strong&gt;，由&lt;strong&gt;用户自己决定信息源&lt;/strong&gt;。我们可以通过订阅网站的RSS源，主动获得想要的资讯，去挖掘一些自己真正感兴趣的东西。&lt;/p&gt;
&lt;h2 id=&#34;如何使用rss&#34;&gt;如何使用RSS?&lt;/h2&gt;
&lt;p&gt;利用RSS获取信息，只需要在目标网站上找到RSS链接，并把它添加到RSS阅读器中。&lt;/p&gt;
&lt;p&gt;我使用的工具是&lt;code&gt;Inoreader RSS 阅读器 （需翻墙） + RSSHub Radar 浏览器插件&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Inoreader&lt;/code&gt; 吸引我的点是它支持PC端和手机端的同步，并且PC端可以直接通过浏览器插件使用，使我在手机和电脑上都可以查看消息。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;RSSHub Radar&lt;/code&gt; 的出现，完美解决了不是所有的网页都提供RSS源这一痛点，它可以自动生成网站的RSS源以供订阅，非常方便。&lt;/p&gt;
&lt;p&gt;我通过使用RSS来订阅我感兴趣的个人博客，我订阅的博客网站在 &lt;code&gt;Links&lt;/code&gt; 页面下的 &lt;a href=&#34;https://xancoding.cn/links/#blogs&#34;&gt;Blogs&lt;/a&gt; 那一栏。&lt;/p&gt;
&lt;h1 id=&#34;podcast&#34;&gt;Podcast&lt;/h1&gt;
&lt;p&gt;播客也是一个很好的信息源，可以在做一些不用🧠的事时听，适合用来拓宽自己的知识面，对一些自己之前完全没有接触过的领域做一个初步的了解，抑或是单纯用以放松也不错。我的使用场景通常是在吃饭或是上下课的路上。&lt;/p&gt;
&lt;p&gt;我目前在使用的播客软件是&lt;a href=&#34;https://www.xiaoyuzhoufm.com/&#34;&gt;小宇宙&lt;/a&gt;，体验不错。&lt;/p&gt;
&lt;h1 id=&#34;read-books&#34;&gt;Read-books&lt;/h1&gt;
&lt;h2 id=&#34;pc&#34;&gt;PC&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Neat Reader&lt;/code&gt; 是一款&lt;code&gt;EPUB&lt;/code&gt;阅读器，用以阅读EPUB格式的电子书，体验感不错。我会在 &lt;a href=&#34;https://zh.z-lib.org/&#34;&gt;Z-Library&lt;/a&gt; or &lt;a href=&#34;https://lorefree.com/&#34;&gt;LoreFree&lt;/a&gt;  or &lt;a href=&#34;https://www.jiumodiary.com/&#34;&gt;Jiumo Search 鸠摩搜索&lt;/a&gt; 上搜索得到我想要看的书的EPUB格式的电子书后，存在本地文件上，通过 &lt;a href=&#34;https://www.neat-reader.com/&#34;&gt;Neat Reader&lt;/a&gt; 阅读&lt;/p&gt;
&lt;p&gt;插一句， Z-lib 还有 Android app，可以直接传输到邮箱📫中&lt;/p&gt;
&lt;p&gt;
&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2022/10/30/635e1cf8284ec.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2022/10/30/635e1cf8284ec.png&#34; alt=&#34;neatReader&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/p&gt;
&lt;p&gt;如果找不到EPUB格式的书籍，我会存 PDF 格式的，然后在 &lt;a href=&#34;https://www.sumatrapdfreader.org/free-pdf-reader&#34;&gt;Sumatra PDF&lt;/a&gt; 上阅读&lt;/p&gt;
&lt;h2 id=&#34;android&#34;&gt;Android&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://weread.qq.com/&#34;&gt;https://weread.qq.com/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;手机上的话，我会使用微信读书，把找到的电子书上传到书架后进行阅读&lt;/p&gt;
&lt;h2 id=&#34;纸质书&#34;&gt;纸质书&lt;/h2&gt;
&lt;p&gt;不过，相比于电子书，我其实还是更喜欢纸质书的阅读体验。所以，我也会隔段时间便去拿着自己的书单，去学校的图书馆找书看（当然，并不是每次图书馆都有我想要的书😭）&lt;/p&gt;
&lt;h1 id=&#34;chatgpt--search-engine&#34;&gt;ChatGPT &amp;amp; Search-engine&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Chrome &amp;amp; AdblockPlus &amp;amp; uBlacklist | Personal Blocklist &amp;amp; ChatGPT for Google &amp;amp; Vimium&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;在搜索引擎体验上， Google （强推，体验极佳） &amp;gt; Bing （偶尔用用） &amp;raquo; Baidu （完全不考虑）&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/589201080&#34;&gt;ChatGPT 使用指南&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.instructables.com/How-to-Properly-Use-a-Search-Engine/&#34;&gt;# How to Properly Use a Search Engine&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://haoeric.github.io/Google-search-grammar/&#34;&gt;Practical Google Search Tips&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://program-think.blogspot.com/2013/03/internet-resource-discovery-0.html&#34;&gt;如何挖掘网络资源[0]：为啥要写这个话题？&lt;/a&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://program-think.blogspot.com/2013/03/internet-resource-discovery-1.html&#34;&gt;如何挖掘网络资源[1]：网站的类型和使用场景&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&#34;https://program-think.blogspot.com/2013/03/internet-resource-discovery-2.html&#34;&gt;如何挖掘网络资源[2]：Google 搜索的基本语法&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&#34;https://program-think.blogspot.com/2013/03/internet-resource-discovery-3.html&#34;&gt;如何挖掘网络资源[3]：解答 Google 搜索的常见问题（FAQs）&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;chrome-plugins&#34;&gt;Chrome plugins&lt;/h2&gt;
&lt;h3 id=&#34;adblock-plus---free-ad-blocker&#34;&gt;Adblock Plus - free ad blocker&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;AdblockPlus&lt;/code&gt; 由用户手动设置拦截网页上不想看到的内容，我使用这个插件把一些网站我不想要看到的内容进行屏蔽，以获得更为简洁的体验&lt;/p&gt;
&lt;p&gt;小声BB：启动这个插件，在使用过程中，可能会碰到部分网页显示异常的情况，这个时候需要把该网页加入白名单来保证网页正常显示

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2022/11/14/6371b54d0642a.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2022/11/14/6371b54d0642a.png&#34; alt=&#34;3&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/p&gt;
&lt;h3 id=&#34;chatgpt-for-google&#34;&gt;ChatGPT for Google&lt;/h3&gt;
&lt;p&gt;使用 Google 搜索时，右侧便会自动出现chatGPT的回答，如搜索&lt;code&gt;C++虚函数是什么？&lt;/code&gt;，就会出现如下所示的结果：

&lt;div class=&#34;post-img-view&#34;&gt;
&lt;a data-fancybox=&#34;gallery&#34; href=&#34;https://bu.dusays.com/2023/01/13/63c0cda30c70c.png&#34;&gt;
&lt;img src=&#34;https://bu.dusays.com/2023/01/13/63c0cda30c70c.png&#34; alt=&#34;Snipaste_2023-01-13_11-18-47.png&#34;  /&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;/p&gt;
&lt;h3 id=&#34;global-speed&#34;&gt;Global Speed&lt;/h3&gt;
&lt;p&gt;使用键盘调节视频的播放速度，脱离鼠标的使用&lt;/p&gt;
&lt;h3 id=&#34;idm-integration-module&#34;&gt;IDM Integration Module&lt;/h3&gt;
&lt;p&gt;使用 &lt;code&gt;IDM&lt;/code&gt; 下载文件&lt;/p&gt;
&lt;h3 id=&#34;language-reactor&#34;&gt;&lt;strong&gt;Language Reactor&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;学习外语&lt;/p&gt;
&lt;h3 id=&#34;vimium-c---all-by-keyboard--pdf-viewer-for-vimium-c&#34;&gt;Vimium C - All by Keyboard &amp;amp; PDF Viewer for Vimium C&lt;/h3&gt;
&lt;p&gt;它提供了类Vim操作来控制浏览器网页。熟练掌握后，可以脱离鼠标，只使用键盘浏览页面&lt;/p&gt;
&lt;p&gt;这个插件我已经有一篇&lt;a href=&#34;https://xancoding.cn/posts/vimium/&#34;&gt;文章&lt;/a&gt;进行更为详细的讲解了，这里就不再展开来说了&lt;/p&gt;
&lt;h3 id=&#34;personal-blocklist&#34;&gt;Personal Blocklist&lt;/h3&gt;
&lt;p&gt;在搜索时屏蔽特定网站，做到对低质内容的过滤&lt;/p&gt;
&lt;h3 id=&#34;rss-reader-extension-by-inoreader&#34;&gt;RSS Reader Extension (by Inoreader)&lt;/h3&gt;
&lt;p&gt;Build your own newsfeed&lt;/p&gt;
&lt;h3 id=&#34;scispace-copilot&#34;&gt;&lt;strong&gt;SciSpace Copilot&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;Your AI research assistant for understanding scientific literature.&lt;/p&gt;
&lt;h3 id=&#34;zotero-connector&#34;&gt;Zotero Connector&lt;/h3&gt;
&lt;p&gt;Save references to Zotero from your web browser&lt;/p&gt;
&lt;h3 id=&#34;划词翻译&#34;&gt;划词翻译&lt;/h3&gt;
&lt;p&gt;一站式划词 / 截图 / 网页全文 / 音视频翻译扩展&lt;/p&gt;
&lt;h3 id=&#34;easyscholar&#34;&gt;easyScholar&lt;/h3&gt;
&lt;p&gt;显示期刊等级&lt;/p&gt;
&lt;h3 id=&#34;heading&#34;&gt;&lt;/h3&gt;
&lt;h1 id=&#34;推荐阅读&#34;&gt;推荐阅读&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://catcoding.me/p/get-better-info/&#34;&gt;优化自己的信息源&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
      <content:encoded><![CDATA[<blockquote>
<p><strong>这个时代不缺信息，因为信息太多了，缺的是时间</strong></p>
<p><strong>整个互联网正在充斥着流量内容，而我们得学会如何从垃圾中找到金子</strong></p>
<p><strong>获取信息的方式最好是主动的，摆脱算法和机器的喂养，自己去挖掘有价值的信息</strong></p>
</blockquote>
<h1 id="rss">RSS</h1>
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/349349861">知道RSS的人越少，我就越希望它能被人知道！</a></li>
<li><a href="https://mp.weixin.qq.com/s/VUhz2Tg08UqYSAZB6nU9MQ">RSS 二十年</a></li>
<li><a href="https://rss-source.com/">RSS Source | RSS订阅源推荐</a></li>
</ul>
<hr>
<h2 id="什么是rss">什么是RSS?</h2>
<p>RSS 英文全称为 Really Simple Syndication，即简易资讯聚合。其实叫什么并不重要，我们只用知道它是一个<strong>能让你在一个地方订阅</strong>各种感兴趣网站的工具。</p>
<p>RSS的核心是<strong>资讯聚合</strong>，由<strong>用户自己决定信息源</strong>。我们可以通过订阅网站的RSS源，主动获得想要的资讯，去挖掘一些自己真正感兴趣的东西。</p>
<h2 id="如何使用rss">如何使用RSS?</h2>
<p>利用RSS获取信息，只需要在目标网站上找到RSS链接，并把它添加到RSS阅读器中。</p>
<p>我使用的工具是<code>Inoreader RSS 阅读器 （需翻墙） + RSSHub Radar 浏览器插件</code>。</p>
<p><code>Inoreader</code> 吸引我的点是它支持PC端和手机端的同步，并且PC端可以直接通过浏览器插件使用，使我在手机和电脑上都可以查看消息。</p>
<p><code>RSSHub Radar</code> 的出现，完美解决了不是所有的网页都提供RSS源这一痛点，它可以自动生成网站的RSS源以供订阅，非常方便。</p>
<p>我通过使用RSS来订阅我感兴趣的个人博客，我订阅的博客网站在 <code>Links</code> 页面下的 <a href="https://xancoding.cn/links/#blogs">Blogs</a> 那一栏。</p>
<h1 id="podcast">Podcast</h1>
<p>播客也是一个很好的信息源，可以在做一些不用🧠的事时听，适合用来拓宽自己的知识面，对一些自己之前完全没有接触过的领域做一个初步的了解，抑或是单纯用以放松也不错。我的使用场景通常是在吃饭或是上下课的路上。</p>
<p>我目前在使用的播客软件是<a href="https://www.xiaoyuzhoufm.com/">小宇宙</a>，体验不错。</p>
<h1 id="read-books">Read-books</h1>
<h2 id="pc">PC</h2>
<p><code>Neat Reader</code> 是一款<code>EPUB</code>阅读器，用以阅读EPUB格式的电子书，体验感不错。我会在 <a href="https://zh.z-lib.org/">Z-Library</a> or <a href="https://lorefree.com/">LoreFree</a>  or <a href="https://www.jiumodiary.com/">Jiumo Search 鸠摩搜索</a> 上搜索得到我想要看的书的EPUB格式的电子书后，存在本地文件上，通过 <a href="https://www.neat-reader.com/">Neat Reader</a> 阅读</p>
<p>插一句， Z-lib 还有 Android app，可以直接传输到邮箱📫中</p>
<p>
<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2022/10/30/635e1cf8284ec.png">
<img src="https://bu.dusays.com/2022/10/30/635e1cf8284ec.png" alt="neatReader"  />
</a>
</div>

</p>
<p>如果找不到EPUB格式的书籍，我会存 PDF 格式的，然后在 <a href="https://www.sumatrapdfreader.org/free-pdf-reader">Sumatra PDF</a> 上阅读</p>
<h2 id="android">Android</h2>
<ul>
<li><a href="https://weread.qq.com/">https://weread.qq.com/</a></li>
</ul>
<p>手机上的话，我会使用微信读书，把找到的电子书上传到书架后进行阅读</p>
<h2 id="纸质书">纸质书</h2>
<p>不过，相比于电子书，我其实还是更喜欢纸质书的阅读体验。所以，我也会隔段时间便去拿着自己的书单，去学校的图书馆找书看（当然，并不是每次图书馆都有我想要的书😭）</p>
<h1 id="chatgpt--search-engine">ChatGPT &amp; Search-engine</h1>
<ul>
<li><code>Chrome &amp; AdblockPlus &amp; uBlacklist | Personal Blocklist &amp; ChatGPT for Google &amp; Vimium</code></li>
<li><strong>在搜索引擎体验上， Google （强推，体验极佳） &gt; Bing （偶尔用用） &raquo; Baidu （完全不考虑）</strong></li>
<li><a href="https://zhuanlan.zhihu.com/p/589201080">ChatGPT 使用指南</a></li>
<li><a href="https://www.instructables.com/How-to-Properly-Use-a-Search-Engine/"># How to Properly Use a Search Engine</a></li>
<li><a href="http://haoeric.github.io/Google-search-grammar/">Practical Google Search Tips</a></li>
<li><a href="https://program-think.blogspot.com/2013/03/internet-resource-discovery-0.html">如何挖掘网络资源[0]：为啥要写这个话题？</a>
<ol>
<li><a href="https://program-think.blogspot.com/2013/03/internet-resource-discovery-1.html">如何挖掘网络资源[1]：网站的类型和使用场景</a></li>
<li><strong><a href="https://program-think.blogspot.com/2013/03/internet-resource-discovery-2.html">如何挖掘网络资源[2]：Google 搜索的基本语法</a></strong></li>
<li><strong><a href="https://program-think.blogspot.com/2013/03/internet-resource-discovery-3.html">如何挖掘网络资源[3]：解答 Google 搜索的常见问题（FAQs）</a></strong></li>
</ol>
</li>
</ul>
<hr>
<h2 id="chrome-plugins">Chrome plugins</h2>
<h3 id="adblock-plus---free-ad-blocker">Adblock Plus - free ad blocker</h3>
<p><code>AdblockPlus</code> 由用户手动设置拦截网页上不想看到的内容，我使用这个插件把一些网站我不想要看到的内容进行屏蔽，以获得更为简洁的体验</p>
<p>小声BB：启动这个插件，在使用过程中，可能会碰到部分网页显示异常的情况，这个时候需要把该网页加入白名单来保证网页正常显示

<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2022/11/14/6371b54d0642a.png">
<img src="https://bu.dusays.com/2022/11/14/6371b54d0642a.png" alt="3"  />
</a>
</div>

</p>
<h3 id="chatgpt-for-google">ChatGPT for Google</h3>
<p>使用 Google 搜索时，右侧便会自动出现chatGPT的回答，如搜索<code>C++虚函数是什么？</code>，就会出现如下所示的结果：

<div class="post-img-view">
<a data-fancybox="gallery" href="https://bu.dusays.com/2023/01/13/63c0cda30c70c.png">
<img src="https://bu.dusays.com/2023/01/13/63c0cda30c70c.png" alt="Snipaste_2023-01-13_11-18-47.png"  />
</a>
</div>

</p>
<h3 id="global-speed">Global Speed</h3>
<p>使用键盘调节视频的播放速度，脱离鼠标的使用</p>
<h3 id="idm-integration-module">IDM Integration Module</h3>
<p>使用 <code>IDM</code> 下载文件</p>
<h3 id="language-reactor"><strong>Language Reactor</strong></h3>
<p>学习外语</p>
<h3 id="vimium-c---all-by-keyboard--pdf-viewer-for-vimium-c">Vimium C - All by Keyboard &amp; PDF Viewer for Vimium C</h3>
<p>它提供了类Vim操作来控制浏览器网页。熟练掌握后，可以脱离鼠标，只使用键盘浏览页面</p>
<p>这个插件我已经有一篇<a href="https://xancoding.cn/posts/vimium/">文章</a>进行更为详细的讲解了，这里就不再展开来说了</p>
<h3 id="personal-blocklist">Personal Blocklist</h3>
<p>在搜索时屏蔽特定网站，做到对低质内容的过滤</p>
<h3 id="rss-reader-extension-by-inoreader">RSS Reader Extension (by Inoreader)</h3>
<p>Build your own newsfeed</p>
<h3 id="scispace-copilot"><strong>SciSpace Copilot</strong></h3>
<p>Your AI research assistant for understanding scientific literature.</p>
<h3 id="zotero-connector">Zotero Connector</h3>
<p>Save references to Zotero from your web browser</p>
<h3 id="划词翻译">划词翻译</h3>
<p>一站式划词 / 截图 / 网页全文 / 音视频翻译扩展</p>
<h3 id="easyscholar">easyScholar</h3>
<p>显示期刊等级</p>
<h3 id="heading"></h3>
<h1 id="推荐阅读">推荐阅读</h1>
<ul>
<li><a href="https://catcoding.me/p/get-better-info/">优化自己的信息源</a></li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>Hello World</title>
      <link>https://xancoding.cn/posts/2022-10-12-07-27-58/</link>
      <pubDate>Wed, 12 Oct 2022 07:27:58 +0800</pubDate>
      
      <guid>https://xancoding.cn/posts/2022-10-12-07-27-58/</guid>
      <description>&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;int&lt;/span&gt; main() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    printf(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;Hello, World&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt;(&lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;int&lt;/span&gt; main() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    std::cout &amp;lt;&amp;lt; &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;Hello World&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ff0;font-weight:bold&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;class&lt;/span&gt; Main {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;void&lt;/span&gt; main(String[] args) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        System.&lt;span style=&#34;color:#007f7f&#34;&gt;out&lt;/span&gt;.&lt;span style=&#34;color:#007f7f&#34;&gt;println&lt;/span&gt;(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;Hello, World!&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;Hello, World&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Hello, World
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-JavaScript&#34; data-lang=&#34;JavaScript&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;document&lt;/span&gt;.write(&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#39;Hello, World&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#fff;font-weight:bold&#34;&gt;print&lt;/span&gt; (&lt;span style=&#34;color:#0ff;font-weight:bold&#34;&gt;&amp;#34;Hello, World&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
      <content:encoded><![CDATA[<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">int</span> main() {
</span></span><span style="display:flex;"><span>    printf(<span style="color:#0ff;font-weight:bold">&#34;Hello, World&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span>(<span style="color:#ff0;font-weight:bold">0</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">int</span> main() {
</span></span><span style="display:flex;"><span>    std::cout &lt;&lt; <span style="color:#0ff;font-weight:bold">&#34;Hello World&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#ff0;font-weight:bold">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;Hello, World!&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">echo</span> <span style="color:#0ff;font-weight:bold">&#34;Hello, World&#34;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>Hello, World
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-JavaScript" data-lang="JavaScript"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">document</span>.write(<span style="color:#0ff;font-weight:bold">&#39;Hello, World&#39;</span>);
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span> (<span style="color:#0ff;font-weight:bold">&#34;Hello, World&#34;</span>)
</span></span></code></pre></div>]]></content:encoded>
    </item>
    
  </channel>
</rss>
